export const PROCESSOR = `(()=>{function C(s){return Object.keys(s).map(o=>{let{min:e,max:n,def:t}=s[o];return{name:o,minValue:e,maxValue:n,defaultValue:t,automationRate:"k-rate"}})}var x=Math.PI,w=2*x,D=x*x,i=1e-9,g=Math.max;var E=4/x,L=-4/D;var l=5/12,y=Math.pow(10,-1/l),I=1/(1-y),j=1/(1+l*Math.log10(1+y)),U=1/(1+-Math.pow(10,-1/l)),R=l*Math.log10(1+y),V=1/(-l*Math.log10(y)+R);function f(s,o,e){return Math.max(o,Math.min(e,s))}function M(s){let o=0,e=0,n=0;return{setTau(t){n=t/(t+s)},setCutoff(t){n=1-t/s},process(t){return o=n*e+(1-n)*t,e=o,o}}}function O(s){let o=!1,e=!1,n=!1,t=new Trigger,c=0,m=0,u=0,p=0,r=M(s),a=0;function A(b,P,k,h,N){o=b>=1,t.process(b)&&(e=!0,n=!0),u=h,c=f(P,i,10),m=f(k,i,10),p=f(N,i,10)}function d(){return n?(o?e?(r.setTau(c),a=r.process(1),a>=1-.001&&(e=!1)):(r.setTau(m),a=a<u+.001?u:r.process(u)):(r.setTau(p),a=r.process(0),a<=.001&&(n=!1)),a):0}return{setParams:A,process:d}}function $(s){let o=!1,e=!1,n=!1,t=new Trigger,c=0,m=0,u=0,p=0,r=0;function a(d,b,P,k,h){o=d>=1,t.process(d)&&(e=!0,n=!0),u=k,c=f(1/(i+s*b),i,.5),m=g(-.5,(u-1)/(i+s*P)),p=g(-1,-(u+i)/(i+s*h))}function A(){return n?(o?e?(r+=c,r>=1&&(r=1,e=!1)):r<u+.001?r=u:r+=m:(r+=p,r<=p&&(n=!1)),r):0}return{setParams:a,process:A}}var S={gate:{min:0,max:1,def:0},attack:{min:0,max:10,def:.01},decay:{min:0,max:10,def:.1},sustain:{min:0,max:1,def:.5},release:{min:0,max:10,def:.3}},W=C(S),T=class extends AudioWorkletProcessor{constructor(e){super();this.#e(e.processorOptions.type==="linear"?"linear":"exp"),this.port.onmessage=n=>{let t=n.data.type==="linear"?"linear":"exp";this.t!==t&&this.#e(t)}}#e(e){this.t=e,this.p=e==="linear"?$(sampleRate):O(sampleRate)}process(e,n,t){this.p.setParams(t.gate[0],t.attack[0],t.decay[0],t.sustain[0],t.release[0]);let c=e[0],m=n[0],u=Math.min(c.length,m.length);if(u===0)return!0;let p=c[0].length;for(let r=0;r<p;r++)for(let a=0;a<u;a++)m[a][r]=c[a][r]*this.p.process();return!0}static get parameterDescriptors(){return W}};registerProcessor("AdsrWorklet",T);})();`;
