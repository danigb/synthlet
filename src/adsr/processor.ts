export const PROCESSOR = `(()=>{function M(s){return Object.keys(s).map(o=>{let{min:e,max:n,def:t}=s[o];return{name:o,minValue:e,maxValue:n,defaultValue:t,automationRate:"k-rate"}})}var y=Math.PI,E=2*y,R=y*y,u=1e-9,T=Math.max;var L=4/y,I=-4/R;var d=5/12,h=Math.pow(10,-1/d),j=1/(1-h),U=1/(1+d*Math.log10(1+h)),V=1/(1+-Math.pow(10,-1/d)),S=d*Math.log10(1+h),v=1/(-d*Math.log10(h)+S);function f(s,o,e){return Math.max(o,Math.min(e,s))}function O(s){let o=0,e=0,n=0;return{setTau(t){n=t/(t+s)},setCutoff(t){n=1-t/s},process(t){return o=n*e+(1-n)*t,e=o,o}}}var l=class{constructor(){this.hi=!1}process(o,e=0,n=1){return this.hi=o<=e?!1:o>=n?!0:this.hi,this.hi}};function $(s){let o=!1,e=!1,n=!1,t=new l,c=0,m=0,i=0,p=0,r=O(s),a=0;function A(x,P,k,g,D){o=x>=1,t.process(x)&&(e=!0,n=!0),i=g,c=f(P,u,10),m=f(k,u,10),p=f(D,u,10)}function b(){return n?(o?e?(r.setTau(c),a=r.process(1),a>=1-.001&&(e=!1)):(r.setTau(m),a=a<i+.001?i:r.process(i)):(r.setTau(p),a=r.process(0),a<=.001&&(n=!1)),a):0}return{setParams:A,process:b}}function N(s){let o=!1,e=!1,n=!1,t=new l,c=0,m=0,i=0,p=0,r=0;function a(b,x,P,k,g){o=b>=1,t.process(b)&&(e=!0,n=!0),i=k,c=f(1/(u+s*x),u,.5),m=T(-.5,(i-1)/(u+s*P)),p=T(-1,-(i+u)/(u+s*g))}function A(){return n?(o?e?(r+=c,r>=1&&(r=1,e=!1)):r<i+.001?r=i:r+=m:(r+=p,r<=p&&(n=!1)),r):0}return{setParams:a,process:A}}var W={gate:{min:0,max:1,def:0},attack:{min:0,max:10,def:.01},decay:{min:0,max:10,def:.1},sustain:{min:0,max:1,def:.5},release:{min:0,max:10,def:.3}},F=M(W),C=class extends AudioWorkletProcessor{constructor(e){super();this.#e(e?.processorOptions?.type==="linear"?"linear":"exp"),this.port.onmessage=n=>{let t=n.data?.type==="linear"?"linear":"exp";this.t!==t&&this.#e(t)}}#e(e){this.t=e,this.p=e==="linear"?N(sampleRate):$(sampleRate),this.p.setParams(0,.01,.1,.5,.3)}process(e,n,t){this.p.setParams(t.gate[0],t.attack[0],t.decay[0],t.sustain[0],t.release[0]);let c=e[0],m=n[0],i=Math.min(c.length,m.length);if(i===0)return!0;let p=c[0].length;for(let r=0;r<p;r++)for(let a=0;a<i;a++)m[a][r]=c[a][r]*this.p.process();return!0}static get parameterDescriptors(){return F}};registerProcessor("AdsrWorklet",C);})();`;
