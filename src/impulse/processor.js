export const PROCESSOR = `(()=>{function l(a){return Object.keys(a).map(e=>{let{min:t,max:s,defaultValue:r}=a[e];return{name:e,minValue:t,maxValue:s,defaultValue:r,automationRate:"k-rate"}})}var m={freq:{min:0,max:1e4,defaultValue:1}},o=class{constructor(e){this.sampleRate=e,this.dt=1/e,this.phase=1-this.dt,this.freq=1}setParams(e){this.freq=e}fillControl(e){let t=this.phase+this.dt*this.freq*e.length;t>=1?(e[0]=1,this.phase=t%1):(e[0]=0,this.phase=t)}fillBuffer(e){let t=this.phase,s=e.length;for(let r=0;r<s;r++)t+=this.dt*this.freq,t>=1?(e[r]=1,t-=1):e[r]=0;this.phase=t}};var f=l(m),i=class extends AudioWorkletProcessor{constructor(){super();this.impulse=new o(sampleRate)}process(t,s,r){let p=r.freq[0];this.impulse.setParams(p);let u=s[0];for(let n=0;n<u.length;n++)this.impulse.fillControl(u[n]);return!0}static get parameterDescriptors(){return f}};registerProcessor("ImpulseWorklet",i);})();`;
