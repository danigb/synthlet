export const PROCESSOR = `"use strict";(()=>{function u(e){return 2*e-1}function P(e=5/12){let n=Math.pow(10,-1/e),t=e*Math.log10(1+n),r=1/(-e*Math.log10(n)+t);return s=>{if(s>=1)return 1;if(s<=0)return 0;let l=-e*r*Math.log10(1-s+n)+t;return Math.max(0,Math.min(1,l))}}function S(){let e=w();return(n,t)=>{let r=e;return t<n&&(e=w()),r}}function q(){let e=!0;return(n,t)=>{let r=e?1:0;return e=t<n,r}}var d=P(),A=q(),b=e=>Math.sin(e*2*Math.PI),D=e=>1-2*Math.abs(u(e)),T=e=>u(e),k=e=>-u(e),E=e=>e<=.5?1:-1,w=()=>u(Math.random()),F=e=>u(d(e)),H=e=>u(d(1-e)),I=e=>u(d(Math.abs(u(e)))),U=S();function x(e,n=1){let t=1/e,r=[A,b,D,T,k,E,F,H,I,U],s=n,l=10,p=1,m=0,h=r[n]??b,c=0;function G(a){a.waveform[0]!==s&&(s=a.waveform[0],h=r[Math.floor(s)]??b),l=a.frequency[0],m=a.offset[0],p=a.gain[0]}function M(a,g){G(g);let o=c+a.length*t*l;o>=1&&(o-=1);let i=h(c,o)*p+m;a.fill(i),c=o}function R(a,g){G(g);for(let o=0;o<a.length;o++){let i=c+t*l;i>=1&&(i-=1),a[o]=h(c,i)*p+m,c=i}}return{kgen:M,agen:R}}var y=class extends AudioWorkletProcessor{static get parameterDescriptors(){return[["waveform",1,0,9],["frequency",10,0,200],["gain",1,0,1e4],["offset",0,-1e3,1e3]].map(([n,t,r,s])=>({name:n,defaultValue:t,minValue:r,maxValue:s,automationRate:"k-rate"}))}r;u;constructor(n){super();let t=n?.processorOptions?.waveform??1;this.u=x(sampleRate,t),this.r=!0,this.port.onmessage=r=>{switch(r.data.type){case"DISCONNECT":this.r=!1;break}}}process(n,t,r){return this.u.kgen(t[0][0],r),this.r}};registerProcessor("LfoProcessor",y);})();`;
