export const PROCESSOR = `"use strict";(()=>{function u(e){return 2*e-1}function P(e=5/12){let t=Math.pow(10,-1/e),n=e*Math.log10(1+t),r=1/(-e*Math.log10(t)+n);return s=>{if(s>=1)return 1;if(s<=0)return 0;let l=-e*r*Math.log10(1-s+t)+n;return Math.max(0,Math.min(1,l))}}function R(){let e=x();return(t,n)=>{let r=e;return n<t&&(e=x()),r}}function S(){let e=!0;return(t,n)=>{let r=e?1:0;return e=n<t,r}}var G=P(),q=()=>0,A=S(),b=e=>Math.sin(e*2*Math.PI),D=e=>1-2*Math.abs(u(e)),k=e=>u(e),E=e=>-u(e),F=e=>e<=.5?1:-1,x=()=>u(Math.random()),I=e=>u(G(e)),U=e=>u(G(1-e)),$=e=>u(G(Math.abs(u(e)))),H=R();function M(e,t=1){let n=1/e,r=[q,b,D,k,E,F,I,U,$,H,A],s=t,l=10,m=1,h=0,g=r[t]??b,c=0;function f(a){a.waveform[0]!==s&&(s=a.waveform[0],g=r[Math.floor(s)]??b),l=a.frequency[0],h=a.offset[0],m=a.gain[0]}function v(a,p){f(p);let o=c+a.length*n*l;o>=1&&(o-=1);let i=g(c,o)*m+h;a.fill(i),c=o}function w(a,p){f(p);for(let o=0;o<a.length;o++){let i=c+n*l;i>=1&&(i-=1),a[o]=g(c,i)*m+h,c=i}}return{kgen:v,agen:w}}var d=class extends AudioWorkletProcessor{static get parameterDescriptors(){return[["waveform",1,0,100],["frequency",10,0,200],["gain",1,0,1e4],["offset",0,-1e3,1e3]].map(([t,n,r,s])=>({name:t,defaultValue:n,minValue:r,maxValue:s,automationRate:"k-rate"}))}r;u;constructor(t){super(),this.u=M(sampleRate,0),this.r=!0,this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(t,n,r){return this.u.kgen(n[0][0],r),this.r}};registerProcessor("LfoProcessor",d);})();`;
