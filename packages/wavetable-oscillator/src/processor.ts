export const PROCESSOR = `"use strict";(()=>{function F(l){let e=220,r=440,a=.005,o=new Float32Array(0),n=0,i=0,s=0,u=0,c=0,b=2,q=W(l),d=P();function A(t){(t.frequency[0]!==r||t.baseFrequency[0]!==e)&&(e=t.baseFrequency[0],r=t.frequency[0],b=r/e),a=t.morphFrequency[0]}function V(t,m){o=t,n=Math.min(m,t.length),i=Math.floor(t.length/n),s=0,u=(s+1)%i}function x(t,m){if(n===0||i===0){t.fill(0);return}A(m);for(let f=0;f<t.length;f++){let h=q(a),p=g(o,n,s,c);if(u!==s){let k=g(o,n,u,c);t[f]=(1-h)*p+h*k}else t[f]=p;c+=b,c>=n&&(c-=n),c<0&&(c+=n),d(h)&&(s=u,u=(u+1)%i)}}return{agen:x,set:V}}function g(l,e,r,a){let o=Math.floor(a),n=a-o,i=(o+1)%e,s=l[r*e+o],u=l[r*e+i];return s+(u-s)*n}function W(l){let e=1/l,r=0;return a=>{for(r+=a*e;r>=1;)r-=1;for(;r<0;)r+=1;return r}}function P(){let l=0,e=!1;return function(a){let n=Math.abs(a-l)>.5;return l=a,a===0||e===!0?(e=!1,!1):(e=n,n)}}var y=class extends AudioWorkletProcessor{static parameterDescriptors=[{name:"baseFrequency",defaultValue:220,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"frequency",defaultValue:440,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"morphFrequency",defaultValue:.05,minValue:0,maxValue:10,automationRate:"k-rate"}];u;r;constructor(){super(),this.u=F(sampleRate),this.r=!0,this.port.onmessage=e=>{switch(e.data.type){case"WAVETABLE":this.u.set(e.data.wavetable,e.data.length);break;case"DISPOSE":this.r=!1;break}}}process(e,r,a){return this.u.agen(r[0][0],a),this.r}};registerProcessor("WavetableOscillatorWorkletProcessor",y);})();`;
