export const PROCESSOR = `"use strict";(()=>{function U(D){let m=0,T=0,r=[0,0],t=[0,0],a=[0,0],f=[0,0],l=Math.min(192e3,Math.max(1,D)),o=6.2831855/l,u=6/l,p=2/l;return{update:b,process:d};function b(n,s){m=n,T=s}function d(n,s){let h=m,e=Math.tan(o*Math.pow(10,u*h+1)),S=e+1,w=e/S,c=e*e,i=e*(1-.25*w)+1,y=S*i,A=.25*(c/y)+1,R=e/i,M=e*(1-.25*R)+1,x=i*M,g=.25*(c/x)+1,F=e/M,C=.5*F,H=e*(1-C)+1,P=17-9.7*Math.pow(p*h,10),k=24.293*T+-.00010678119,O=(.5*(c/(M*H))+1)/(.0051455377*(e*e*e*e*P*k/(y*M*H))+1),Y=P*k/S,Z=.02058215*R,_=.5*w,$=.02058215*F,ee=.5*R,te=.0051455377*(e*e*e/(x*H)),le=1/M,oe=.5*(e/H),fe=1/i,re=1/S,v=2*w;for(let K=0;K<n.length;K++){let I=Math.max(-1,Math.min(1,100*n[K])),Q=_*r[1]+t[1],z=ee*Q,E=z+a[1],B=F*E+f[1],G=O*(1.5*I*(1-.33333334*(I*I))-Y*(.0411643*r[1]+Z*Q+$*E+te*B))+le*(E+oe*B)-f[1],J=.5*(g*(f[1]+w*G)+fe*(Q+C*E))-a[1],L=.5*(A*(a[1]+w*J)+re*(r[1]+z))-t[1],N=.5*(t[1]+w*L)-r[1],ae=r[1]+w*N;r[0]=r[1]+v*N,t[0]=t[1]+v*L,a[0]=a[1]+v*J,f[0]=f[1]+v*G,s[K]=ae,r[1]=r[0],t[1]=t[0],a[1]=a[0],f[1]=f[0]}}}function W(D,m){let T=0,r=0,t=0,a=0,f=0,l=0,o=[0,0],u=[0,0],p=[0,0];return r=Math.min(192e3,Math.max(1,D)),t=6.2831855/r,a=6/r,{update:d,process:m===1?s:n};function d(h,e){f=h,l=e}function n(h,e){let S=Math.tan(t*Math.pow(10,a*f+1)),w=S+1,c=S/w,i=9.293*l+-.00010678119,y=1-c,A=1/(1-.21521823*(S*i*y/w)),R=1/w,M=.21521823*i*y,x=2*c,g=.21521823*i;for(let F=0;F<h.length;F++){let C=h[F]-p[1],H=A*(p[1]+R*(S*C+M*o[1]-u[1]))-o[1],P=o[1]+c*H,k=P;o[0]=o[1]+x*H,u[0]=u[1]+x*(g*P-u[1]),p[0]=p[1]+x*C,e[F]=k,o[1]=o[0],u[1]=u[0],p[1]=p[0]}}function s(h,e){let S=Math.tan(t*Math.pow(10,a*f+1)),w=9.293*l+-.00010678119,c=S+1,i=S/c,y=1-.21521823*(S*w*(1-i)/c),A=1/y,R=1/c,M=2*i,x=.21521823*(w/y);for(let g=0;g<h.length;g++){let F=h[g],C=F-p[1],H=F-(p[1]+R*(S*C-o[1]+i*u[1])),P=A*H,k=x*H,O=k-u[1];o[0]=o[1]+M*(k-(i*O+o[1]+u[1])),u[0]=u[1]+M*O,p[0]=p[1]+M*C,e[g]=P,o[1]=o[0],u[1]=u[0],p[1]=p[0]}}}function V(D){let m=0,T=0,r=0,t=[0,0],a=[0,0],f=[0,0],l=[0,0];return T=3.1415927/Math.min(192e3,Math.max(1,D)),{update:o,process:u};function o(p,b){m=p,r=b}function u(p,b){let d=Math.tan(T*m),n=d+1,s=d/n,h=24.293*r+-.00010678119,e=.1646572*h*(1-s),S=1/(.1646572*(d*d*d*d*h/(n*n*n*n))+1),w=2*s;for(let c=0;c<p.length;c++){let i=S*(p[c]-e*(l[1]+s*(f[1]+s*(a[1]+s*t[1]))))-t[1];t[0]=t[1]+w*i;let y=t[1]+s*i-a[1];a[0]=a[1]+w*y;let A=a[1]+s*y-f[1];f[0]=f[1]+w*A;let R=f[1]+s*A-l[1];l[0]=l[1]+w*R;let M=l[1]+s*R;b[c]=M,t[1]=t[0],a[1]=a[0],f[1]=f[0],l[1]=l[0]}}}function X(D){let m=0,T=0,r=0,t=0,a=0,f=[0,0],l=[0,0],o=[0,0];return T=Math.min(192e3,Math.max(1,D)),r=6/T,t=6.2831855/T,{update:u,process:p};function u(b,d){m=b,a=d}function p(b,d){let n=Math.tan(t*Math.pow(10,r*m+1)),s=n+1,h=n/s,e=2*h,S=e+-1,w=.0823286*(n*S/s),c=.0823286*S,i=24.293*a+-.00010678119,y=i/s,A=1/(.0823286*(n*n*i*S/(s*s))+1);for(let R=0;R<b.length;R++){let M=A*(b[R]-y*(.1646572*f[1]+c*l[1]+w*o[1]))-o[1],x=o[1]+h*M-l[1],g=l[1]+h*x,F=g-f[1];f[0]=f[1]+e*F,l[0]=l[1]+e*x,o[0]=o[1]+e*M;let C=2*(f[1]+h*F)-g;d[R]=C,f[1]=f[0],l[1]=l[0],o[1]=o[0]}}}function q(D,m){let T=0,r=0,t=0,a=0,f=0,l=[0,0],o=[0,0];return T=Math.min(192e3,Math.max(1,D)),r=6.2831855/T,t=6/T,m=m,{update:u,process:p};function u(b,d){a=b,f=d}function p(b,d){let n=Math.tan(r*Math.pow(10,t*a+1)),s=1/(29.293*f+.707)+n,h=n*s+1,e=n/h,S=1/h,w=2*n;for(let c=0;c<b.length;c++){let i=b[0]-(l[1]+s*o[1]),y=e*i,A=Math.max(-1,Math.min(1,o[1]+y)),R=A*(1-.33333334*(A*A)),M=n*R,x=l[1]+M,g=S*i,F=g,C=R,H=M+l[1]+g;l[0]=l[1]+w*R,o[0]=y+R,d[c]=m==1?F:m==2?C:m==3?H:x,l[1]=l[0],o[1]=o[0]}}}var j=class extends AudioWorkletProcessor{r;t;p;d;constructor(){super(),this.r=!0,this.p=[V(sampleRate),X(sampleRate),W(sampleRate,0),W(sampleRate,1),U(sampleRate),q(sampleRate,0),q(sampleRate,1),q(sampleRate,2),q(sampleRate,3)],this.t=0,this.d=this.p[0],this.port.onmessage=m=>{switch(m.data.type){case"DISPOSE":this.r=!1;break}}}process(m,T,r){let t=Math.floor(r.type);return this.t!==t&&(this.t=t,this.d=this.p[t]||this.p[0]),m[0].length===0?this.r:(this.d.update(r.frequency[0],r.resonance[0]),this.d.process(m[0][0],T[0][0]),this.r)}static get parameterDescriptors(){return[["type",0,0,8],["frequency",1e3,20,2e4],["Q",.8,0,1]].map(([m,T,r,t])=>({name:m,defaultValue:T,minValue:r,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("VAFProcessor",j);})();`;
