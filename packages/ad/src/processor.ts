export const PROCESSOR = `"use strict";(()=>{var M=class extends AudioWorkletProcessor{r;d;constructor(){super(),this.r=!0,this.d=O(sampleRate,.01,.1),this.port.onmessage=t=>{switch(t.data.type){case"DISCONNECT":this.r=!1;break}}}process(t,o,r){return this.d.update(r.trigger[0],r.attack[0],r.decay[0]),this.d.gen(o[0][0]),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["attack",.01,0,10],["decay",.1,0,10]].map(([t,o,r,p])=>({name:t,defaultValue:o,minValue:r,maxValue:p,automationRate:"k-rate"}))}};registerProcessor("AdProcessor",M);function O(s,t,o){let u=!1,E=t,i=o,h=Math.exp(-1/(E*s)),D=Math.exp(-1/(i*s)),l=0,n=0;return{update(c,e,a){c===1?u||(console.log("trigger",c),u=!0,l=1):u=!1,e!==E&&(E=e,h=Math.exp(-1/(Math.max(E,.001)*s))),a!==i&&(i=a,D=Math.exp(-1/(Math.max(i,.001)*s)))},gen(c){let e=0;for(let a=0;a<c.length;a++){switch(l){case 1:e=h*n+(1-h),e-n<=5e-8&&(l=2),n=e;break;case 2:e=D*n,n=e,e<=5e-8&&(l=0);break;case 0:default:e=0;break}c[a]=e}}}}})();`;
