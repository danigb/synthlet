export const PROCESSOR = `"use strict";(()=>{var D=class extends AudioWorkletProcessor{r;d;constructor(){super(),this.r=!0,this.d=b(sampleRate,.01,.1),this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(r,s,e){return this.d.update(e.trigger[0],e.attack[0],e.decay[0]),this.d.gen(s[0][0],e.offset[0],e.gain[0]),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["attack",.01,0,10],["decay",.1,0,10],["offset",0,0,2e4],["gain",1,0,1e4]].map(([r,s,e,O])=>({name:r,defaultValue:s,minValue:e,maxValue:O,automationRate:"k-rate"}))}};registerProcessor("AdProcessor",D);function b(a,r,s){let f=!1,o=r,c=s,h=Math.exp(-1/(o*a)),d=Math.exp(-1/(c*a)),i=0,n=0;return{update(E,u,l){E===1?f||(f=!0,i=1):f=!1,u!==o&&(o=u,h=Math.exp(-1/(Math.max(o,.001)*a))),l!==c&&(c=l,d=Math.exp(-1/(Math.max(c,.001)*a)))},gen(E,u,l){let t=0;for(let M=0;M<E.length;M++){switch(i){case 1:t=h*n+(1-h),t-n<=5e-8&&(i=2),n=t;break;case 2:t=d*n,n=t,t<=5e-8&&(i=0);break;case 0:default:t=0;break}E[M]=u+t*l}}}}})();`;
