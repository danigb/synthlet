export const PROCESSOR = `"use strict";(()=>{var p=class extends AudioWorkletProcessor{r;d;constructor(){super(),this.r=!0,this.d=O(sampleRate,.01,.1),this.port.onmessage=t=>{switch(t.data.type){case"DISCONNECT":this.r=!1;break}}}process(t,o,a){return this.d.update(a.gate[0],a.attack[0],a.decay[0]),this.d.gen(o[0][0]),this.r}static get parameterDescriptors(){return[["gate",0,0,1],["attack",.01,0,10],["decay",.1,0,10]].map(([t,o,a,M])=>({name:t,defaultValue:o,minValue:a,maxValue:M,automationRate:"k-rate"}))}};registerProcessor("ADProcessor",p);function O(s,t,o){let u=!1,c=t,E=o,h=Math.exp(-1/(c*s)),D=Math.exp(-1/(E*s)),i=0,n=0;return{update(l,e,r){l===1?u||(u=!0,i=1):u=!1,e!==c&&(c=e,h=Math.exp(-1/(Math.max(c,.01)*s))),r!==E&&(E=r,D=Math.exp(-1/(Math.max(E,.01)*s)))},gen(l){let e=0;for(let r=0;r<l.length;r++){switch(i){case 1:e=h*n+(1-h),e-n<=5e-8&&(i=2),n=e;break;case 2:e=D*n,n=e,e<=5e-8&&(i=0);break;case 0:default:e=0;break}l[r]=e}}}}})();`;
