"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{1987:function(e,t,r){r.d(t,{AttackDecayExample:function(){return u}});var n=r(7949),a=r(1471),o=r(6265),s=r(2209),i=r(9237);let l=e=>{let t=(0,s.KM)(e),r=t.param(),n=t.param(),a=t.param();return t.synth({out:t.conn.serial(t.osc.sin(t.env.ad(r,{attack:a,decay:n,offset:440,gain:2e3})),t.amp(.2)),params:{trigger:r,attack:a,decay:n}})};function u(){let[e,t]=(0,o.useState)(!1);return e?(0,n.jsx)(c,{onClose:()=>t(!1)}):(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:()=>t(!0),children:"Open example"})}function c(e){let{onClose:t}=e,r=(0,i.Z)(l);return r?(0,n.jsxs)("div",{className:"bg-fd-card text-fd-foreground p-2 border rounded",children:[(0,n.jsx)("div",{className:"text-xl mb-4",children:"AttackDecay generator example"}),(0,n.jsx)("div",{className:"flex ",children:(0,n.jsx)(a.i,{label:"Attack",labelClassName:"w-20 text-right mr-2",min:0,max:1,step:.001,param:r.attack})}),(0,n.jsx)("div",{className:"flex ",children:(0,n.jsx)(a.i,{label:"Decay",labelClassName:"w-20 text-right mr-2",min:0,max:1,step:.001,param:r.decay})}),(0,n.jsx)("div",{className:"flex mb-4",children:(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{r.trigger.value=1},onMouseUp:()=>{r.trigger.value=0},children:"Trigger"})}),(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:t,children:"Close"})]}):null}},7028:function(e,t,r){var n=r(7949),a=r(2209),o=r(2576),s=r(1471),i=r(9237);function l(e){let t=(0,a.dO)(e,{input:60}),r=(0,a.SU)(e,{bpm:t});return Object.assign((0,a.m7)(e,{trigger:r}),{bpm:t.input})}function u(){let e=(0,i.Z)(l);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,n.jsx)(s.i,{label:"Tempo",inputClassName:"col-span-2",min:1,max:1e3,units:"bpm",param:e.bpm})}),(0,n.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,n.jsx)(s.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,units:"dB",param:e.volume})})]}):null}t.default=()=>(0,n.jsx)(o.Yt,{label:"Clock",children:(0,n.jsx)(u,{})})},5011:function(e,t,r){var n=r(7949),a=r(1471),o=r(6265),s=r(2209),i=r(2576),l=r(9237);let u={KickDrum:s.nl,SnareDrum:s.vD,ClaveDrum:s.m7,HiHatDrum:s.VR,CowBellDrum:s.Dr,CymbalDrum:s.e2,MaracasDrum:s._K,HandclapDrum:s.NR,TomDrum:s.IL,CongaDrum:s.q1};class c{getNames(){return Object.keys(u)}getSynth(e){if(!this.synths.has(e)){console.log("CREATE SYNTH",e);let t=u[e];if(!t)throw Error("Unknown instrument: ".concat(e));let r=t(this.context);r.connect(this.output),this.synths.set(e,Object.assign(r,{name:e}))}return this.synths.get(e)}dispose(){for(let e of this.synths.values())e.dispose()}constructor(e){this.context=e,this.output=e.createGain(),this.synths=new Map,this.connect=this.output.connect.bind(this.output)}}function p(e){let{}=e,t=(0,l.Z)(e=>new c(e)),[r,s]=(0,o.useState)(null);return t?(0,n.jsxs)(n.Fragment,{children:[r&&(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[(0,n.jsx)("div",{className:"col-span-4 font-bold border-b",children:r.name.slice(0,-4)}),(0,n.jsx)(a.i,{label:"Tone",inputClassName:"col-span-2",min:0,max:1,step:.01,param:r.tone}),(0,n.jsx)(a.i,{label:"Decay",inputClassName:"col-span-2",min:0,max:1,step:.01,param:r.decay}),(0,n.jsx)(a.i,{label:"Volume",inputClassName:"col-span-2",min:-60,max:0,step:1,units:"dB",param:r.volume})]}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:t.getNames().map(e=>(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onMouseDown:()=>{let r=t.getSynth(e);r.trigger.value=1,s(r)},onMouseUp:()=>{let r=t.getSynth(e);r.trigger.value=0,s(r)},children:e.slice(0,-4)},e))})]}):null}t.default=()=>(0,n.jsx)(i.Yt,{label:"Drums",children:(0,n.jsx)(p,{})})},4951:function(e,t,r){var n=r(7949),a=r(2209),o=r(2576),s=r(1471),i=r(9237);let l=e=>{let t=(0,a.KM)(e).use({clave:a.m7,kick:a.nl}),r=t.param(100),n=t.clock({bpm:r}),o=t.param.db(-12),s=t.clave({trigger:t.euclid({clock:n,steps:16,beats:7,subdivison:4,rotation:3}),volume:o}),i=t.kick({trigger:t.euclid({clock:n,steps:16,beats:5,subdivison:4}),volume:o});return t.withParams(t.conn([s,i],t.gain()),{bpm:r,volume:o})};function u(){let e=(0,i.Z)(l);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,n.jsx)(s.i,{label:"Tempo",inputClassName:"col-span-2",min:1,max:1e3,param:e.bpm,units:"bpm"})}),(0,n.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,n.jsx)(s.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,param:e.volume,units:"dB"})})]}):null}t.default=()=>(0,n.jsx)(o.Yt,{label:"Euclid",children:(0,n.jsx)(u,{})})},2152:function(e,t,r){r.d(t,{ImpulseExample:function(){return l}});var n=r(7949),a=r(2209),o=r(2576),s=r(9237);let i=e=>{let t=(0,a.KM)(e),r=t.param();return t.synth({out:t.impulse.trigger(r),params:{trigger:r}})};function l(){let e=(0,s.Z)(i);return e?(0,n.jsx)(o.Yt,{label:"Impulse",children:(0,n.jsx)("div",{className:"flex ",children:(0,n.jsx)(o.yR,{trigger:e.trigger})})}):null}},8773:function(e,t,r){r.d(t,{default:function(){return c}});var n=r(7949),a=r(2209),o=r(1471);function s(e){let{adsr:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.i,{label:"Attack",inputClassName:"col-span-2",min:.1,max:10,step:.1,param:t.attack,units:"secs"}),(0,n.jsx)(o.i,{label:"Decay",inputClassName:"col-span-2",min:.1,max:10,step:.1,param:t.decay,units:"secs"}),(0,n.jsx)(o.i,{label:"Sustain",inputClassName:"col-span-2",min:.1,max:1,step:.01,param:t.sustain}),(0,n.jsx)(o.i,{label:"Release",inputClassName:"col-span-2",min:.1,max:100,step:.2,param:t.release,units:"secs"})]})}var i=r(2576),l=r(9237);function u(){let e=(0,l.Z)(e=>(0,a.op)(e));return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.UC,{label:"Oscillator",paneClassName:"grid grid-cols-4 gap-2",children:[(0,n.jsx)(o.i,{label:"Frequency",inputClassName:"col-span-2",min:20,max:3e3,param:e.frequency}),(0,n.jsx)(o.i,{label:"Vibrato depth",inputClassName:"col-span-2",max:20,param:e.vibrato.gain}),(0,n.jsx)(o.i,{label:"Vibrato freq",inputClassName:"col-span-2",min:0,max:100,param:e.vibrato.frequency})]}),(0,n.jsx)(i.UC,{label:"Filter",paneClassName:"grid grid-cols-4 gap-2",children:(0,n.jsx)(s,{adsr:e.filterEnv})}),(0,n.jsx)(i.UC,{label:"Amplifier",paneClassName:"grid grid-cols-4 gap-2",children:(0,n.jsx)(s,{adsr:e.amp})}),(0,n.jsx)("div",{className:"flex mt-2",children:(0,n.jsx)(i.Gp,{gate:e.gate})}),(0,n.jsx)("div",{className:"grid grid-cols-4 mt-4 pt-2 border-t",children:(0,n.jsx)(o.i,{label:"Volume",inputClassName:"col-span-2",min:-48,max:0,units:"dB",param:e.volume})})]}):null}var c=()=>(0,n.jsx)(i.Yt,{label:"Mono Synth",children:(0,n.jsx)(u,{})})},4702:function(e,t,r){r.r(t);var n=r(7949),a=r(6265),o=r(2209),s=r(2576),i=r(1471),l=r(9237);function u(e){let t=(0,o.KM)(e),r=t.param.db(-100),n=t.param(o.Z9.White);return t.withParams(t.conn.serial(t.noise({type:n}),t.amp(r)),{volume:r,noiseType:n})}function c(){let[e,t]=(0,a.useState)(o.Z9.White),r=(0,l.Z)(u);return r?(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,n.jsx)("div",{children:"Noise type:"}),(0,n.jsxs)("select",{value:e,onChange:e=>{let n=parseInt(e.target.value);t(n),r.noiseType.value=n},children:[(0,n.jsx)("option",{value:o.Z9.White,children:"White"}),(0,n.jsx)("option",{value:o.Z9.Pink,children:"Pink"})]}),(0,n.jsx)("div",{className:"col-span-2"}),(0,n.jsx)(i.i,{label:"Volume",inputClassName:"col-span-2",min:-100,max:0,param:r.volume,units:"dB"})]}):null}t.default=()=>(0,n.jsx)(s.Yt,{label:"Noise",children:(0,n.jsx)(c,{})})},6036:function(e,t,r){var n=r(7949),a=r(2209),o=r(2576),s=r(1471),i=r(9237);function l(e){let t=(0,a.KM)(e),r=t.param(),n=t.param(a.Eb.SAWTOOTH),o=t.param(200),s=t.param.db(-100);return t.withParams(t.conn.serial(t.polyblep({type:n,frequency:o}),t.amp.adsr(r),t.amp(s)),{gate:r,type:n,frequency:o,volume:s})}function u(){let e=(0,i.Z)(l);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,n.jsx)(s.i,{label:"Frequency",inputClassName:"col-span-2",min:20,max:3e3,units:"Hz",param:e.frequency}),(0,n.jsx)("div",{className:"flex col-span-4",children:(0,n.jsx)(o.Gp,{gate:e.gate})})]}),(0,n.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,n.jsx)(s.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,param:e.volume,units:"dB"})})]}):null}t.default=()=>(0,n.jsx)(o.Yt,{label:"Polyblep oscillator",children:(0,n.jsx)(u,{})})},4802:function(e,t,r){var n=r(7949),a=r(2209),o=r(2576),s=r(9237);let i=e=>{let t=(0,a.KM)(e),r=t.param();return t.withParams(t.conn.serial(t.noise.white(),t.amp.adsr(r)),{gate:r})};function l(){let e=(0,s.Z)(i);return e?(0,n.jsx)("div",{className:"flex ",children:(0,n.jsx)(o.Gp,{gate:e.gate})}):null}t.default=()=>(0,n.jsx)(o.Yt,{label:"VCA",children:(0,n.jsx)(l,{})})},6683:function(e,t,r){var n=r(7949),a=r(6265),o=r(2209),s=r(2576),i=r(1471),l=r(9237);let u=()=>e=>{let t=(0,o.KM)(e),r=t.param(),n=t.param(440),a=t.param.db(-24),s=t.wt();return s.loadWavetable("ACCESS_V"),Object.assign(t.withParams(t.conn.serial(s,t.amp.adsr(r),t.amp(a)),{freq:n,volume:a,gate:r}),{osc:s})};function c(){let[e,t]=(0,a.useState)("ACCESS_V"),[r,c]=(0,a.useState)([]);(0,a.useEffect)(()=>{(0,o.Xi)().then(e=>{e.sort(),c(e)})},[]);let p=(0,l.Z)(u());return p?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,n.jsx)("div",{className:"text-right",children:"Wavetable"}),(0,n.jsx)("select",{className:"col-span-2 bg-zinc-900 p-1 rounded border-zinc-300",value:e,onChange:e=>{t(e.target.value),p.osc.loadWavetable(e.target.value)},children:r.map(e=>(0,n.jsx)("option",{children:e},e))}),(0,n.jsx)("div",{}),(0,n.jsx)(i.i,{label:"Morph freq",labelClassName:"text-right",inputClassName:"col-span-2",min:0,max:10,step:.1,param:p.osc.morphFrequency})]}),(0,n.jsx)("div",{className:"flex mt-4",children:(0,n.jsx)(s.Gp,{gate:p.gate})}),(0,n.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,n.jsx)(i.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,units:"dB",param:p.volume})})]}):null}t.default=()=>(0,n.jsx)(s.Yt,{label:"Wavetable",children:(0,n.jsx)(c,{})})},2576:function(e,t,r){r.d(t,{Gp:function(){return l},UC:function(){return s},Yt:function(){return o},yR:function(){return i}});var n=r(7949),a=r(6265);function o(e){let{label:t,header:r,children:o}=e,[s,i]=(0,a.useState)(!1);return s?(0,n.jsxs)("div",{className:"bg-fd-card text-fd-foreground p-2 border rounded",children:[(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsxs)("div",{className:"text-xl mb-4 flex-grow",children:[t," example"]}),r,(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:()=>{i(!1)},children:"Close"})]}),o]}):(0,n.jsx)("div",{className:"flex items-center gap-4",children:(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary text-nowrap",onClick:()=>{i(!0)},children:"Open example"})})}function s(e){let{label:t,children:r,paneClassName:o}=e,[s,i]=(0,a.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"bold mt-4 border-b mb-1",children:(0,n.jsxs)("button",{onClick:()=>{i(!s)},children:[t,(0,n.jsx)("span",{className:"text-xs ml-2",children:s?"▼":"▶"})]})}),s&&(0,n.jsx)("div",{className:o,children:r})]})}function i(e){let{trigger:t}=e;return(0,n.jsx)("div",{className:"flex mb-4",children:(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{t.value=1},onMouseUp:()=>{t.value=0},children:"Trigger"})})}function l(e){let{gate:t}=e,[r,o]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1);return(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{let e=!r||!s;i(e),t.value=e?1:0},onMouseUp:()=>{r||(i(!1),t.value=0)},children:"Gate"}),(0,n.jsxs)("label",{children:[(0,n.jsx)("input",{className:"mr-1",type:"checkbox",checked:r,onChange:()=>{o(!r)}}),"Sustain"]})]})}},1471:function(e,t,r){r.d(t,{i:function(){return o}});var n=r(7949),a=r(6265);function o(e){let{label:t,min:r=0,max:o=1,step:s,transform:i=e=>e,inputClassName:l,labelClassName:u,valueClassName:c,param:p,units:d}=e,[f,m]=(0,a.useState)(p.value);return(0,a.useEffect)(()=>{m(p.value)},[p]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:u,children:t}),(0,n.jsx)("input",{className:l,type:"range",min:r,max:o,step:null!=s?s:"any",value:f,onChange:e=>{let t=e.target.valueAsNumber;m(t),p.value=i(t)}}),(0,n.jsxs)("div",{className:c,children:[i(f).toFixed(2),d]})]})}},9237:function(e,t,r){let n;r.d(t,{Z:function(){return s}});var a=r(2209),o=r(6265);function s(e){let[t,r]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let t;console.log("useSynth connecting");let o=!1;return(n||(n=(0,a.Yy)(new AudioContext)),n).then(n=>{o||((t=e(n)).connect(n.destination),console.log("useSynth connected",t),r(t))}),()=>{o=!0,console.log("useSynth dispose",t),null==t||t.dispose()}},[]),t}},2209:function(e,t,r){let n,a;r.d(t,{m7:function(){return eF},SU:function(){return J},q1:function(){return eK},Dr:function(){return eT},e2:function(){return eG},NR:function(){return eZ},VR:function(){return eB},nl:function(){return eq},_K:function(){return eH},op:function(){return eQ},Z9:function(){return eu},dO:function(){return em},Eb:function(){return eh},vD:function(){return eU},IL:function(){return eY},Xi:function(){return eS},KM:function(){return eI},Yy:function(){return eX}});var o,s,i,l,u,c,p,d,f,m,h,g,b,v,y,x,k,N,O,w,j,P,A,_,S,R,M,E,W,C,D,I,V,L,q,U,F=(c='"use strict";(()=>{var M=class extends AudioWorkletProcessor{r;d;constructor(){super(),this.r=!0,this.d=O(sampleRate),this.port.onmessage=a=>{switch(a.data.type){case"DISPOSE":this.r=!1;break}}}process(a,n,t){return this.d.update(t.trigger[0],t.attack[0],t.decay[0]),this.d.gen(n[0][0],t.offset[0],t.gain[0]),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["attack",.01,0,10],["decay",.1,0,10],["offset",0,0,2e4],["gain",1,0,1e4]].map(([a,n,t,d])=>({name:a,defaultValue:n,minValue:t,maxValue:d,automationRate:"k-rate"}))}};registerProcessor("AdProcessor",M);function O(l){let D=l*.05,g=l*.1,u=!1,E=.1,f=.1,h=Math.exp(-1/(.1*D)),A=Math.exp(-1/(.1*g)),r=0,s=0;return{update(o,c,i){if(o===1?u||(u=!0,r=1):u=!1,c!==E){E=c;let e=Math.max(E*D,.001);h=Math.exp(-1/e)}if(i!==f){f=i;let e=Math.max(f*g,.001);A=Math.exp(-1/e)}},gen(o,c,i){let e=0;for(let p=0;p<o.length;p++)r===1?(e=h*s+(1-h),e-s<=5e-8&&(r=2),s=e):r===2?(e=A*s,s=e,e<=5e-8&&(r=0)):e=0,o[p]=c+e*i}}}})();',function(e){let t="__AD__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([c],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),B=(p={processorName:"AdProcessor",paramNames:["trigger","attack","decay","offset","gain"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,p.processorName,p.workletOptions(n));a.__PROCESSOR_NAME__=p.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,p.paramNames,n);return null===(t=p.postCreate)||void 0===t||t.call(p,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});function T(e){return function(t){var r;let n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=new AudioWorkletNode(t,e.processorName,e.workletOptions(a));o.__PROCESSOR_NAME__=e.processorName;let s=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(o,e.paramNames,a);return null===(r=e.postCreate)||void 0===r||r.call(e,o),n=!1,Object.assign(o,{dispose(){var e,t;if(!n&&(n=!0,o.disconnect(),null===(e=o.port)||void 0===e||e.postMessage({type:"DISPOSE"}),s))for(;s.length;){let e=s.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}}var G=["gate","attack","decay","sustain","release","offset","gain"],H=(d='"use strict";(()=>{function I(){let u=!1;return r=>{if(u===!1&&r>=.9)return u=!0,!0;if(u===!0&&r<.1)return u=!1,!1}}function D(u){let r=Math.exp(-1.5),n=Math.exp(-4.95),s=0,o=0,l=0,b=0,p={b:0,c:0},y={b:0,c:0},A={b:0,c:0},x=I(),f=0,e=0;return k(.01,.1,.5,.3),function(a,i,c,m){F(m);let P=m.offset[0],R=m.gain[0];for(let d=0;d<i.length;d++){switch(f){case 1:e=p.b+e*p.c,(e>=1||s<=0)&&(e=1,f=2);break;case 2:e=y.b+e*y.c,(e<=b||o<=0)&&(e=b,f=3);break;case 3:e=b;break;case 4:e=A.b+e*A.c,(e<=0||l<=0)&&(e=0,f=0)}let S=c?a[d]*e:e;i[d]=S*R+P}};function F(t){k(t.attack[0],t.decay[0],t.sustain[0],t.release[0]);let a=x(t.gate[0]);a===!0?f=1:a===!1&&(f=4)}function k(t,a,i,c){(b!==i||o!==a)&&(b=i,o=a,h(y,o,b,n)),s!==t&&(s=t,h(p,s,1+2*r,r)),l!==c&&(l=c,h(A,l,0,n))}function h(t,a,i,c){let m=a*u;t.c=Math.exp(-Math.log((1+c)/c)/m),t.b=(i-c)*(1-t.c)}}var g=class extends AudioWorkletProcessor{p;r=!0;m;constructor(r){super(),this.m=r.processorOptions.mode==="modulator",this.p=D(sampleRate),this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(r,n,s){let o=this.m?r[0][0]:void 0,l=n[0][0];return this.p(o,l,this.m,s),this.r}static get parameterDescriptors(){return[["gate",0,0,1],["attack",.01,0,10],["decay",.1,0,10],["sustain",.5,0,1],["release",.3,0,100],["offset",0,0,2e4],["gain",1,-2e4,2e4]].map(([r,n,s,o])=>({name:r,defaultValue:n,minValue:s,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("AdsrProcessor",g);})();',function(e){let t="__ADSR__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([d],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),Z=T({processorName:"AdsrProcessor",paramNames:G,workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1,processorOptions:{mode:"generator"}})}),Y=T({processorName:"AdsrProcessor",paramNames:G,workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,processorOptions:{mode:"modulator"}})}),K=(f='"use strict";(()=>{function P(r){let e=S(),o=S(),t=S(),s=S(),a=.5,c=.83,b=7,d=k(r,1,a,b),g=k(r,0,a,b),u=k(r,0,c,b),m=k(r,1,c,b),i=!0,h=!0;return{update(p,y,n,f){i=p===1,h=y===1,n!==a&&(a=n,d.setLfoRate(n),g.setLfoRate(n)),f!==c&&(c=f,u.setLfoRate(f),m.setLfoRate(f))},process(p,y){let n=p[0],f=p.length>1?p[1]:n;for(let l=0;l<n.length;l++){let L=n[l],R=f[l],x=L,A=R;i&&(x=e.process(d.process(x)),A=o.process(g.process(A))),h&&(x=t.process(u.process(x)),A=s.process(m.process(A))),y[0][l]=L+1.4*x,y[1][l]=R+1.4*A}}}}function S(){let r=0,e=0,t=.999-.01*.4;return{process(s){let a=s-r+t*e;return r=s,e=a,a}}}function F(r=.99){let e=r*.98,o=e*e*e*e,t=0,s=1/4294967295;return{tick(a){let c=1-o*a+o*t+s;return t=c,c}}}function k(r,e,o,t){let s=0,a=0,c=e*2-1,b=4*o/r,d=1,g=Math.floor(r*t*.001)+1,u=g+2e3,m=new Float32Array(u).fill(0),i=u-1,h=0,p=F(.99);function y(){return c>=1&&(d=-1),c<=-1&&(d=1),c+=d*b,c}return{setLfoRate(n){b=4*n/r},process(n){n=n*.2;let f=(.3*y()+.4)*g,l=i-Math.floor(f);l<0&&(l+=u);let L=l-1;L<0&&(L+=u);let R=f-Math.floor(f);return h=m[L]+m[l]*(1-R)-(1-R)*s,s=h,h=p.tick(h),m[i]=n,i++,i>=u&&(i=0),h}}}var C=class extends AudioWorkletProcessor{r;p;constructor(){super(),this.r=!0,this.p=P(sampleRate),this.port.onmessage=e=>{switch(e.data.type){case"DISPOSE":this.r=!1;break}}}process(e,o,t){if(!(e.length<1||o.length<1))if(t.bypass[0]===1){let s=e[0].length===1;o[0][1].set(e[0][0]),o[0][0].set(e[0][s?0:1])}else this.p.update(t.enable1[0],t.enable2[0],t.lfoRate1[0],t.lfoRate2[0]),this.p.process(e[0],o[0]);return this.r}static get parameterDescriptors(){return[["bypass",0,0,1],["enable1",1,0,1],["enable2",1,0,1],["lfoRate1",.5,0,1],["lfoRate2",.83,0,1]].map(([e,o,t,s])=>({name:e,defaultValue:o,minValue:t,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("ChorusTWorkletProcessor",C);})();',function(e){let t="__CHORUS__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([f],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),z=(m={processorName:"ChorusTWorkletProcessor",paramNames:["bypass","enable1","enable2","lfoRate1","lfoRate2"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1}),postCreate(e){e.setBypass=t=>{e.bypass.value=t?1:0}}},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,m.processorName,m.workletOptions(n));a.__PROCESSOR_NAME__=m.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,m.paramNames,n);return null===(t=m.postCreate)||void 0===t||t.call(m,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),Q=((h=Q||{})[h.Bypass=0]="Bypass",h[h.Tanh=1]="Tanh",h),X=(g='"use strict";(()=>{function i(e){switch(e){case 1:return f;case 0:default:return h}}var h=e=>e,f=Math.tanh;var p=class extends AudioWorkletProcessor{r;g;t;fn;constructor(){super(),this.r=!0,this.g=!1,this.t=0,this.fn=i(0),this.port.onmessage=s=>{switch(s.data.type){case"DISPOSE":this.r=!1;break}}}process(s,n,t){this.t!==t.type[0]&&(this.t=t.type[0],this.fn=i(this.t));let o=t.preGain[0],c=t.postGain[0],a=s[0][0],u=n[0][0];if(a&&u)for(let r=0;r<a.length;r++)u[r]=this.fn(a[r]*o)*c;return this.r}static get parameterDescriptors(){return[["type",0,0,10],["preGain",1,0,10],["postGain",1,0,10]].map(([s,n,t,o])=>({name:s,defaultValue:n,minValue:t,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("ClipAmpProcessor",p);})();',function(e){let t="__CLIP_AMP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([g],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),$=(b={processorName:"ClipAmpProcessor",paramNames:["type","preGain","postGain"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,b.processorName,b.workletOptions(n));a.__PROCESSOR_NAME__=b.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,b.paramNames,n);return null===(t=b.postCreate)||void 0===t||t.call(b,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),J=(v={processorName:"ClockWorkletProcessor",paramNames:["bpm"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,v.processorName,v.workletOptions(n));a.__PROCESSOR_NAME__=v.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,v.paramNames,n);return null===(t=v.postCreate)||void 0===t||t.call(v,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ee=(y='"use strict";(()=>{var i=class extends AudioWorkletProcessor{r;bpm;i;p;constructor(){super(),this.r=!0,this.bpm=120,this.i=this.bpm/60/sampleRate,this.p=0,this.port.onmessage=s=>{switch(s.data.type){case"DISPOSE":this.r=!1;break}}}process(s,e,r){r.bpm[0]!==this.bpm&&(this.bpm=r.bpm[0],this.i=this.bpm/60/sampleRate);let t=this.p+e[0][0].length*this.i;t>1&&(t-=1);let a=t<this.p?1:this.p;return e[0][0].fill(a),this.p=t,this.r}static get parameterDescriptors(){return[["bpm",120,0,1e3]].map(([s,e,r,t])=>({name:s,defaultValue:e,minValue:r,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("ClockWorkletProcessor",i);})();',function(e){let t="__CLOCK__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([y],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),et=(x='"use strict";(()=>{var l=class extends AudioWorkletProcessor{r;g;u;constructor(){super(),this.r=!0;let[e,t]=m();this.g=e,this.u=t,this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(e,t,r){return this.u(r.steps[0],r.beats[0],r.rotation[0]),this.g(t[0][0],r.clock[0],r.subdivision[0]),this.r}static get parameterDescriptors(){return[["clock",0,0,1],["steps",0,0,100],["beats",0,0,100],["subdivision",1,1,20],["rotation",0,0,100]].map(([e,t,r,o])=>({name:e,defaultValue:t,minValue:r,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("EuclidProcessor",l);function m(){let n=1,e=1,t=0,r=[1],o=0,u=0;function b(i,s,c){let a=s*c;for(;a>1;)a-=1;let d=a<o;o=a,d&&(u=(u+1)%r.length),i.fill(r[u])}function p(i,s,c){(n!==i||e!==s||t!==c)&&(n=i,e=s,t=c,r=h(f(n,e),t))}return[b,p]}function f(n,e){let t=[],r=-1;for(let o=0;o<n;o++){let u=Math.floor(o*(e/n));t[o]=u!==r?1:0,r=u}return t}function h(n,e){let t=n.length;return t===0||e===0?n:(e=e%t,e<0&&(e=t+e),n.slice(-e).concat(n.slice(0,t-e)))}})();',function(e){let t="__EUCLID__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([x],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),er=(k={processorName:"EuclidProcessor",paramNames:["clock","steps","beats","subdivision","rotation"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,k.processorName,k.workletOptions(n));a.__PROCESSOR_NAME__=k.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,k.paramNames,n);return null===(t=k.postCreate)||void 0===t||t.call(k,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),en=(N='"use strict";(()=>{var s=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=!1,this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(r,e,t){return e[0][0].fill(0),t.trigger[0]===1?this.g||(this.g=!0,e[0][0][0]=1):this.g=!1,this.r}static get parameterDescriptors(){return[["trigger",0,0,1]].map(([r,e,t,a])=>({name:r,defaultValue:e,minValue:t,maxValue:a,automationRate:"k-rate"}))}};registerProcessor("ImpulseProcessor",s);})();',function(e){let t="__IMPULSE__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([N],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),ea=(O={processorName:"ImpulseProcessor",paramNames:["trigger"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,O.processorName,O.workletOptions(n));a.__PROCESSOR_NAME__=O.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,O.paramNames,n);return null===(t=O.postCreate)||void 0===t||t.call(O,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eo=((w=eo||{})[w.None=0]="None",w[w.Sine=1]="Sine",w[w.Triangle=2]="Triangle",w[w.RampUp=3]="RampUp",w[w.RampDown=4]="RampDown",w[w.Square=5]="Square",w[w.ExpRampUp=6]="ExpRampUp",w[w.ExpRampDown=7]="ExpRampDown",w[w.ExpTriangle=8]="ExpTriangle",w[w.RandSampleHold=9]="RandSampleHold",w[w.Impulse=10]="Impulse",w);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5/12,t=Math.pow(10,-1/e)}(),n=!0,(e,t)=>{let r=n?1:0;return n=t<e,r};var es=()=>2*Math.random()-1;a=es(),(e,t)=>{let r=a;return t<e&&(a=es()),r};var ei=(j='"use strict";(()=>{function c(e){return 2*e-1}function v(e=5/12){let n=Math.pow(10,-1/e),t=e*Math.log10(1+n),r=1/(-e*Math.log10(n)+t);return s=>{if(s>=1)return 1;if(s<=0)return 0;let l=-e*r*Math.log10(1-s+n)+t;return Math.max(0,Math.min(1,l))}}function A(){let e=M();return(n,t)=>{let r=e;return t<n&&(e=M()),r}}function S(){let e=!0;return(n,t)=>{let r=e?1:0;return e=t<n,r}}var d=v(),b=()=>0,q=S(),w=e=>Math.sin(e*2*Math.PI),D=e=>1-2*Math.abs(c(e)),E=e=>c(e),F=e=>-c(e),I=e=>e<=.5?1:-1,M=()=>c(Math.random()),U=e=>c(d(e)),$=e=>c(d(1-e)),H=e=>c(d(Math.abs(c(e)))),k=A();function R(e,n){let t=1/e,r=[b,w,D,E,F,I,U,$,H,k,q],s=1,l=10,m=1,h=0,p=r[1]??b,u=0;function x(a){a.type[0]!==s&&(s=a.type[0],p=r[Math.floor(s)]??b),l=a.frequency[0],h=a.offset[0],m=a.gain[0]}function P(a,g){x(g);let o=u+a.length*t*l;o>=1&&(o-=1);let i=p(u,o)*m+h;a.fill(i),u=o}function f(a,g){x(g);for(let o=0;o<a.length;o++){let i=u+t*l;i>=1&&(i-=1),a[o]=p(u,i)*m+h,u=i}}return n?f:P}var G=class extends AudioWorkletProcessor{r;g;constructor(n){super(),this.g=R(sampleRate,!1),this.r=!0,this.port.onmessage=t=>{switch(t.data.type){case"DISPOSE":this.r=!1;break}}}process(n,t,r){return this.g(t[0][0],r),this.r}static get parameterDescriptors(){return[["type",1,0,100],["frequency",10,0,200],["gain",1,0,1e4],["offset",0,-1e3,1e3]].map(([n,t,r,s])=>({name:n,defaultValue:t,minValue:r,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("LfoProcessor",G);})();',function(e){let t="__LFO__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([j],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),el=(P={processorName:"LfoProcessor",paramNames:["type","frequency","gain","offset"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,P.processorName,P.workletOptions(n));a.__PROCESSOR_NAME__=P.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,P.paramNames,n);return null===(t=P.postCreate)||void 0===t||t.call(P,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eu=((A=eu||{})[A.White=0]="White",A[A.Pink=1]="Pink",A),ec=(_='"use strict";(()=>{function g(o,t){switch(t){case 0:return b;case 1:return w();case 2:return k(o);default:return console.warn("Unknown noise type: "+t),b}}function b(o){for(let t=0;t<o.length;t++)o[t]=Math.random()*2-1}function k(o){let t=[0,0,0,0,0,0,0,0],n=[0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0],i=0,c=0,a=h=>Math.pow(10,h/20),u=h=>20*Math.log10(h),l=0,r=0,f=0,m=o/(2*Math.PI)-1;for(;m>1;)t[l]=2*Math.PI*m/o,m=m/4,l++;for(c=l;l-- >0;)n[l]=a(r),f+=a(r),r-=6;return i=a(-u(f)),h=>{for(let p=0;p<h.length;p++){let y=Math.random()*2-1,A=0;for(let s=0;s<c;s++)e[s]=t[s]*y+(1-t[s])*e[s],A+=e[s]*n[s];h[p]=A*i}}}function w(){let o=[3.8024,2.9694,2.597,3.087,3.4006],t=[.00198,.01478,.06378,.23378,.91578],n=15.8564,e=[0,0,0,0,0],i=0;return c=>{for(let a=0;a<c.length;a++){let u=Math.random(),l=Math.random();for(let r=0;r<5;r++)if(u<t[r]){i-=e[r],e[r]=2*(l-.5)*o[r],i+=e[r];break}c[a]=i/n}}}var d=class extends AudioWorkletProcessor{r;t;d;constructor(){super(),this.r=!0,this.t=0,this.d=g(sampleRate,0),this.port.onmessage=t=>{switch(t.data.type){case"DISPOSE":this.r=!1;break}}}process(t,n,e){return this.t!==e.type[0]&&(this.t=e.type[0],this.d=g(sampleRate,e.type[0])),this.d(n[0][0]),this.r}static get parameterDescriptors(){return[["type",0,0,100]].map(([t,n,e,i])=>({name:t,defaultValue:n,minValue:e,maxValue:i,automationRate:"k-rate"}))}};registerProcessor("NoiseWorkletProcessor",d);})();',function(e){let t="__NOISE__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([_],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),ep=(S={processorName:"NoiseWorkletProcessor",paramNames:["type"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,S.processorName,S.workletOptions(n));a.__PROCESSOR_NAME__=S.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,S.paramNames,n);return null===(t=S.postCreate)||void 0===t||t.call(S,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ed=((R=ed||{})[R.Bypass=0]="Bypass",R[R.DbToGain=1]="DbToGain",R[R.GainToDb=2]="GainToDb",R[R.Linear=3]="Linear",R),ef=(M='"use strict";(()=>{function o(t){switch(t){case 0:return u;case 1:return a;case 2:return b;case 3:return h;default:return u}}function u(t){return t}function a(t){return Math.pow(10,t/20)}function b(t){return 20*Math.log10(t)}function h(t,r,e){return r+t*(e-r)}var i=class extends AudioWorkletProcessor{r;s;c;constructor(){super(),this.r=!0,this.s=0,this.c=o(this.s),this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(r,e,n){this.s!==n.scale[0]&&(this.s=n.scale[0],this.c=o(this.s));let s=n.input[0]+n.mod[0],c=this.c(s,n.min[0],n.max[0])*n.gain[0]+n.offset[0];return e[0][0].fill(c),this.r}static get parameterDescriptors(){return[["scale",0,0,10],["input",0,-2e4,2e4],["offset",0,-2e4,2e4],["min",0,-2e4,2e4],["max",1,-2e4,2e4],["gain",1,-2e4,2e4],["mod",0,-2e4,2e4]].map(([r,e,n,s])=>({name:r,defaultValue:e,minValue:n,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("ParamProcessor",i);})();',function(e){let t="__PARAM__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([M],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),em=(E={processorName:"ParamProcessor",paramNames:["scale","input","offset","min","max","gain","mod"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,E.processorName,E.workletOptions(n));a.__PROCESSOR_NAME__=E.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,E.paramNames,n);return null===(t=E.postCreate)||void 0===t||t.call(E,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eh=((W=eh||{})[W.SAWTOOTH=0]="SAWTOOTH",W[W.SQUARE=1]="SQUARE",W[W.TRIANGLE=2]="TRIANGLE",W),eg=(C='"use strict";(()=>{function F(f){let a=1/f,i=0,o=440,t=0,s=o*a,h=0,N=Math.exp(-1/(.0025*f)),l=0,c=0,g=[R,S,p],m=g[0];return function(e,r,x){i!==r&&(i=r,m=g[i]??g[0]),o!==x&&(o=x,s=o*a),m(e)};function R(n){for(let e=0;e<n.length;e++)n[e]=t*2-1-u(t,s),t+=s,t>1&&(t-=1)}function S(n){for(let e=0;e<n.length;e++)n[e]=(t<.5?-1:1)-u(t,s)+u((t+.5)%1,s),t+=s,t>1&&(t-=1)}function p(n){for(let e=0;e<n.length;e++){let r=(t<.5?-1:1)-u(t,s)+u((t+.5)%1,s);r*=4/o,r+=h,h=r,c=r-l+N*c,l=r,n[e]=c*.8,t+=s,t>1&&(t-=1)}}function u(n,e){if(n<e){let r=n/e;return r+r-r*r-1}else if(n>1-e){let r=(n-1)/e;return r+r+r*r+1}else return 0}}var A=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=F(sampleRate),this.port.onmessage=a=>{switch(a.data.type){case"DISPOSE":this.r=!1;break}}}process(a,i,o){return i[0][0]&&this.g(i[0][0],o.type[0],o.frequency[0]),this.r}static get parameterDescriptors(){return[["type",0,0,2],["frequency",440,0,2e4]].map(([a,i,o,t])=>({name:a,defaultValue:i,minValue:o,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("PolyBLEProcessor",A);})();',function(e){let t="__POLY_BLEP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([C],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),eb=(D={processorName:"PolyBLEProcessor",paramNames:["type","frequency"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,D.processorName,D.workletOptions(n));a.__PROCESSOR_NAME__=D.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,D.paramNames,n);return null===(t=D.postCreate)||void 0===t||t.call(D,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ev=((I=ev||{})[I.ByPass=0]="ByPass",I[I.LowPass=1]="LowPass",I[I.BandPass=2]="BandPass",I[I.HighPass=3]="HighPass",I),ey=(V='"use strict";(()=>{function g(c,t,e){return Math.max(t,Math.min(e,c))}function q(c){let t=1e3,e=.5,n=0,s=.5/c,m=2*Math.PI,x=0,r=0,P=0,l=0,p=0,h=0,u=0,i=0;function A(o){if(n=o.type[0],o.frequency[0]!==t||o.resonance[0]!==e){t=o.frequency[0],e=o.resonance[0];let y=g(t,16,c/2),f=1/g(e,.025,40);r=2*c*Math.tan(m*s*y)*s,x=1/(1+f*r+r*r),P=r+f}}function b(o,y){for(let a=0;a<o.length;a++){let f=o[a];h=(f-P*l-p)*x,u=r*h+l,i=r*u+p,l=r*h+u,p=r*u+i,y[a]=n===1?i:n===2?h:n===3?u:f}}return{update:A,fill:b}}var d=class extends AudioWorkletProcessor{f;r;constructor(){super(),this.f=q(sampleRate),this.r=!0,this.port.onmessage=t=>{switch(t.data.type){case"STOP":this.r=!1;break}}}process(t,e,n){let s=t[0][0],m=e[0][0];return this.f.update(n),s&&m&&this.f.fill(s,m),this.r}static get parameterDescriptors(){return[["type",1,0,3],["frequency",1e3,20,2e4],["resonance",1,0,40]].map(([t,e,n,s])=>({name:t,defaultValue:e,minValue:n,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("StateVariableFilterWorkletProcessor",d);})();',function(e){let t="__SVF__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([V],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),ex=(L={processorName:"StateVariableFilterWorkletProcessor",paramNames:["type","frequency","resonance"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,L.processorName,L.workletOptions(n));a.__PROCESSOR_NAME__=L.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,L.paramNames,n);return null===(t=L.postCreate)||void 0===t||t.call(L,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ek=r(9802),eN=r(8336),eO=r(3793),ew=r(8672),ej=r(6117),eP=(o=new WeakMap,s=new WeakMap,i=new WeakMap,l=new WeakSet,u=class{static async fetchAvailableNames(){let e=await fetch("https://smpldsnds.github.io/wavedit-online/samples/files.json");if(!e.ok)throw Error("Failed to load wavetable list.");return await e.json()}onLoad(){return(0,ek._)(this,i)}getData(){return(0,ek._)(this,s)}static decodeWavetable(e){let t=new DataView(e),r=t.getUint16(20,!0),n=t.getUint32(24,!0),a=t.getUint16(22,!0),o=t.getUint16(34,!0),s=t.getUint32(40,!0);if(1!==r)throw Error("Invalid format. Only PCM supported.");if(1!==a)throw Error("Invalid format. Only mono supported.");let i=32===o,l=o/8,u=s/(l*a),c=new Float32Array(u);for(let e=0;e<u;e++)for(let r=0;r<a;r++){let n=44+(e*a+r)*l;c[e]=i?t.getFloat32(n,!0):t.getInt16(n,!0)/32768}return{sampleRate:n,data:c}}constructor(e,t){(0,ej._)(this,l),(0,eN._)(this,o,{writable:!0,value:void 0}),(0,eN._)(this,s,{writable:!0,value:void 0}),(0,eN._)(this,i,{writable:!0,value:void 0}),this.url=e,this.wavetableLength=t,(0,eO._)(this,i,(0,ew._)(this,l,eR).call(this))}}),eA=(q='"use strict";(()=>{function F(l){let e=220,r=440,a=.005,o=new Float32Array(0),n=0,i=0,s=0,u=0,c=0,b=2,q=W(l),d=P();function A(t){(t.frequency[0]!==r||t.baseFrequency[0]!==e)&&(e=t.baseFrequency[0],r=t.frequency[0],b=r/e),a=t.morphFrequency[0]}function V(t,m){o=t,n=Math.min(m,t.length),i=Math.floor(t.length/n),s=0,u=(s+1)%i}function x(t,m){if(n===0||i===0){t.fill(0);return}A(m);for(let f=0;f<t.length;f++){let h=q(a),p=g(o,n,s,c);if(u!==s){let k=g(o,n,u,c);t[f]=(1-h)*p+h*k}else t[f]=p;c+=b,c>=n&&(c-=n),c<0&&(c+=n),d(h)&&(s=u,u=(u+1)%i)}}return{agen:x,set:V}}function g(l,e,r,a){let o=Math.floor(a),n=a-o,i=(o+1)%e,s=l[r*e+o],u=l[r*e+i];return s+(u-s)*n}function W(l){let e=1/l,r=0;return a=>{for(r+=a*e;r>=1;)r-=1;for(;r<0;)r+=1;return r}}function P(){let l=0,e=!1;return function(a){let n=Math.abs(a-l)>.5;return l=a,a===0||e===!0?(e=!1,!1):(e=n,n)}}var y=class extends AudioWorkletProcessor{static parameterDescriptors=[{name:"baseFrequency",defaultValue:220,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"frequency",defaultValue:440,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"morphFrequency",defaultValue:.05,minValue:0,maxValue:10,automationRate:"k-rate"}];u;r;constructor(){super(),this.u=F(sampleRate),this.r=!0,this.port.onmessage=e=>{switch(e.data.type){case"WAVETABLE":this.u.set(e.data.wavetable,e.data.length);break;case"DISPOSE":this.r=!1;break}}}process(e,r,a){return this.u.agen(r[0][0],a),this.r}};registerProcessor("WavetableOscillatorWorkletProcessor",y);})();',function(e){let t="__WT__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([q],{type:"application/javascript"}),n=URL.createObjectURL(r),a=e.audioWorklet.addModule(n);return e[t]=a,a}),e_=(U={processorName:"WavetableOscillatorWorkletProcessor",paramNames:["baseFrequency","frequency","morphFrequency"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1}),postCreate(e){e.setWavetable=t=>{e.port.postMessage({type:"WAVETABLE",wavetable:t.data,length:t.length})},e.fetchWavetableNames=eS,e.loadWavetable=t=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return new eP(e.startsWith("http")?e:"https://smpldsnds.github.io/wavedit-online/samples/".concat(e.toUpperCase(),".WAV"),t).onLoad()})(t).then(t=>{e.setWavetable(t)})}},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new AudioWorkletNode(e,U.processorName,U.workletOptions(n));a.__PROCESSOR_NAME__=U.processorName;let o=function(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}(a,U.paramNames,n);return null===(t=U.postCreate)||void 0===t||t.call(U,a),r=!1,Object.assign(a,{dispose(){var e,t;if(!r&&(r=!0,a.disconnect(),null===(e=a.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});function eS(){return eP.fetchAvailableNames()}async function eR(){let e=await fetch(this.url);if(!e.ok)throw Error("Failed to load ".concat(this.url));let t=await e.arrayBuffer(),r=u.decodeWavetable(t);return(0,eO._)(this,o,r.sampleRate),(0,eO._)(this,s,r.data),{data:(0,ek._)(this,s),length:this.wavetableLength,sampleRate:(0,ek._)(this,o)}}function eM(e,t,r){let n=[];for(let a of t){e.parameters&&(e[a]=e.parameters.get(a));let t=e[a];if(!t)throw Error("Invalid param name: "+a);let o=r[a];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),n.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),n.push(r)}}return n}function eE(e,t){let r=!1;return Object.assign(e,{dispose(){var n,a;if(!r&&(r=!0,e.disconnect(),null===(n=e.port)||void 0===n||n.postMessage({type:"DISPOSE"}),t))for(;t.length;){let e=t.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(a=e.dispose)||void 0===a||a.call(e):e.disconnect():"function"==typeof e&&e()}}})}function eW(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new GainNode(e),n=eM(r,["gain"],t);return eE(r,n)}function eC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new OscillatorNode(e,{type:t.type});r.start();let n=eM(r,["frequency","detune"],t);return eE(r,n)}function eD(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new BiquadFilterNode(e,{type:t.type}),n=eM(r,["frequency","detune","Q","gain"],t);return eE(r,n)}function eI(e){return e.__synthlet||(e.__synthlet=function(e){let t=t=>r=>t(e,r),r=t(eW),n=t(eC),a=t(eD),o=t(B),s=t(Y),i=t(Z),l=t(z),u=t(J),c=t(er),p=t(ea),d=t(el),f=t(ep),m=t(eb),h=t(ex),g=t(em),b=t(e_),v=t($),y={param:Object.assign((e,t)=>g({input:e,...t}),{db:(e,t)=>g({scale:ed.DbToGain,input:e,...t}),lin:(e,t,r,n)=>g({scale:ed.Linear,input:r,min:e,max:t,...n}),add:(e,t,r)=>g({scale:ed.Bypass,input:t,offset:e,...r}),mul:(e,t,r)=>g({scale:ed.Bypass,input:t,gain:e,...r})}),conn:function(e){let t=(e,t)=>e.connect(t),r=e=>eL(e.reduce((e,t)=>(e.connect(t),t)),e),n=(e,t)=>(e.forEach(e=>e.connect(t)),eL(t,e));return Object.assign(function(e,a){for(var o=arguments.length,s=Array(o>2?o-2:0),i=2;i<o;i++)s[i-2]=arguments[i];if(!a){if(Array.isArray(e))throw Error("Connect in parallel requires a destination");return e}let l=Array.isArray(e)?n(e,a):t(e,a);return s.length>0?r([l,...s]):l},{pair:t,chain:r,mixInto:n,serial:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return r(t)},mix:function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return n(r,e())}})}(r),amp:Object.assign(e=>r({gain:e}),{adsr:(e,t)=>s({gate:e,...t}),perc:(e,t,n,a)=>r({gain:o({trigger:e,attack:t,decay:n,...a})})}),clock:Object.assign(u,{}),clip:Object.assign(v,{soft:(e,t)=>v({type:Q.Tanh,preGain:e,postGain:t})}),chorusT:Object.assign(l,{}),euclid:Object.assign(c,{}),impulse:Object.assign(p,{trigger:e=>p({trigger:e})}),lfo:Object.assign(d,{sin:(e,t)=>d({type:eo.Sine,frequency:e,...t}),tri:(e,t)=>d({type:eo.Triangle,frequency:e,...t}),rampUp:(e,t)=>d({type:eo.RampUp,frequency:e,...t}),rampDown:(e,t)=>d({type:eo.RampDown,frequency:e,...t}),square:(e,t)=>d({type:eo.Square,frequency:e,...t}),expRampUp:(e,t)=>d({type:eo.ExpRampUp,frequency:e,...t}),expRampDown:(e,t)=>d({type:eo.ExpRampDown,frequency:e,...t}),expTriangle:(e,t)=>d({type:eo.ExpTriangle,frequency:e,...t}),sh:(e,t)=>d({type:eo.RandSampleHold,frequency:e,...t}),impulse:(e,t)=>d({type:eo.Impulse,frequency:e,...t})}),noise:Object.assign(f,{white:()=>f({type:eu.White}),pink:()=>f({type:eu.Pink})}),polyblep:Object.assign(m,{}),svf:Object.assign(h,{lp:(e,t)=>h({type:ev.LowPass,frequency:e,...t}),hp:(e,t)=>h({type:ev.HighPass,frequency:e,...t}),bp:(e,t)=>h({type:ev.BandPass,frequency:e,...t})}),env:Object.assign(i,{adsr:(e,t)=>i({gate:e,...t}),ad:(e,t)=>o({trigger:e,...t})}),bqf:Object.assign(a,{lp:(e,t)=>a({type:"lowpass",frequency:e,...t}),hi:(e,t)=>a({type:"highpass",frequency:e,...t}),bandpass:(e,t)=>a({type:"bandpass",frequency:e,...t}),allpass:(e,t)=>a({type:"allpass",frequency:e,...t}),highshelf:(e,t)=>a({type:"highshelf",frequency:e,...t}),lowshelf:(e,t)=>a({type:"lowshelf",frequency:e,...t}),peak:(e,t)=>a({type:"peaking",frequency:e,...t}),notch:(e,t)=>a({type:"notch",frequency:e,...t})}),gain:e=>r({gain:e}),osc:Object.assign(n,{sin:(e,t)=>n({type:"sine",frequency:e,...t}),saw:(e,t)=>n({type:"sawtooth",frequency:e,...t}),square:(e,t)=>n({type:"square",frequency:e,...t}),tri:(e,t)=>n({type:"triangle",frequency:e,...t})}),wt:Object.assign(b,{}),withParams:eV,synth:e=>Object.assign(eV(e.out,e.params),e.modules),op:t=>r=>t(e,r)};return Object.assign(y,{use:t=>{let r={};for(let n in t)r[n]=r=>t[n](e,r);return Object.assign(y,r)}})}(e)),e.__synthlet}function eV(e,t){return Object.assign(eE(e,Object.values(t)),function(e){let t={};if(e)for(let r in e)t[r]=e[r].input;return t}(t))}function eL(e,t){let r=e.dispose,n=!1;return e.dispose=()=>{n||(n=!0,r(),t.forEach(e=>{"dispose"in e&&e.dispose()}))},e}var eq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.param.lin(20,100,n.tone),o=r.conn.serial(r.conn.mix(r.osc.sin(r.env.ad(n.trigger,{attack:.1,decay:n.decay,offset:a,gain:50})),r.impulse.trigger(n.trigger)),r.amp.perc(n.trigger,.01,n.decay),r.clip.soft(5,.6));return r.withParams(o,n)},eU=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.conn.mixInto([r.osc.sin(100),r.osc.sin(200)],r.amp.perc(n.trigger,.01,n.decay)),o=r.conn.serial(r.noise.white(),r.amp.perc(n.trigger,.01,n.decay)),s=r.conn.mixInto([a,o],r.gain(n.volume));return r.withParams(s,n)},eF=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.param.lin(2400,2500,n.tone),o=r.param.lin(1e3,3e3,n.tone);return r.withParams(r.conn.serial(r.osc.tri(a),r.amp.perc(n.trigger,.01,n.decay),r.bqf.bandpass(o),r.amp(n.volume)),n)},eB=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.param.lin(8e3,12e3,n.tone),o=r.param.add(-2e3,a),s=r.conn([263,400,421,474,587,845].map(e=>r.osc.square(e)),r.amp(.3));return r.withParams(r.conn(s,r.bqf.bandpass(a),r.bqf.hi(o),r.amp.perc(n.trigger,.01,n.decay),r.gain(n.volume)),n)},eT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),{trigger:n,decay:a,volume:o,tone:s}=ez(r,t),i=r.param.lin(700,900,s),l=r.param.lin(440,540,s),u=r.param.mul(.1,a),c=r.conn([r.conn.serial(r.osc.square(i),r.amp.perc(n,.001,a)),r.conn.serial(r.osc.square(l),r.amp.perc(n,.001,u))],r.amp(o));return r.withParams(c,{trigger:n,volume:o,tone:s,decay:a})},eG=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),{trigger:n,decay:a,volume:o,tone:s}=ez(r,t),i=r.param.lin(440,540,s),l=r.param.lin(600,1700,s),u=r.param.lin(2e3,5e3,s),c=r.param.mul(.5,a),p=r.param.mul(.2,a),d=r.param.mul(5,a),f=r.conn([263,400,421,474,587,845].map(e=>r.osc.square(e)),r.amp(.3)),m=r.conn([r.conn(f,r.bqf.lp(i),r.amp.perc(n,.001,c)),r.conn(f,r.bqf.bandpass(l),r.amp.perc(n,.001,p)),r.conn(f,r.bqf.hi(u),r.amp.perc(n,.001,d))],r.amp(o));return r.withParams(m,{trigger:n,volume:o,tone:s,decay:a})},eH=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.param.lin(4e3,6e3,n.tone),o=r.conn(r.noise.white(),r.bqf.hi(a),r.amp.perc(n.trigger,.02,n.decay),r.amp(n.volume));return r.withParams(o,n)},eZ=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.param.lin(500,1500,n.tone),o=r.conn([r.conn(r.noise.white(),r.bqf.bandpass(a),r.amp.perc(n.trigger,.02,n.decay),r.gain(r.lfo.rampUp(100))),r.impulse.trigger(n.trigger)],r.clip.soft(2,.5),r.gain(n.volume));return r.withParams(o,n)},eY=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.param.lin(125,240,n.tone),o=r.conn([r.conn(r.osc.sin(a),r.amp.perc(n.trigger,.01,n.decay)),r.conn(r.impulse.trigger(n.trigger),r.gain(.3)),r.conn(r.noise.pink(),r.amp.perc(n.trigger,.01,n.decay))],r.amp(n.volume));return r.withParams(o,n)},eK=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=eI(e),n=ez(r,t),a=r.param.lin(220,455,n.tone),o=r.conn([r.conn(r.osc.sin(a),r.amp.perc(n.trigger,.001,n.decay)),r.conn(r.impulse.trigger(n.trigger),r.gain(.3))],r.amp(1));return r.withParams(o,n)};function ez(e){var t,r,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.param(a.trigger);return{trigger:o,decay:e.param(null!==(t=a.decay)&&void 0!==t?t:.5),volume:e.param.db(null!==(r=a.volume)&&void 0!==r?r:0),tone:e.param(null!==(n=a.tone)&&void 0!==n?n:.5)}}function eQ(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=eI(e),o=a.param(n.gate),s=a.param(null!==(t=n.frequency)&&void 0!==t?t:440),i=a.lfo({type:eo.Sine,offset:s,gain:5,frequency:10}),l=a.param.db(null!==(r=n.volume)&&void 0!==r?r:0),u=a.polyblep({frequency:i}),c=a.env.adsr(o,{gain:3e3,offset:2e3}),p=a.svf({frequency:c}),d=a.amp.adsr(o);return a.synth({out:a.conn.serial(u,p,d,a.amp(l)),params:{gate:o,frequency:s,volume:l},modules:{osc:u,vibrato:i,filterEnv:c,filter:p,amp:d}})}function eX(e){return Promise.all([F(e),H(e),K(e),X(e),ee(e),et(e),en(e),eg(e),ei(e),ec(e),ef(e),ec(e),ey(e),eA(e)]).then(()=>e)}}}]);