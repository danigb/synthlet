"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[205],{7897:function(e,t,r){var a=r(7949),n=r(8098),o=r(2576),s=r(1471),i=r(9237);let l=e=>{let t=(0,n.KM)(e),r=t.param(),a=t.param(.01),o=t.param(.3);return t.withParams(t.conn.serial(t.osc.sin(440),t.amp.perc(r,a,o)),{trigger:r,attack:a,release:o})};function u(){let e=(0,i.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,a.jsx)(s.i,{label:"Attack",inputClassName:"col-span-2",param:e.attack}),(0,a.jsx)(s.i,{label:"Release",inputClassName:"col-span-2",max:5,param:e.release})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(o.yR,{trigger:e.trigger})})]}):null}t.default=()=>(0,a.jsx)(o.Yt,{label:"AD",children:(0,a.jsx)(u,{})})},1978:function(e,t,r){var a=r(7949),n=r(8098),o=r(2576),s=r(9237);let i=e=>{let t=(0,n.KM)(e),r=t.param();return t.withParams(t.conn.serial(t.osc.sin(440),t.amp.adsr(r)),{gate:r})};function l(){let e=(0,s.Z)(i);return e?(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(o.Gp,{gate:e.gate})}):null}t.default=()=>(0,a.jsx)(o.Yt,{label:"ADSR",children:(0,a.jsx)(l,{})})},2954:function(e,t,r){var a=r(7949),n=r(6265),o=r(8098),s=r(2576),i=r(1471),l=r(9237);function u(e){let t=(0,o.SU)(e,{bpm:120}),r=(0,o.Ek)(e,{clock:t,beats:5,steps:16}),a=(0,o.km)(e,{trigger:r,type:o.Co.Random,scale:o.ji.Major,octaves:2}),n=(0,o.op)(e,{gate:r,frequency:a}),s=(0,o.U)(e,{decay:.9});return n.connect(s),Object.assign(s,{synth1:n,arp:a,clock:t,euclid:r})}function c(){let[e,t]=(0,n.useState)(o.Z9.White),r=(0,l.Z)(u);return r?(0,a.jsxs)("div",{className:"grid grid-col-4 gap-2",children:[(0,a.jsx)(i.i,{label:"Tempo",inputClassName:"col-span-2",min:60,max:180,units:"bpm",param:r.clock.bpm}),(0,a.jsx)(i.i,{label:"Beats",inputClassName:"col-span-2",min:1,max:16,step:1,param:r.euclid.beats})]}):null}t.default=()=>(0,a.jsx)(s.Yt,{label:"Arpeggiator",children:(0,a.jsx)(c,{})})},1987:function(e,t,r){r.d(t,{AttackDecayExample:function(){return u}});var a=r(7949),n=r(1471),o=r(6265),s=r(8098),i=r(9237);let l=e=>{let t=(0,s.KM)(e),r=t.param(),a=t.param(),n=t.param();return t.synth({out:t.conn.serial(t.osc.sin(t.env.ad(r,{attack:n,decay:a,offset:440,gain:2e3})),t.amp(.2)),params:{trigger:r,attack:n,decay:a}})};function u(){let[e,t]=(0,o.useState)(!1);return e?(0,a.jsx)(c,{onClose:()=>t(!1)}):(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:()=>t(!0),children:"Open example"})}function c(e){let{onClose:t}=e,r=(0,i.Z)(l);return r?(0,a.jsxs)("div",{className:"bg-fd-card text-fd-foreground p-2 border rounded",children:[(0,a.jsx)("div",{className:"text-xl mb-4",children:"AttackDecay generator example"}),(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(n.i,{label:"Attack",labelClassName:"w-20 text-right mr-2",min:0,max:1,step:.001,param:r.attack})}),(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(n.i,{label:"Decay",labelClassName:"w-20 text-right mr-2",min:0,max:1,step:.001,param:r.decay})}),(0,a.jsx)("div",{className:"flex mb-4",children:(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{r.trigger.value=1},onMouseUp:()=>{r.trigger.value=0},children:"Trigger"})}),(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:t,children:"Close"})]}):null}},5778:function(e,t,r){r.d(t,{default:function(){return d}});var a,n=r(7949),o=r(8098);let s=(a={processorName:"ChorusProcessor",paramNames:["delay","rate","depth","deviation"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[2]})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=new AudioWorkletNode(e,a.processorName,a.workletOptions(n));o.__PROCESSOR_NAME__=a.processorName;let s=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(o,a.paramNames,n);return null===(t=a.postCreate)||void 0===t||t.call(a,o),r=!1,Object.assign(o,{dispose(){var e,t;if(!r&&(r=!0,o.disconnect(),null===(e=o.port)||void 0===e||e.postMessage({type:"DISPOSE"}),s))for(;s.length;){let e=s.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});var i=r(2576),l=r(1471),u=r(9237);function c(e){let t=(0,o.dO)(e,{input:.1}),r=(0,o.D_)(e,{frequency:440}),a=(0,o.wF)(e,{gate:t}),n=s(e,{});return r.connect(a).connect(n),Object.assign(n,{osc:r,amp:a,gate:t,chorus:n})}function p(){let e=(0,u.Z)(c);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,n.jsx)(l.i,{label:"Delay",inputClassName:"col-span-2",param:e.chorus.delay}),(0,n.jsx)(l.i,{label:"Rate",inputClassName:"col-span-2",param:e.chorus.rate}),(0,n.jsx)(l.i,{label:"Depth",inputClassName:"col-span-2",param:e.chorus.depth}),(0,n.jsx)(l.i,{label:"Deviation",inputClassName:"col-span-2",param:e.chorus.deviation})]}),(0,n.jsx)(i.Gp,{gate:e.gate.input})]}):null}var d=()=>(0,n.jsx)(i.Yt,{label:"Chorus",children:(0,n.jsx)(p,{})})},7028:function(e,t,r){var a=r(7949),n=r(8098),o=r(2576),s=r(1471),i=r(9237);function l(e){let t=(0,n.dO)(e,{input:60}),r=(0,n.SU)(e,{bpm:t});return Object.assign((0,n.m7)(e,{trigger:r}),{bpm:t.input})}function u(){let e=(0,i.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,a.jsx)(s.i,{label:"Tempo",inputClassName:"col-span-2",min:1,max:1e3,units:"bpm",param:e.bpm})}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(s.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,units:"dB",param:e.volume})})]}):null}t.default=()=>(0,a.jsx)(o.Yt,{label:"Clock",children:(0,a.jsx)(u,{})})},8682:function(e,t,r){var a=r(7949),n=r(8098),o=r(2576),s=r(1471),i=r(9237);function l(e){let t=(0,n.m7)(e),r=(0,n.U)(e);return r.connect(e.destination),t.connect(r),Object.assign(t,{reverb:r})}function u(){let e=(0,i.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.UC,{label:"Input",paneClassName:"grid grid-cols-4 gap-2 mb-4",children:[(0,a.jsx)(s.i,{label:"Filter",inputClassName:"col-span-2",param:e.reverb.filter}),(0,a.jsx)(s.i,{label:"Diffusion 1",inputClassName:"col-span-2",param:e.reverb.inputDiffusion1}),(0,a.jsx)(s.i,{label:"Diffusion 2",inputClassName:"col-span-2",param:e.reverb.inputDiffusion2})]}),(0,a.jsxs)(o.UC,{label:"Feedback",paneClassName:"grid grid-cols-4 gap-2 mb-4",children:[(0,a.jsx)(s.i,{label:"Diffusion 1",inputClassName:"col-span-2",param:e.reverb.decayDiffusion1}),(0,a.jsx)(s.i,{label:"Diffusion 2",inputClassName:"col-span-2",param:e.reverb.decayDiffusion2}),(0,a.jsx)(s.i,{label:"Decay",inputClassName:"col-span-2",param:e.reverb.decay}),(0,a.jsx)(s.i,{label:"Damping",inputClassName:"col-span-2",param:e.reverb.damping})]}),(0,a.jsx)(o.yR,{className:"mt-4",trigger:e.trigger})]}):null}t.default=()=>(0,a.jsx)(o.Yt,{label:"Dattorro Reverb",children:(0,a.jsx)(u,{})})},5011:function(e,t,r){var a=r(7949),n=r(1471),o=r(6265),s=r(8098),i=r(2576),l=r(9237);let u={KickDrum:s.nl,SnareDrum:s.vD,ClaveDrum:s.m7,HiHatDrum:s.VR,CowBellDrum:s.Dr,CymbalDrum:s.e2,MaracasDrum:s._K,HandclapDrum:s.NR,TomDrum:s.IL,CongaDrum:s.q1};class c{getNames(){return Object.keys(u)}getSynth(e){if(!this.synths.has(e)){console.log("CREATE SYNTH",e);let t=u[e];if(!t)throw Error("Unknown instrument: ".concat(e));let r=t(this.context);r.connect(this.output),this.synths.set(e,Object.assign(r,{name:e}))}return this.synths.get(e)}dispose(){for(let e of this.synths.values())e.dispose()}constructor(e){this.context=e,this.output=e.createGain(),this.synths=new Map,this.connect=this.output.connect.bind(this.output)}}function p(e){let{}=e,t=(0,l.Z)(e=>new c(e)),[r,s]=(0,o.useState)(null);return t?(0,a.jsxs)(a.Fragment,{children:[r&&(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[(0,a.jsx)("div",{className:"col-span-4 font-bold border-b",children:r.name.slice(0,-4)}),(0,a.jsx)(n.i,{label:"Tone",inputClassName:"col-span-2",min:0,max:1,step:.01,param:r.tone}),(0,a.jsx)(n.i,{label:"Decay",inputClassName:"col-span-2",min:0,max:1,step:.01,param:r.decay}),(0,a.jsx)(n.i,{label:"Volume",inputClassName:"col-span-2",min:-60,max:0,step:1,units:"dB",param:r.volume})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.getNames().map(e=>(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onMouseDown:()=>{let r=t.getSynth(e);r.trigger.value=1,s(r)},onMouseUp:()=>{let r=t.getSynth(e);r.trigger.value=0,s(r)},children:e.slice(0,-4)},e))})]}):null}t.default=()=>(0,a.jsx)(i.Yt,{label:"Drums",children:(0,a.jsx)(p,{})})},4951:function(e,t,r){var a=r(7949),n=r(8098),o=r(2576),s=r(1471),i=r(9237);let l=e=>{let t=(0,n.KM)(e).use({clave:n.m7,kick:n.nl}),r=t.param(100),a=t.clock({bpm:r}),o=t.param.db(-12),s=t.clave({trigger:t.euclid({clock:a,steps:16,beats:7,subdivison:4,rotation:3}),volume:o}),i=t.kick({trigger:t.euclid({clock:a,steps:16,beats:5,subdivison:4}),volume:o});return t.withParams(t.conn([s,i],t.gain()),{bpm:r,volume:o})};function u(){let e=(0,i.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,a.jsx)(s.i,{label:"Tempo",inputClassName:"col-span-2",min:1,max:1e3,param:e.bpm,units:"bpm"})}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(s.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,param:e.volume,units:"dB"})})]}):null}t.default=()=>(0,a.jsx)(o.Yt,{label:"Euclid",children:(0,a.jsx)(u,{})})},2152:function(e,t,r){r.d(t,{ImpulseExample:function(){return l}});var a=r(7949),n=r(8098),o=r(2576),s=r(9237);let i=e=>{let t=(0,n.KM)(e),r=t.param();return t.synth({out:t.impulse.trigger(r),params:{trigger:r}})};function l(){let e=(0,s.Z)(i);return e?(0,a.jsx)(o.Yt,{label:"Impulse",children:(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(o.yR,{trigger:e.trigger})})}):null}},1604:function(e,t,r){r.d(t,{default:function(){return f}});var a,n=r(7949),o=r(6265),s=r(8098);let i=(a={processorName:"KsProcessor",paramNames:["trigger","frequency","decay"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=new AudioWorkletNode(e,a.processorName,a.workletOptions(n));o.__PROCESSOR_NAME__=a.processorName;let s=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(o,a.paramNames,n);return null===(t=a.postCreate)||void 0===t||t.call(a,o),r=!1,Object.assign(o,{dispose(){var e,t;if(!r&&(r=!0,o.disconnect(),null===(e=o.port)||void 0===e||e.postMessage({type:"DISPOSE"}),s))for(;s.length;){let e=s.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});var l=r(2576),u=r(1471),c=r(9237);function p(e){let t=s.dO.input(e),r=s.dO.db(e,-24),a=i(e,{trigger:t});return Object.assign((0,s.No)([a,s.S9.val(e,r)]),{ks:a,volume:r.input,trigger:t.input})}function d(){let[e,t]=(0,o.useState)(s.Z9.White),r=(0,c.Z)(p);return r?(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,n.jsx)(u.i,{label:"Frequency",inputClassName:"col-span-2",min:100,max:2e3,param:r.ks.frequency}),(0,n.jsx)(u.i,{label:"Decay",inputClassName:"col-span-2",param:r.ks.decay,min:.01,max:1}),(0,n.jsx)("div",{className:"col-span-4",children:(0,n.jsx)(l.yR,{trigger:r.trigger})}),(0,n.jsx)(u.i,{label:"Volume",inputClassName:"col-span-2",min:-100,max:0,param:r.volume,units:"dB"})]}):null}var f=()=>(0,n.jsx)(l.Yt,{label:"Noise",children:(0,n.jsx)(d,{})})},8773:function(e,t,r){r.d(t,{default:function(){return c}});var a=r(7949),n=r(8098),o=r(1471);function s(e){let{adsr:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.i,{label:"Attack",inputClassName:"col-span-2",min:.1,max:10,step:.1,param:t.attack,units:"secs"}),(0,a.jsx)(o.i,{label:"Decay",inputClassName:"col-span-2",min:.1,max:10,step:.1,param:t.decay,units:"secs"}),(0,a.jsx)(o.i,{label:"Sustain",inputClassName:"col-span-2",min:.1,max:1,step:.01,param:t.sustain}),(0,a.jsx)(o.i,{label:"Release",inputClassName:"col-span-2",min:.1,max:100,step:.2,param:t.release,units:"secs"})]})}var i=r(2576),l=r(9237);function u(){let e=(0,l.Z)(e=>(0,n.op)(e));return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.UC,{label:"Oscillator",paneClassName:"grid grid-cols-4 gap-2",children:[(0,a.jsx)(o.i,{label:"Frequency",inputClassName:"col-span-2",min:20,max:3e3,param:e.osc.frequency}),(0,a.jsx)(o.i,{label:"Vibrato depth",inputClassName:"col-span-2",max:20,param:e.vibrato.gain}),(0,a.jsx)(o.i,{label:"Vibrato freq",inputClassName:"col-span-2",min:0,max:100,param:e.vibrato.frequency})]}),(0,a.jsx)(i.UC,{label:"Filter",paneClassName:"grid grid-cols-4 gap-2",children:(0,a.jsx)(s,{adsr:e.filterEnv})}),(0,a.jsx)(i.UC,{label:"Amplifier",paneClassName:"grid grid-cols-4 gap-2",children:(0,a.jsx)(s,{adsr:e.amp})}),(0,a.jsx)("div",{className:"flex mt-2",children:(0,a.jsx)(i.Gp,{gate:e.gate})}),(0,a.jsx)("div",{className:"grid grid-cols-4 mt-4 pt-2 border-t",children:(0,a.jsx)(o.i,{label:"Volume",inputClassName:"col-span-2",min:-48,max:0,units:"dB",param:e.volume})})]}):null}var c=()=>(0,a.jsx)(i.Yt,{label:"Mono Synth",children:(0,a.jsx)(u,{})})},4702:function(e,t,r){r.r(t);var a=r(7949),n=r(6265),o=r(8098),s=r(2576),i=r(1471),l=r(9237);function u(e){let t=o.dO.db(e,-24),r=(0,o.cy)(e,{type:o.Z9.White}),a=o.S9.val(e,t);return Object.assign((0,o.No)([r,a]),{noise:r,volume:t.input})}function c(){let[e,t]=(0,n.useState)(o.Z9.White),r=(0,l.Z)(u);return r?(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{children:"Noise type:"}),(0,a.jsxs)("select",{value:e,onChange:e=>{let a=parseInt(e.target.value);t(a),r.noise.type.value=a},children:[(0,a.jsx)("option",{value:o.Z9.White,children:"White"}),(0,a.jsx)("option",{value:o.Z9.Pink,children:"Pink"})]}),(0,a.jsx)("div",{className:"col-span-2"}),(0,a.jsx)(i.i,{label:"Volume",inputClassName:"col-span-2",min:-100,max:0,param:r.volume,units:"dB"})]}):null}t.default=()=>(0,a.jsx)(s.Yt,{label:"Noise",children:(0,a.jsx)(c,{})})},4901:function(e,t,r){r.d(t,{default:function(){return d}});var a=r(7949),n=r(8098),o=r(2576),s=r(6265);function i(e){let{name:t,valueNames:r,labelClassName:n,inputClassName:o,param:i,hint:l}=e,[u,c]=(0,s.useState)(i.value);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:n,children:t}),(0,a.jsx)("select",{className:o,value:u,onChange:e=>{let t=parseInt(e.target.value);c(t),i.value=t},children:r.map((e,t)=>(0,a.jsx)("option",{value:t,children:e},e))}),(0,a.jsx)("div",{children:l})]})}var l=r(1471),u=r(9237);function c(e){let t=n.dO.db(e,-24),r=(0,n.F2)(e,{frequency:1,gain:0}),a=(0,n.Zm)(e,{frequency:440,detune:r}),o=(0,n.S9)(e,{gain:t});return Object.assign((0,n.No)([a,o]),{osc:a,lfo:r,amp:o,volume:t.input})}function p(){let e=(0,u.Z)(c);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)(i,{name:"Waveform",inputClassName:"col-span-2",param:e.osc.type,valueNames:["Saw","Square","Triangle"]}),(0,a.jsx)(l.i,{label:"Frequency",inputClassName:"col-span-2",min:20,max:3e3,units:"Hz",param:e.osc.frequency}),(0,a.jsx)(l.i,{label:"Modulation",inputClassName:"col-span-2",min:0,max:1e3,param:e.lfo.gain})]}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(l.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,param:e.volume,units:"dB"})})]}):null}var d=()=>(0,a.jsx)(o.Yt,{label:"Polyblep oscillator",children:(0,a.jsx)(p,{})})},2148:function(e,t,r){var a=r(7949),n=r(6265),o=r(8098),s=r(2576),i=r(1471),l=r(9237);let u=e=>{let t=(0,o.D_)(e,{type:"sawtooth",frequency:1e3}),r=(0,o.$N)(e,{type:o.zX.LowPass,frequency:1e3,Q:1}),a=(0,o.dO)(e,{scale:o.$q.DbToGain,input:-12}),n=(0,o.F2)(e,{frequency:2,type:o.Pf.RampUp,gain:0}),s=(0,o.S9)(e,{gain:a});return t.connect(r).connect(s),n.connect(r.frequency),Object.assign(s,{osc:t,filter:r,volume:a.input,lfo:n})};function c(){let[e,t]=(0,n.useState)(o.zX.LowPass),r=(0,l.Z)(u);return r?(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{children:"Filter type"}),(0,a.jsxs)("select",{className:"col-span-2",value:e,onChange:e=>{t(parseInt(e.target.value)),r.filter.type.value=parseInt(e.target.value)},children:[(0,a.jsx)("option",{value:o.zX.ByPass,children:"None"}),(0,a.jsx)("option",{value:o.zX.LowPass,children:"Low pass"}),(0,a.jsx)("option",{value:o.zX.HighPass,children:"High pass"}),(0,a.jsx)("option",{value:o.zX.BandPass,children:"Band pass"}),(0,a.jsx)("option",{value:o.zX.Notch,children:"Notch"}),(0,a.jsx)("option",{value:o.zX.Peak,children:"Peak"}),(0,a.jsx)("option",{value:o.zX.AllPass,children:"All pass"})]}),(0,a.jsx)("div",{}),(0,a.jsx)(i.i,{label:"Frequency",inputClassName:"col-span-2",param:r.filter.frequency,min:20,max:2e4}),(0,a.jsx)(i.i,{label:"Q",inputClassName:"col-span-2",param:r.filter.Q,min:0,max:40}),(0,a.jsx)(i.i,{label:"Modulation",inputClassName:"col-span-2",param:r.lfo.gain,min:0,max:1e3}),(0,a.jsx)(i.i,{label:"Volume",inputClassName:"col-span-2",param:r.volume,min:-60,max:0})]}):null}t.default=()=>(0,a.jsx)(s.Yt,{label:"Svf",children:(0,a.jsx)(c,{})})},6683:function(e,t,r){var a=r(7949),n=r(6265),o=r(8098),s=r(2576),i=r(1471),l=r(9237);let u=()=>e=>{let t=(0,o.KM)(e),r=t.param(),a=t.param(440),n=t.param.db(-24),s=t.wt();return s.loadWavetable("ACCESS_V"),Object.assign(t.withParams(t.conn.serial(s,t.amp.adsr(r),t.amp(n)),{freq:a,volume:n,gate:r}),{osc:s})};function c(){let[e,t]=(0,n.useState)("ACCESS_V"),[r,c]=(0,n.useState)([]);(0,n.useEffect)(()=>{(0,o.Xi)().then(e=>{e.sort(),c(e)})},[]);let p=(0,l.Z)(u());return p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"text-right",children:"Wavetable"}),(0,a.jsx)("select",{className:"col-span-2 bg-zinc-900 p-1 rounded border-zinc-300",value:e,onChange:e=>{t(e.target.value),p.osc.loadWavetable(e.target.value)},children:r.map(e=>(0,a.jsx)("option",{children:e},e))}),(0,a.jsx)("div",{}),(0,a.jsx)(i.i,{label:"Morph freq",labelClassName:"text-right",inputClassName:"col-span-2",min:0,max:10,step:.1,param:p.osc.morphFrequency})]}),(0,a.jsx)("div",{className:"flex mt-4",children:(0,a.jsx)(s.Gp,{gate:p.gate})}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(i.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,units:"dB",param:p.volume})})]}):null}t.default=()=>(0,a.jsx)(s.Yt,{label:"Wavetable",children:(0,a.jsx)(c,{})})},2576:function(e,t,r){r.d(t,{Gp:function(){return l},UC:function(){return s},Yt:function(){return o},yR:function(){return i}});var a=r(7949),n=r(6265);function o(e){let{label:t,header:r,children:o}=e,[s,i]=(0,n.useState)(!1);return s?(0,a.jsxs)("div",{className:"bg-fd-card text-fd-foreground p-2 border rounded",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"text-xl mb-4 flex-grow",children:[t," example"]}),r,(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:()=>{i(!1)},children:"Close"})]}),o]}):(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary text-nowrap",onClick:()=>{i(!0)},children:"Open example"})})}function s(e){let{label:t,children:r,paneClassName:o}=e,[s,i]=(0,n.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bold mt-4 border-b mb-1",children:(0,a.jsxs)("button",{onClick:()=>{i(!s)},children:[t,(0,a.jsx)("span",{className:"text-xs ml-2",children:s?"▼":"▶"})]})}),s&&(0,a.jsx)("div",{className:o,children:r})]})}function i(e){let{trigger:t,className:r}=e;return(0,a.jsx)("div",{className:"flex mb-4 "+(null!=r?r:""),children:(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{t.value=1},onMouseUp:()=>{t.value=0},children:"Trigger"})})}function l(e){let{gate:t}=e,[r,o]=(0,n.useState)(!1),[s,i]=(0,n.useState)(!1);return(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{let e=!r||!s;i(e),t.value=e?1:0},onMouseUp:()=>{r||(i(!1),t.value=0)},children:"Gate"}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{className:"mr-1",type:"checkbox",checked:r,onChange:()=>{o(!r)}}),"Sustain"]})]})}},1471:function(e,t,r){r.d(t,{i:function(){return o}});var a=r(7949),n=r(6265);function o(e){let{label:t,min:r=0,max:o=1,step:s,transform:i=e=>e,inputClassName:l,labelClassName:u,valueClassName:c,param:p,units:d}=e,[f,m]=(0,n.useState)(p.value);return(0,n.useEffect)(()=>{m(p.value)},[p]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:u,children:t}),(0,a.jsx)("input",{className:l,type:"range",min:r,max:o,step:null!=s?s:"any",value:f,onChange:e=>{let t=e.target.valueAsNumber;m(t),p.value=i(t)}}),(0,a.jsxs)("div",{className:c,children:[i(f).toFixed(2),d]})]})}},9237:function(e,t,r){let a;r.d(t,{Z:function(){return s}});var n=r(8098),o=r(6265);function s(e){let[t,r]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let t;console.log("useSynth connecting");let o=!1;return(a||(a=(0,n.K_)(new AudioContext)),a).then(a=>{o||((t=e(a)).connect(a.destination),console.log("useSynth connected",t),r(t))}),()=>{o=!0,console.log("useSynth dispose",t),null==t||t.dispose()}},[]),t}},8098:function(e,t,r){let a,n;r.d(t,{wF:function(){return et},km:function(){return eo},ji:function(){return ea},Co:function(){return er},m7:function(){return e9},SU:function(){return ed},q1:function(){return ta},No:function(){return e0},Dr:function(){return e6},e2:function(){return e8},U:function(){return eh},Ek:function(){return eb},S9:function(){return eQ},NR:function(){return tt},VR:function(){return e3},nl:function(){return e7},F2:function(){return ew},Pf:function(){return eN},_K:function(){return te},op:function(){return to},cy:function(){return eA},Z9:function(){return ej},D_:function(){return e$},dO:function(){return eR},$q:function(){return eP},Zm:function(){return eE},vD:function(){return e5},$N:function(){return eV},zX:function(){return eW},IL:function(){return tr},Xi:function(){return eG},KM:function(){return e1},K_:function(){return ts}});var o,s,i,l,u,c,p,d,f,m,h,g,b,v,y,x,N,M,k,w,j,O,A,P,S,_,R,C,D,E,W,I,V,q,F,L,U,T,B,Z,H,G,Y,K,z=(c='"use strict";(()=>{var M=class extends AudioWorkletProcessor{r;d;constructor(){super(),this.r=!0,this.d=O(sampleRate),this.port.onmessage=a=>{switch(a.data.type){case"DISPOSE":this.r=!1;break}}}process(a,n,t){return this.d.update(t.trigger[0],t.attack[0],t.decay[0]),this.d.gen(n[0][0],t.offset[0],t.gain[0]),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["attack",.01,0,10],["decay",.1,0,10],["offset",0,0,2e4],["gain",1,0,1e4]].map(([a,n,t,d])=>({name:a,defaultValue:n,minValue:t,maxValue:d,automationRate:"k-rate"}))}};registerProcessor("AdProcessor",M);function O(l){let D=l*.05,g=l*.1,u=!1,E=.1,f=.1,h=Math.exp(-1/(.1*D)),A=Math.exp(-1/(.1*g)),r=0,s=0;return{update(o,c,i){if(o===1?u||(u=!0,r=1):u=!1,c!==E){E=c;let e=Math.max(E*D,.001);h=Math.exp(-1/e)}if(i!==f){f=i;let e=Math.max(f*g,.001);A=Math.exp(-1/e)}},gen(o,c,i){let e=0;for(let p=0;p<o.length;p++)r===1?(e=h*s+(1-h),e-s<=5e-8&&(r=2),s=e):r===2?(e=A*s,s=e,e<=5e-8&&(r=0)):e=0,o[p]=c+e*i}}}})();',function(e){let t="__AD__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([c],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),X=(p={processorName:"AdProcessor",paramNames:["trigger","attack","decay","offset","gain"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,p.processorName,p.workletOptions(a));n.__PROCESSOR_NAME__=p.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,p.paramNames,a);return null===(t=p.postCreate)||void 0===t||t.call(p,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});function Q(e){return function(t){var r;let a;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=new AudioWorkletNode(t,e.processorName,e.workletOptions(n));o.__PROCESSOR_NAME__=e.processorName;let s=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(o,e.paramNames,n);return null===(r=e.postCreate)||void 0===r||r.call(e,o),a=!1,Object.assign(o,{dispose(){var e,t;if(!a&&(a=!0,o.disconnect(),null===(e=o.port)||void 0===e||e.postMessage({type:"DISPOSE"}),s))for(;s.length;){let e=s.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}}var $=["gate","attack","decay","sustain","release","offset","gain"],J=(d='"use strict";(()=>{function I(){let u=!1;return r=>{if(u===!1&&r>=.9)return u=!0,!0;if(u===!0&&r<.1)return u=!1,!1}}function D(u){let r=Math.exp(-1.5),n=Math.exp(-4.95),s=0,o=0,l=0,b=0,p={b:0,c:0},y={b:0,c:0},A={b:0,c:0},x=I(),f=0,e=0;return k(.01,.1,.5,.3),function(a,i,c,m){F(m);let P=m.offset[0],R=m.gain[0];for(let d=0;d<i.length;d++){switch(f){case 1:e=p.b+e*p.c,(e>=1||s<=0)&&(e=1,f=2);break;case 2:e=y.b+e*y.c,(e<=b||o<=0)&&(e=b,f=3);break;case 3:e=b;break;case 4:e=A.b+e*A.c,(e<=0||l<=0)&&(e=0,f=0)}let S=c?a[d]*e:e;i[d]=S*R+P}};function F(t){k(t.attack[0],t.decay[0],t.sustain[0],t.release[0]);let a=x(t.gate[0]);a===!0?f=1:a===!1&&(f=4)}function k(t,a,i,c){(b!==i||o!==a)&&(b=i,o=a,h(y,o,b,n)),s!==t&&(s=t,h(p,s,1+2*r,r)),l!==c&&(l=c,h(A,l,0,n))}function h(t,a,i,c){let m=a*u;t.c=Math.exp(-Math.log((1+c)/c)/m),t.b=(i-c)*(1-t.c)}}var g=class extends AudioWorkletProcessor{p;r=!0;m;constructor(r){super(),this.m=r.processorOptions.mode==="modulator",this.p=D(sampleRate),this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(r,n,s){let o=this.m?r[0][0]:void 0,l=n[0][0];return this.p(o,l,this.m,s),this.r}static get parameterDescriptors(){return[["gate",0,0,1],["attack",.01,0,10],["decay",.1,0,10],["sustain",.5,0,1],["release",.3,0,100],["offset",0,0,2e4],["gain",1,-2e4,2e4]].map(([r,n,s,o])=>({name:r,defaultValue:n,minValue:s,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("AdsrProcessor",g);})();',function(e){let t="__ADSR__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([d],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),ee=Q({processorName:"AdsrProcessor",paramNames:$,workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1,processorOptions:{mode:"generator"}})}),et=Q({processorName:"AdsrProcessor",paramNames:$,workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,processorOptions:{mode:"modulator"}})}),er=((f=er||{})[f.Random=0]="Random",f),ea=((m=ea||{})[m.Augmented=2457]="Augmented",m[m.Blues=1257]="Blues",m[m.Chromatic=4095]="Chromatic",m[m.Diminished=2925]="Diminished",m[m.Dominant7th=1169]="Dominant7th",m[m.Dorian=1709]="Dorian",m[m.HalfWholeDiminished=1755]="HalfWholeDiminished",m[m.HarmonicMinor=2477]="HarmonicMinor",m[m.Locrian=1387]="Locrian",m[m.Lydian=2773]="Lydian",m[m.Major6th=657]="Major6th",m[m.Major7th=2193]="Major7th",m[m.Major=2741]="Major",m[m.MelodicMinor=2733]="MelodicMinor",m[m.Minor7th=1161]="Minor7th",m[m.Minor=1453]="Minor",m[m.MinorMajor7th=2185]="MinorMajor7th",m[m.Mixolydian=1717]="Mixolydian",m[m.Pentatonic=1193]="Pentatonic",m[m.PentatonicMajor=661]="PentatonicMajor",m[m.PentatonicMinor=1193]="PentatonicMinor",m[m.Phrygian=1451]="Phrygian",m[m.Sus2=133]="Sus2",m[m.Sus4=161]="Sus4",m[m.TriadAugmented=273]="TriadAugmented",m[m.TriadDiminished=73]="TriadDiminished",m[m.TriadMajor=145]="TriadMajor",m[m.TriadMinor=137]="TriadMinor",m[m.WholeHalfDiminished=2925]="WholeHalfDiminished",m[m.WholeTone=1365]="WholeTone",m),en=(h='"use strict";(()=>{function g(){let i=60,o=0,n=1,t=[0],e=0,s=1,u=!1,f=i;return function(h,a,y,m,x){return i=y,n=x,o!==m&&(o=m,t=D(m),s=t.length,e=e%s),h===1?u||(u=!0,f=M(a)):u=!1,440*Math.pow(2,(f-69)/12)};function M(r){switch(r){case 0:default:return b()}}function b(){let r=Math.floor(Math.random()*(n-1)),h=t[Math.floor(Math.random()*s)];return i+h+r*12}}function D(i){let o=i.toString(2),n=[];for(let t=0;t<o.length;t++)o[t]==="1"&&n.push(t);return n}var d=class extends AudioWorkletProcessor{r;a;constructor(){super(),this.r=!0,this.a=g(),this.port.onmessage=o=>{switch(o.data.type){case"DISPOSE":this.r=!1;break}}}process(o,n,t){let e=this.a(t.trigger[0],t.type[0],t.baseNote[0],t.scale[0],t.octaves[0]),s=n[0][0];return s&&s.fill(e),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["type",0,0,1],["baseNote",60,0,200],["scale",1,1,2047],["octaves",1,1,10]].map(([o,n,t,e])=>({name:o,defaultValue:n,minValue:t,maxValue:e,automationRate:"k-rate"}))}};registerProcessor("ArpProcessor",d);})();',function(e){let t="__ARP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([h],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eo=(g={processorName:"ArpProcessor",paramNames:["trigger","type","baseNote","scale","octaves"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,g.processorName,g.workletOptions(a));n.__PROCESSOR_NAME__=g.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,g.paramNames,a);return null===(t=g.postCreate)||void 0===t||t.call(g,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),es=(b='"use strict";(()=>{function pt(i){let l=new Float32Array(65536),a=new Float32Array(65536),h=i,r=new Float32Array(2),t=new Float32Array(2),m=new Float32Array(2),p=new Float32Array(2),c=new Float32Array(2),n=new Float32Array(2),u=new Float32Array(2),f=new Float32Array(2),T=new Float32Array(2),y=new Float32Array(2),x=new Float32Array(2),o=new Float32Array(8192),e=0,w=new Int32Array(2),M=Math.min(192e3,Math.max(1,h)),v=Math.exp(-(44.12234/M)),D=1-v,ct=.33333334/M,ut=1/M,Tt=.14285715/M,yt=.5/M,xt=.25/M,At=.16666667/M,wt=.125/M,E=.5,G=.5,O=.5,L=.5;st(l,St),st(a,Vt);function Ft(F,I,k){let P=D*E,Rt=4.096*G,Ct=625e-7*O,bt=D*L;for(let A=0;A<F.length;A++){let W=F[A];w[0]=1,r[0]=P+v*r[1];let gt=W*r[0];o[e&8191]=gt,t[0]=Rt+.999*t[1],n[0]=Ct*t[0]+.999*n[1];let s=1-w[1];f[0]=bt+v*f[1];let j=s!==0?0:u[1]+ct*f[0];u[0]=j-Math.floor(j);let d=Math.min(4096,.375*t[0]+n[0]*l[Math.max(0,Math.min(Math.floor(65536*u[0]),65535))]),q=Math.floor(d),z=Math.floor(d),H=s!==0?0:T[1]+ut*f[0];T[0]=H-Math.floor(H);let R=Math.min(4096,.125*t[0]+n[0]*a[Math.max(0,Math.min(Math.floor(65536*T[0]),65535))]),J=Math.floor(R),K=Math.floor(R),N=W*(1-r[0]),Q=s!==0?0:y[1]+Tt*f[0];y[0]=Q-Math.floor(Q);let C=Math.min(4096,.875*t[0]-n[0]*l[Math.max(0,Math.min(Math.floor(65536*y[0]),65535))]),U=Math.floor(C),X=Math.floor(C);I[A]=.70710677*(o[e-Math.min(4097,Math.max(0,q))&8191]*(z+(1-d))+(d-z)*o[e-Math.min(4097,Math.max(0,q+1))&8191])+(R-J)*o[e-Math.min(4097,Math.max(0,K+1))&8191]+N+o[e-Math.min(4097,Math.max(0,K))&8191]*(J+(1-R))-.70710677*(o[e-Math.min(4097,Math.max(0,U))&8191]*(X+(1-C))+(C-X)*o[e-Math.min(4097,Math.max(0,U+1))&8191]);let Y=s!==0?0:x[1]+yt*f[0];x[0]=Y-Math.floor(Y);let Z=Math.max(0,Math.min(Math.floor(65536*x[0]),65535)),b=Math.min(4096,.25*t[0]+n[0]*(.70710677*a[Z]+.70710677*l[Z])),_=Math.floor(b),$=Math.floor(b),tt=s!==0?0:m[1]+xt*f[0];m[0]=tt-Math.floor(tt);let et=Math.max(0,Math.min(Math.floor(65536*m[0]),65535)),g=Math.min(4096,.5*t[0]+n[0]*(.70710677*l[et]-.70710677*a[et])),at=Math.floor(g),lt=Math.floor(g),ot=s!==0?0:p[1]+At*f[0];p[0]=ot-Math.floor(ot);let rt=Math.max(0,Math.min(Math.floor(65536*p[0]),65535)),S=Math.min(4096,.75*t[0]-n[0]*(.70710677*a[rt]+.70710677*l[rt])),ht=Math.floor(S),mt=Math.floor(S),nt=s!==0?0:c[1]+wt*f[0];c[0]=nt-Math.floor(nt);let ft=Math.max(0,Math.min(Math.floor(65536*c[0]),65535)),V=Math.min(4096,t[0]+n[0]*(.70710677*a[ft]-.70710677*l[ft])),it=Math.floor(V),Mt=Math.floor(V);k[A]=N-(.38268343*(o[e-Math.min(4097,Math.max(0,_))&8191]*($+(1-b))+(b-$)*o[e-Math.min(4097,Math.max(0,_+1))&8191])+.9238795*(o[e-Math.min(4097,Math.max(0,at))&8191]*(lt+(1-g))+(g-lt)*o[e-Math.min(4097,Math.max(0,at+1))&8191])+.9238795*(o[e-Math.min(4097,Math.max(0,ht))&8191]*(mt+(1-S))+(S-mt)*o[e-Math.min(4097,Math.max(0,ht+1))&8191])+.38268343*(o[e-Math.min(4097,Math.max(0,it))&8191]*(Mt+(1-V))+(V-Mt)*o[e-Math.min(4097,Math.max(0,it+1))&8191])),w[1]=w[0],r[1]=r[0],e=e+1>>>0,t[1]=t[0],n[1]=n[0],f[1]=f[0],u[1]=u[0],T[1]=T[0],y[1]=y[0],x[1]=x[0],m[1]=m[0],p[1]=p[0],c[1]=c[0]}}function dt(F,I,k,P){E=F,G=I,O=k,L=P}return{update:dt,compute:Ft}}var St=i=>Math.cos(958738e-10*i),Vt=i=>Math.sin(958738e-10*i);function st(i,l){if(i.length!==65536)throw new Error("Table must be 65536 samples long");let a=0,h=0,r=0,t=0;for(let m=0;m<65536;m++)a=1,r=(h+t)%65536,i[m]=Math.cos(958738e-10*r),h=a,t=r;return i}var B=class extends AudioWorkletProcessor{r;u;g;constructor(){super(),this.r=!0;let{compute:l,update:a}=pt(sampleRate);this.u=a,this.g=l,this.port.onmessage=h=>{switch(h.data.type){case"DISPOSE":this.r=!1;break}}}process(l,a,h){if(l[0].length===0)return this.r;this.u(h.delay[0],h.rate[0],h.depth[0],h.deviation[0]);let r=l[0][0],t=a[0][0],m=a[0][1];return this.g(r,t,m),this.r}static get parameterDescriptors(){return[["delay",.5,0,1],["rate",.5,0,1],["depth",.5,0,1],["deviation",.5,0,1]].map(([l,a,h,r])=>({name:l,defaultValue:a,minValue:h,maxValue:r,automationRate:"k-rate"}))}};registerProcessor("ChorusProcessor",B);})();',function(e){let t="__CHORUS__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([b],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),ei=(v='"use strict";(()=>{function P(r){let e=S(),o=S(),t=S(),s=S(),a=.5,c=.83,b=7,d=k(r,1,a,b),g=k(r,0,a,b),u=k(r,0,c,b),m=k(r,1,c,b),i=!0,h=!0;return{update(p,y,n,f){i=p===1,h=y===1,n!==a&&(a=n,d.setLfoRate(n),g.setLfoRate(n)),f!==c&&(c=f,u.setLfoRate(f),m.setLfoRate(f))},process(p,y){let n=p[0],f=p.length>1?p[1]:n;for(let l=0;l<n.length;l++){let L=n[l],R=f[l],x=L,A=R;i&&(x=e.process(d.process(x)),A=o.process(g.process(A))),h&&(x=t.process(u.process(x)),A=s.process(m.process(A))),y[0][l]=L+1.4*x,y[1][l]=R+1.4*A}}}}function S(){let r=0,e=0,t=.999-.01*.4;return{process(s){let a=s-r+t*e;return r=s,e=a,a}}}function F(r=.99){let e=r*.98,o=e*e*e*e,t=0,s=1/4294967295;return{tick(a){let c=1-o*a+o*t+s;return t=c,c}}}function k(r,e,o,t){let s=0,a=0,c=e*2-1,b=4*o/r,d=1,g=Math.floor(r*t*.001)+1,u=g+2e3,m=new Float32Array(u).fill(0),i=u-1,h=0,p=F(.99);function y(){return c>=1&&(d=-1),c<=-1&&(d=1),c+=d*b,c}return{setLfoRate(n){b=4*n/r},process(n){n=n*.2;let f=(.3*y()+.4)*g,l=i-Math.floor(f);l<0&&(l+=u);let L=l-1;L<0&&(L+=u);let R=f-Math.floor(f);return h=m[L]+m[l]*(1-R)-(1-R)*s,s=h,h=p.tick(h),m[i]=n,i++,i>=u&&(i=0),h}}}var C=class extends AudioWorkletProcessor{r;p;constructor(){super(),this.r=!0,this.p=P(sampleRate),this.port.onmessage=e=>{switch(e.data.type){case"DISPOSE":this.r=!1;break}}}process(e,o,t){if(!(e.length<1||o.length<1))if(t.bypass[0]===1){let s=e[0].length===1;o[0][1].set(e[0][0]),o[0][0].set(e[0][s?0:1])}else this.p.update(t.enable1[0],t.enable2[0],t.lfoRate1[0],t.lfoRate2[0]),this.p.process(e[0],o[0]);return this.r}static get parameterDescriptors(){return[["bypass",0,0,1],["enable1",1,0,1],["enable2",1,0,1],["lfoRate1",.5,0,1],["lfoRate2",.83,0,1]].map(([e,o,t,s])=>({name:e,defaultValue:o,minValue:t,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("ChorusTWorkletProcessor",C);})();',function(e){let t="__CHORUS-T__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([v],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),el=(y={processorName:"ChorusTWorkletProcessor",paramNames:["bypass","enable1","enable2","lfoRate1","lfoRate2"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1}),postCreate(e){e.setBypass=t=>{e.bypass.value=t?1:0}}},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,y.processorName,y.workletOptions(a));n.__PROCESSOR_NAME__=y.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,y.paramNames,a);return null===(t=y.postCreate)||void 0===t||t.call(y,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eu=((x=eu||{})[x.Bypass=0]="Bypass",x[x.Tanh=1]="Tanh",x),ec=(N='"use strict";(()=>{function i(e){switch(e){case 1:return f;case 0:default:return h}}var h=e=>e,f=Math.tanh;var p=class extends AudioWorkletProcessor{r;g;t;fn;constructor(){super(),this.r=!0,this.g=!1,this.t=0,this.fn=i(0),this.port.onmessage=s=>{switch(s.data.type){case"DISPOSE":this.r=!1;break}}}process(s,n,t){this.t!==t.type[0]&&(this.t=t.type[0],this.fn=i(this.t));let o=t.preGain[0],c=t.postGain[0],a=s[0][0],u=n[0][0];if(a&&u)for(let r=0;r<a.length;r++)u[r]=this.fn(a[r]*o)*c;return this.r}static get parameterDescriptors(){return[["type",0,0,10],["preGain",1,0,10],["postGain",1,0,10]].map(([s,n,t,o])=>({name:s,defaultValue:n,minValue:t,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("ClipAmpProcessor",p);})();',function(e){let t="__CLIP_AMP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([N],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),ep=(M={processorName:"ClipAmpProcessor",paramNames:["type","preGain","postGain"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,M.processorName,M.workletOptions(a));n.__PROCESSOR_NAME__=M.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,M.paramNames,a);return null===(t=M.postCreate)||void 0===t||t.call(M,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ed=(k={processorName:"ClockWorkletProcessor",paramNames:["bpm"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,k.processorName,k.workletOptions(a));n.__PROCESSOR_NAME__=k.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,k.paramNames,a);return null===(t=k.postCreate)||void 0===t||t.call(k,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ef=(w='"use strict";(()=>{var i=class extends AudioWorkletProcessor{r;bpm;i;p;constructor(){super(),this.r=!0,this.bpm=120,this.i=this.bpm/60/sampleRate,this.p=0,this.port.onmessage=s=>{switch(s.data.type){case"DISPOSE":this.r=!1;break}}}process(s,e,r){r.bpm[0]!==this.bpm&&(this.bpm=r.bpm[0],this.i=this.bpm/60/sampleRate);let t=this.p+e[0][0].length*this.i;t>1&&(t-=1);let a=t<this.p?1:this.p;return e[0][0].fill(a),this.p=t,this.r}static get parameterDescriptors(){return[["bpm",120,0,1e3]].map(([s,e,r,t])=>({name:s,defaultValue:e,minValue:r,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("ClockWorkletProcessor",i);})();',function(e){let t="__CLOCK__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([w],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),em=(j='"use strict";(()=>{function V0(z){let t=44.1/z,f=1-t,l=-6,w=0,s=.7,B=.625,G=.625,H=.7,J=.625,K=.625,L=.625,e=0,p=[0,0],V=[0,0],m=[0,0],o=[0,0,0],r=[0,0],N=new Array(256).fill(0),A=[0,0],Q=new Array(128).fill(0),T=[0,0],c=[0,0],X=new Array(512).fill(0),h=[0,0],Y=new Array(512).fill(0),R=[0,0],n=[0,0],u=[0,0],i=[0,0],Z=new Array(1024).fill(0),b=[0,0],_=new Array(8192).fill(0),D=[0,0],a=[0,0],$=new Array(4096).fill(0),S=[0,0],e0=new Array(4096).fill(0),F=[0,0],t0=new Array(1024).fill(0),g=[0,0],l0=new Array(8192).fill(0),C=[0,0],f0=new Array(2048).fill(0),k=[0,0],r0=new Array(2048).fill(0),x=[0,0];function A0(y,O,P,U,W,v,I,j,E){l=y,w=O,s=P,B=U,G=W,H=v,J=I,K=j,L=E}function T0(y,O,P){let U=y[0],W=y.length===1?y[0]:y[1],v=O[0],I=O[1],j=t*Math.pow(10,.05*l),E=t*w,h0=t*s,b0=t*B,D0=t*G,S0=t*H,F0=t*J,g0=t*K,C0=t*L;for(let d=0;d<P;d++){let k0=U[d],x0=W[d];p[0]=j+f*p[1];let c0=k0;V[0]=E+f*V[1];let M=V[0]+1,n0=1-.5*M;m[0]=h0+f*m[1];let i0=x0;o[0]=(1-m[0])*o[2]+.5*(c0+i0)*m[0],r[0]=b0+f*r[1];let a0=o[0]-r[0]*A[1];N[e&255]=a0,A[0]=N[e-142&255];let o0=r[0]*a0+A[1]-r[0]*T[1];Q[e&127]=o0,T[0]=Q[e-107&127];let O0=r[0]*o0;c[0]=D0+f*c[1];let u0=O0+T[1]-c[0]*h[1];X[e&511]=u0,h[0]=X[e-379&511];let s0=c[0]*u0+h[1]-c[0]*R[1];Y[e&511]=s0,R[0]=Y[e-277&511];let p0=c[0]*s0;n[0]=S0+f*n[1],u[0]=F0+f*u[1];let m0=1-u[0];i[0]=g0+f*i[1];let R0=i[0]*b[1]+x[1];Z[e&1023]=R0,b[0]=Z[e-908&1023];let P0=-(i[0]*R0);_[e&8191]=P0+b[1],D[0]=u[0]*D[1]+m0*_[e-4217&8191],a[0]=C0+f*a[1];let y0=D[0]*n[0]-a[0]*S[1];$[e&4095]=y0,S[0]=$[e-2656&4095];let U0=a[0]*y0;e0[e&4095]=U0+S[1],F[0]=p0+n[0]*e0[e-2656&4095]+R[1];let d0=i[0]*g[1]+F[1];t0[e&1023]=d0,g[0]=t0[e-672&1023];let W0=-(i[0]*d0);l0[e&8191]=W0+g[1],C[0]=u[0]*C[1]+m0*l0[e-4453&8191];let w0=n[0]*C[0]-a[0]*k[1];f0[e&2047]=w0,k[0]=f0[e-1800&2047];let v0=a[0]*w0;r0[e&2047]=v0+k[1],x[0]=p0+R[1]+n[0]*r0[e-1800&2047],v[d]=p[0]*(c0*n0+.5*M*F[0]),I[d]=p[0]*(i0*n0+.5*M*x[0]),p[1]=p[0],V[1]=V[0],m[1]=m[0],o[2]=o[1],o[1]=o[0],r[1]=r[0],e++,A[1]=A[0],T[1]=T[0],c[1]=c[0],h[1]=h[0],R[1]=R[0],n[1]=n[0],u[1]=u[0],i[1]=i[0],b[1]=b[0],D[1]=D[0],a[1]=a[0],S[1]=S[0],F[1]=F[0],g[1]=g[0],C[1]=C[0],k[1]=k[0],x[1]=x[0]}}return{update:A0,compute:T0}}var q=class extends AudioWorkletProcessor{r;u;c;constructor(){super(),this.r=!0;let{update:t,compute:f}=V0(sampleRate);this.u=t,this.c=f,this.port.onmessage=l=>{switch(l.data.type){case"DISPOSE":this.r=!1;break}}}process(t,f,l){this.u(l.filter[0],l.inputDiffusion1[0],l.inputDiffusion2[0],l.decayDiffusion1[0],l.decayDiffusion2[0],l.decay[0],l.damping[0],l.dryWet[0],l.level[0]);let w=t[0],s=f[0];return w.length===0||s.length===0?this.r:(this.c(w,s,s[0].length),this.r)}static get parameterDescriptors(){return[["filter",.7,0,1],["inputDiffusion1",.75,0,1],["inputDiffusion2",.625,0,1],["decayDiffusion1",.7,0,.999999],["decayDiffusion2",.5,0,.999999],["decay",.5,0,1],["damping",.25,0,1],["dryWet",1,-1,1],["level",0,0,1]].map(t=>new Object({name:t[0],defaultValue:t[1],minValue:t[2],maxValue:t[3],automationRate:"k-rate"}))}};registerProcessor("DattorroReverbProcessor",q);})();',function(e){let t="__DATTORRO_REVERB__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([j],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eh=(O={processorName:"DattorroReverbProcessor",paramNames:["filter","inputDiffusion1","inputDiffusion2","decayDiffusion1","decayDiffusion2","decay","damping"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[2]})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,O.processorName,O.workletOptions(a));n.__PROCESSOR_NAME__=O.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,O.paramNames,a);return null===(t=O.postCreate)||void 0===t||t.call(O,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eg=(A='"use strict";(()=>{var l=class extends AudioWorkletProcessor{r;g;u;constructor(){super(),this.r=!0;let[e,t]=m();this.g=e,this.u=t,this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(e,t,r){return this.u(r.steps[0],r.beats[0],r.rotation[0]),this.g(t[0][0],r.clock[0],r.subdivision[0]),this.r}static get parameterDescriptors(){return[["clock",0,0,1],["steps",0,0,100],["beats",0,0,100],["subdivision",1,1,20],["rotation",0,0,100]].map(([e,t,r,o])=>({name:e,defaultValue:t,minValue:r,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("EuclidProcessor",l);function m(){let n=1,e=1,t=0,r=[1],o=0,u=0;function b(i,s,c){let a=s*c;for(;a>1;)a-=1;let d=a<o;o=a,d&&(u=(u+1)%r.length),i.fill(r[u])}function p(i,s,c){(n!==i||e!==s||t!==c)&&(n=i,e=s,t=c,r=h(f(n,e),t))}return[b,p]}function f(n,e){let t=[],r=-1;for(let o=0;o<n;o++){let u=Math.floor(o*(e/n));t[o]=u!==r?1:0,r=u}return t}function h(n,e){let t=n.length;return t===0||e===0?n:(e=e%t,e<0&&(e=t+e),n.slice(-e).concat(n.slice(0,t-e)))}})();',function(e){let t="__EUCLID__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([A],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eb=(P={processorName:"EuclidProcessor",paramNames:["clock","steps","beats","subdivision","rotation"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,P.processorName,P.workletOptions(a));n.__PROCESSOR_NAME__=P.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,P.paramNames,a);return null===(t=P.postCreate)||void 0===t||t.call(P,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ev=(S='"use strict";(()=>{var s=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=!1,this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(r,e,t){return e[0][0].fill(0),t.trigger[0]===1?this.g||(this.g=!0,e[0][0][0]=1):this.g=!1,this.r}static get parameterDescriptors(){return[["trigger",0,0,1]].map(([r,e,t,a])=>({name:r,defaultValue:e,minValue:t,maxValue:a,automationRate:"k-rate"}))}};registerProcessor("ImpulseProcessor",s);})();',function(e){let t="__IMPULSE__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([S],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),ey=(_={processorName:"ImpulseProcessor",paramNames:["trigger"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,_.processorName,_.workletOptions(a));n.__PROCESSOR_NAME__=_.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,_.paramNames,a);return null===(t=_.postCreate)||void 0===t||t.call(_,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ex=(R='"use strict";(()=>{function b(o,n){let e=Math.ceil(o/n)+2,t=new Float32Array(e),i=e-2,a=0,f=!1,h=0;return(c,y,S,A)=>{let g=c.length,I=.1*A*o,M=Math.pow(.001,1/I);if(y>=1&&h<.9){i=o/S,i=Math.min(Math.max(i,1),e-2);for(let r=0;r<e;r++)t[r]=Math.random()*2-1;a=0,f=!0}if(h=y,f)for(let r=0;r<g;r++){let l=a-i;l<0&&(l+=e);let m=Math.floor(l),k=l-m,w=m%e,F=(m+1)%e,x=t[w],L=t[F],u=x+k*(L-x),P=M*u;if(t[a]=P,c[r]=u,a=(a+1)%e,Math.abs(u)<1e-8){f=!1;for(let p=r+1;p<g;p++)c[p]=0;break}}else c.fill(0)}}var d=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=b(sampleRate,100),this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(n,s,e){let t=s[0][0];return this.g(t,e.trigger[0],e.frequency[0],e.decay[0]),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["frequency",440,20,2e4],["decay",.1,.01,5]].map(([n,s,e,t])=>({name:n,defaultValue:s,minValue:e,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("KsProcessor",d);})();',function(e){let t="__KS-OSC__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([R],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eN=((C=eN||{})[C.None=0]="None",C[C.Sine=1]="Sine",C[C.Triangle=2]="Triangle",C[C.RampUp=3]="RampUp",C[C.RampDown=4]="RampDown",C[C.Square=5]="Square",C[C.ExpRampUp=6]="ExpRampUp",C[C.ExpRampDown=7]="ExpRampDown",C[C.ExpTriangle=8]="ExpTriangle",C[C.RandSampleHold=9]="RandSampleHold",C[C.Impulse=10]="Impulse",C);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5/12,t=Math.pow(10,-1/e)}(),a=!0,(e,t)=>{let r=a?1:0;return a=t<e,r};var eM=()=>2*Math.random()-1;n=eM(),(e,t)=>{let r=n;return t<e&&(n=eM()),r};var ek=(D='"use strict";(()=>{function c(e){return 2*e-1}function v(e=5/12){let n=Math.pow(10,-1/e),t=e*Math.log10(1+n),r=1/(-e*Math.log10(n)+t);return s=>{if(s>=1)return 1;if(s<=0)return 0;let l=-e*r*Math.log10(1-s+n)+t;return Math.max(0,Math.min(1,l))}}function A(){let e=M();return(n,t)=>{let r=e;return t<n&&(e=M()),r}}function S(){let e=!0;return(n,t)=>{let r=e?1:0;return e=t<n,r}}var d=v(),b=()=>0,q=S(),w=e=>Math.sin(e*2*Math.PI),D=e=>1-2*Math.abs(c(e)),E=e=>c(e),F=e=>-c(e),I=e=>e<=.5?1:-1,M=()=>c(Math.random()),U=e=>c(d(e)),$=e=>c(d(1-e)),H=e=>c(d(Math.abs(c(e)))),k=A();function R(e,n){let t=1/e,r=[b,w,D,E,F,I,U,$,H,k,q],s=1,l=10,m=1,h=0,p=r[1]??b,u=0;function x(a){a.type[0]!==s&&(s=a.type[0],p=r[Math.floor(s)]??b),l=a.frequency[0],h=a.offset[0],m=a.gain[0]}function P(a,g){x(g);let o=u+a.length*t*l;o>=1&&(o-=1);let i=p(u,o)*m+h;a.fill(i),u=o}function f(a,g){x(g);for(let o=0;o<a.length;o++){let i=u+t*l;i>=1&&(i-=1),a[o]=p(u,i)*m+h,u=i}}return n?f:P}var G=class extends AudioWorkletProcessor{r;g;constructor(n){super(),this.g=R(sampleRate,!1),this.r=!0,this.port.onmessage=t=>{switch(t.data.type){case"DISPOSE":this.r=!1;break}}}process(n,t,r){return this.g(t[0][0],r),this.r}static get parameterDescriptors(){return[["type",1,0,100],["frequency",10,0,200],["gain",1,0,1e4],["offset",0,-1e3,1e3]].map(([n,t,r,s])=>({name:n,defaultValue:t,minValue:r,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("LfoProcessor",G);})();',function(e){let t="__LFO__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([D],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),ew=(E={processorName:"LfoProcessor",paramNames:["type","frequency","gain","offset"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,E.processorName,E.workletOptions(a));n.__PROCESSOR_NAME__=E.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,E.paramNames,a);return null===(t=E.postCreate)||void 0===t||t.call(E,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ej=((W=ej||{})[W.White=0]="White",W[W.Pink=1]="Pink",W),eO=(I='"use strict";(()=>{function g(o,t){switch(t){case 0:return b;case 1:return w();case 2:return k(o);default:return console.warn("Unknown noise type: "+t),b}}function b(o){for(let t=0;t<o.length;t++)o[t]=Math.random()*2-1}function k(o){let t=[0,0,0,0,0,0,0,0],n=[0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0],i=0,c=0,a=h=>Math.pow(10,h/20),u=h=>20*Math.log10(h),l=0,r=0,f=0,m=o/(2*Math.PI)-1;for(;m>1;)t[l]=2*Math.PI*m/o,m=m/4,l++;for(c=l;l-- >0;)n[l]=a(r),f+=a(r),r-=6;return i=a(-u(f)),h=>{for(let p=0;p<h.length;p++){let y=Math.random()*2-1,A=0;for(let s=0;s<c;s++)e[s]=t[s]*y+(1-t[s])*e[s],A+=e[s]*n[s];h[p]=A*i}}}function w(){let o=[3.8024,2.9694,2.597,3.087,3.4006],t=[.00198,.01478,.06378,.23378,.91578],n=15.8564,e=[0,0,0,0,0],i=0;return c=>{for(let a=0;a<c.length;a++){let u=Math.random(),l=Math.random();for(let r=0;r<5;r++)if(u<t[r]){i-=e[r],e[r]=2*(l-.5)*o[r],i+=e[r];break}c[a]=i/n}}}var d=class extends AudioWorkletProcessor{r;t;d;constructor(){super(),this.r=!0,this.t=0,this.d=g(sampleRate,0),this.port.onmessage=t=>{switch(t.data.type){case"DISPOSE":this.r=!1;break}}}process(t,n,e){return this.t!==e.type[0]&&(this.t=e.type[0],this.d=g(sampleRate,e.type[0])),this.d(n[0][0]),this.r}static get parameterDescriptors(){return[["type",0,0,100]].map(([t,n,e,i])=>({name:t,defaultValue:n,minValue:e,maxValue:i,automationRate:"k-rate"}))}};registerProcessor("NoiseWorkletProcessor",d);})();',function(e){let t="__NOISE__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([I],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eA=(V={processorName:"NoiseWorkletProcessor",paramNames:["type"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,V.processorName,V.workletOptions(a));n.__PROCESSOR_NAME__=V.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,V.paramNames,a);return null===(t=V.postCreate)||void 0===t||t.call(V,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eP=((q=eP||{})[q.Bypass=0]="Bypass",q[q.DbToGain=1]="DbToGain",q[q.GainToDb=2]="GainToDb",q[q.Linear=3]="Linear",q),eS=(F='"use strict";(()=>{function o(t){switch(t){case 0:return u;case 1:return a;case 2:return b;case 3:return h;default:return u}}function u(t){return t}function a(t){return Math.pow(10,t/20)}function b(t){return 20*Math.log10(t)}function h(t,n,r){return n+t*(r-n)}var i=class extends AudioWorkletProcessor{r;s;c;constructor(){super(),this.r=!0,this.s=0,this.c=o(this.s),this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(n,r,e){this.s!==e.scale[0]&&(this.s=e.scale[0],this.c=o(this.s));let s=e.input[0]+e.mod[0],c=this.c(s,e.min[0],e.max[0])*e.gain[0]+e.offset[0];return r[0][0].fill(c),this.r}static get parameterDescriptors(){return[["scale",0,0,10],["input",0,-2e4,2e4],["offset",0,-2e4,2e4],["min",0,-2e4,2e4],["max",1,-2e4,2e4],["gain",1,-2e4,2e4],["mod",0,-2e4,2e4]].map(([n,r,e,s])=>({name:n,defaultValue:r,minValue:e,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("ParamProcessor",i);})();',function(e){let t="__PARAM__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([F],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),e_=(L={processorName:"ParamProcessor",paramNames:["scale","input","offset","min","max","gain","mod"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,L.processorName,L.workletOptions(a));n.__PROCESSOR_NAME__=L.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,L.paramNames,a);return null===(t=L.postCreate)||void 0===t||t.call(L,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eR=Object.assign(e_,{input:(e,t)=>e_(e,{input:t}),db:(e,t)=>e_(e,{scale:1,input:t}),inv:(e,t)=>e_(e,{input:t,gain:-1})}),eC=((U=eC||{})[U.Sawtooth=0]="Sawtooth",U[U.Square=1]="Square",U[U.Triangle=2]="Triangle",U),eD=(T='"use strict";(()=>{function q(f){let u=1/f,s=0,o=440,t=0,a=o*u,m=0,x=Math.exp(-1/(.0025*f)),b=0,c=0,l=[y,d,S],p=l[0],A=0;return function(e,r,F,g){if(s!==r&&(s=r,p=l[s]??l[0]),o!==F||g!==A){o=F,A=g;let D=Math.pow(2,g/1200);a=o*D*u}p(e)};function y(n){for(let e=0;e<n.length;e++)n[e]=t*2-1-i(t,a),t+=a,t>1&&(t-=1)}function d(n){for(let e=0;e<n.length;e++)n[e]=(t<.5?-1:1)-i(t,a)+i((t+.5)%1,a),t+=a,t>1&&(t-=1)}function S(n){for(let e=0;e<n.length;e++){let r=(t<.5?-1:1)-i(t,a)+i((t+.5)%1,a);r*=4/o,r+=m,m=r,c=r-b+x*c,b=r,n[e]=c*.8,t+=a,t>1&&(t-=1)}}function i(n,e){if(n<e){let r=n/e;return r+r-r*r-1}else if(n>1-e){let r=(n-1)/e;return r+r+r*r+1}else return 0}}var h=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=q(sampleRate),this.port.onmessage=u=>{switch(u.data.type){case"DISPOSE":this.r=!1;break}}}process(u,s,o){let t=s[0][0];return this.g(t,o.type[0],o.frequency[0],o.detune[0]),this.r}static get parameterDescriptors(){return[["type",0,0,2],["frequency",440,0,2e4],["detune",0,0,1e4]].map(([u,s,o,t])=>({name:u,defaultValue:s,minValue:o,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("PolyBLEProcessor",h);})();',function(e){let t="__POLY_BLEP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([T],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eE=(B={processorName:"PolyBLEProcessor",paramNames:["type","frequency","detune"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,B.processorName,B.workletOptions(a));n.__PROCESSOR_NAME__=B.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,B.paramNames,a);return null===(t=B.postCreate)||void 0===t||t.call(B,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eW=((Z=eW||{})[Z.ByPass=0]="ByPass",Z[Z.LowPass=1]="LowPass",Z[Z.BandPass=2]="BandPass",Z[Z.HighPass=3]="HighPass",Z[Z.Notch=4]="Notch",Z[Z.Peak=5]="Peak",Z[Z.AllPass=6]="AllPass",Z),eI=(H='"use strict";(()=>{function M(p){let a=1/p,n=0,e=0,l=0,t=0,s=0,o=0,m=0,P=0,k=0,_=0,g=0,A=-1,d=0,x=0;function w(b,c,h){if(c===d&&A===b&&h===x)return;A=b,d=c,x=h;let i=Math.tan(c*a*Math.PI),r=1/Math.max(h,1e-4);switch(n=1/(1+i*(i+r)),e=i*n,l=i*e,b){case 1:t=0,s=0,o=1;break;case 2:t=0,s=1,o=0;break;case 3:t=1,s=-r,o=-1;break;case 4:t=1,s=-r,o=0;break;case 5:t=1,s=-r,o=-2;break;case 6:t=1,s=-2*r,o=0;default:t=1,s=0,o=0;break}}return function(c,h,i,r,R){w(i,r[0],R);let Q=r.length===c.length;for(let u=0;u<c.length;u++){let B=c[u],y=r[u];Q&&w(i,r[u],R),g=B-P,k=n*m+e*g,_=P+e*m+l*g,m=2*k-m,P=2*_-P;let f=t*B+s*k+o*_;h[u]=f}}}var F=class extends AudioWorkletProcessor{r;p;constructor(){super(),this.r=!0,this.p=M(sampleRate),this.port.onmessage=a=>{switch(a.data.type){case"STOP":this.r=!1;break}}}process(a,n,e){if(a[0].length===0)return this.r;let l=a[0][0],t=n[0][0];return this.p(l,t,e.type[0],e.frequency,e.Q[0]),this.r}static get parameterDescriptors(){return[["type",1,0,10,"k"],["frequency",1e3,20,2e4,"a"],["Q",.5,.025,40,"k"]].map(([a,n,e,l,t])=>({name:a,defaultValue:n,minValue:e,maxValue:l,automationRate:t+"-rate"}))}};registerProcessor("SvfProcessor",F);})();',function(e){let t="__SVF__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([H],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eV=(G={processorName:"SvfProcessor",paramNames:["type","frequency","Q"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1})},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,G.processorName,G.workletOptions(a));n.__PROCESSOR_NAME__=G.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,G.paramNames,a);return null===(t=G.postCreate)||void 0===t||t.call(G,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eq=r(9802),eF=r(8336),eL=r(3793),eU=r(8672),eT=r(6117),eB=(o=new WeakMap,s=new WeakMap,i=new WeakMap,l=new WeakSet,u=class{static async fetchAvailableNames(){let e=await fetch("https://smpldsnds.github.io/wavedit-online/samples/files.json");if(!e.ok)throw Error("Failed to load wavetable list.");return await e.json()}onLoad(){return(0,eq._)(this,i)}getData(){return(0,eq._)(this,s)}static decodeWavetable(e){let t=new DataView(e),r=t.getUint16(20,!0),a=t.getUint32(24,!0),n=t.getUint16(22,!0),o=t.getUint16(34,!0),s=t.getUint32(40,!0);if(1!==r)throw Error("Invalid format. Only PCM supported.");if(1!==n)throw Error("Invalid format. Only mono supported.");let i=32===o,l=o/8,u=s/(l*n),c=new Float32Array(u);for(let e=0;e<u;e++)for(let r=0;r<n;r++){let a=44+(e*n+r)*l;c[e]=i?t.getFloat32(a,!0):t.getInt16(a,!0)/32768}return{sampleRate:a,data:c}}constructor(e,t){(0,eT._)(this,l),(0,eF._)(this,o,{writable:!0,value:void 0}),(0,eF._)(this,s,{writable:!0,value:void 0}),(0,eF._)(this,i,{writable:!0,value:void 0}),this.url=e,this.wavetableLength=t,(0,eL._)(this,i,(0,eU._)(this,l,eY).call(this))}}),eZ=(Y='"use strict";(()=>{function F(l){let e=220,r=440,a=.005,o=new Float32Array(0),n=0,i=0,s=0,u=0,c=0,b=2,q=W(l),d=P();function A(t){(t.frequency[0]!==r||t.baseFrequency[0]!==e)&&(e=t.baseFrequency[0],r=t.frequency[0],b=r/e),a=t.morphFrequency[0]}function V(t,m){o=t,n=Math.min(m,t.length),i=Math.floor(t.length/n),s=0,u=(s+1)%i}function x(t,m){if(n===0||i===0){t.fill(0);return}A(m);for(let f=0;f<t.length;f++){let h=q(a),p=g(o,n,s,c);if(u!==s){let k=g(o,n,u,c);t[f]=(1-h)*p+h*k}else t[f]=p;c+=b,c>=n&&(c-=n),c<0&&(c+=n),d(h)&&(s=u,u=(u+1)%i)}}return{agen:x,set:V}}function g(l,e,r,a){let o=Math.floor(a),n=a-o,i=(o+1)%e,s=l[r*e+o],u=l[r*e+i];return s+(u-s)*n}function W(l){let e=1/l,r=0;return a=>{for(r+=a*e;r>=1;)r-=1;for(;r<0;)r+=1;return r}}function P(){let l=0,e=!1;return function(a){let n=Math.abs(a-l)>.5;return l=a,a===0||e===!0?(e=!1,!1):(e=n,n)}}var y=class extends AudioWorkletProcessor{static parameterDescriptors=[{name:"baseFrequency",defaultValue:220,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"frequency",defaultValue:440,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"morphFrequency",defaultValue:.05,minValue:0,maxValue:10,automationRate:"k-rate"}];u;r;constructor(){super(),this.u=F(sampleRate),this.r=!0,this.port.onmessage=e=>{switch(e.data.type){case"WAVETABLE":this.u.set(e.data.wavetable,e.data.length);break;case"DISPOSE":this.r=!1;break}}}process(e,r,a){return this.u.agen(r[0][0],a),this.r}};registerProcessor("WavetableOscillatorWorkletProcessor",y);})();',function(e){let t="__WT__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let r=new Blob([Y],{type:"application/javascript"}),a=URL.createObjectURL(r),n=e.audioWorklet.addModule(a);return e[t]=n,n}),eH=(K={processorName:"WavetableOscillatorWorkletProcessor",paramNames:["baseFrequency","frequency","morphFrequency"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1}),postCreate(e){e.setWavetable=t=>{e.port.postMessage({type:"WAVETABLE",wavetable:t.data,length:t.length})},e.fetchWavetableNames=eG,e.loadWavetable=t=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return new eB(e.startsWith("http")?e:"https://smpldsnds.github.io/wavedit-online/samples/".concat(e.toUpperCase(),".WAV"),t).onLoad()})(t).then(t=>{e.setWavetable(t)})}},function(e){var t;let r;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AudioWorkletNode(e,K.processorName,K.workletOptions(a));n.__PROCESSOR_NAME__=K.processorName;let o=function(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}(n,K.paramNames,a);return null===(t=K.postCreate)||void 0===t||t.call(K,n),r=!1,Object.assign(n,{dispose(){var e,t;if(!r&&(r=!0,n.disconnect(),null===(e=n.port)||void 0===e||e.postMessage({type:"DISPOSE"}),o))for(;o.length;){let e=o.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});function eG(){return eB.fetchAvailableNames()}async function eY(){let e=await fetch(this.url);if(!e.ok)throw Error("Failed to load ".concat(this.url));let t=await e.arrayBuffer(),r=u.decodeWavetable(t);return(0,eL._)(this,o,r.sampleRate),(0,eL._)(this,s,r.data),{data:(0,eq._)(this,s),length:this.wavetableLength,sampleRate:(0,eq._)(this,o)}}function eK(e,t,r){let a=[];for(let n of t){e.parameters&&(e[n]=e.parameters.get(n));let t=e[n];if(!t)throw Error("Invalid param name: "+n);let o=r[n];if("number"==typeof o)t.value=o;else if(o instanceof AudioNode)t.value=0,o.connect(t),a.push(o);else if("function"==typeof o){t.value=0;let r=o(e.context);r.connect(t),a.push(r)}}return a}function ez(e,t){let r=!1;return Object.assign(e,{dispose(){var a,n;if(!r&&(r=!0,e.disconnect(),null===(a=e.port)||void 0===a||a.postMessage({type:"DISPOSE"}),t))for(;t.length;){let e=t.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(n=e.dispose)||void 0===n||n.call(e):e.disconnect():"function"==typeof e&&e()}}})}function eX(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new GainNode(e),a=eK(r,["gain"],t);return ez(r,a)}var eQ=Object.assign(eX,{val:(e,t)=>eX(e,{gain:t})});function e$(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new OscillatorNode(e,{type:t.type});r.start();let a=eK(r,["frequency","detune"],t);return ez(r,a)}function eJ(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new BiquadFilterNode(e,{type:t.type}),a=eK(r,["frequency","detune","Q","gain"],t);return ez(r,a)}function e0(e){return ez(e.reduce((e,t)=>(e.connect(t),t)),e)}function e1(e){return e.__synthlet||(e.__synthlet=function(e){let t=t=>r=>t(e,r),r=t(eQ),a=t(e$),n=t(eJ),o=t(X),s=t(et),i=t(ee),l=t(el),u=t(ed),c=t(eb),p=t(ey),d=t(ew),f=t(eA),m=t(eE),h=t(eV),g=t(eR),b=t(eH),v=t(ep),y={param:Object.assign((e,t)=>g({input:e,...t}),{db:(e,t)=>g({scale:eP.DbToGain,input:e,...t}),lin:(e,t,r,a)=>g({scale:eP.Linear,input:r,min:e,max:t,...a}),add:(e,t,r)=>g({scale:eP.Bypass,input:t,offset:e,...r}),mul:(e,t,r)=>g({scale:eP.Bypass,input:t,gain:e,...r})}),conn:function(e){let t=(e,t)=>e.connect(t),r=e=>e4(e.reduce((e,t)=>(e.connect(t),t)),e),a=(e,t)=>(e.forEach(e=>e.connect(t)),e4(t,e));return Object.assign(function(e,n){for(var o=arguments.length,s=Array(o>2?o-2:0),i=2;i<o;i++)s[i-2]=arguments[i];if(!n){if(Array.isArray(e))throw Error("Connect in parallel requires a destination");return e}let l=Array.isArray(e)?a(e,n):t(e,n);return s.length>0?r([l,...s]):l},{pair:t,chain:r,mixInto:a,serial:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return r(t)},mix:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return a(r,e())}})}(r),amp:Object.assign(e=>r({gain:e}),{adsr:(e,t)=>s({gate:e,...t}),perc:(e,t,a,n)=>r({gain:o({trigger:e,attack:t,decay:a,...n})})}),clock:Object.assign(u,{}),clip:Object.assign(v,{soft:(e,t)=>v({type:eu.Tanh,preGain:e,postGain:t})}),chorusT:Object.assign(l,{}),euclid:Object.assign(c,{}),impulse:Object.assign(p,{trigger:e=>p({trigger:e})}),lfo:Object.assign(d,{sin:(e,t)=>d({type:eN.Sine,frequency:e,...t}),tri:(e,t)=>d({type:eN.Triangle,frequency:e,...t}),rampUp:(e,t)=>d({type:eN.RampUp,frequency:e,...t}),rampDown:(e,t)=>d({type:eN.RampDown,frequency:e,...t}),square:(e,t)=>d({type:eN.Square,frequency:e,...t}),expRampUp:(e,t)=>d({type:eN.ExpRampUp,frequency:e,...t}),expRampDown:(e,t)=>d({type:eN.ExpRampDown,frequency:e,...t}),expTriangle:(e,t)=>d({type:eN.ExpTriangle,frequency:e,...t}),sh:(e,t)=>d({type:eN.RandSampleHold,frequency:e,...t}),impulse:(e,t)=>d({type:eN.Impulse,frequency:e,...t})}),noise:Object.assign(f,{white:()=>f({type:ej.White}),pink:()=>f({type:ej.Pink})}),polyblep:Object.assign(m,{}),svf:Object.assign(h,{lp:(e,t)=>h({type:eW.LowPass,frequency:e,...t}),hp:(e,t)=>h({type:eW.HighPass,frequency:e,...t}),bp:(e,t)=>h({type:eW.BandPass,frequency:e,...t})}),env:Object.assign(i,{adsr:(e,t)=>i({gate:e,...t}),ad:(e,t)=>o({trigger:e,...t})}),bqf:Object.assign(n,{lp:(e,t)=>n({type:"lowpass",frequency:e,...t}),hi:(e,t)=>n({type:"highpass",frequency:e,...t}),bandpass:(e,t)=>n({type:"bandpass",frequency:e,...t}),allpass:(e,t)=>n({type:"allpass",frequency:e,...t}),highshelf:(e,t)=>n({type:"highshelf",frequency:e,...t}),lowshelf:(e,t)=>n({type:"lowshelf",frequency:e,...t}),peak:(e,t)=>n({type:"peaking",frequency:e,...t}),notch:(e,t)=>n({type:"notch",frequency:e,...t})}),gain:e=>r({gain:e}),osc:Object.assign(a,{sin:(e,t)=>a({type:"sine",frequency:e,...t}),saw:(e,t)=>a({type:"sawtooth",frequency:e,...t}),square:(e,t)=>a({type:"square",frequency:e,...t}),tri:(e,t)=>a({type:"triangle",frequency:e,...t})}),wt:Object.assign(b,{}),withParams:e2,synth:e=>Object.assign(e2(e.out,e.params),e.modules),op:t=>r=>t(e,r)};return Object.assign(y,{use:t=>{let r={};for(let a in t)r[a]=r=>t[a](e,r);return Object.assign(y,r)}})}(e)),e.__synthlet}function e2(e,t){return Object.assign(ez(e,Object.values(t)),function(e){let t={};if(e)for(let r in e)t[r]=e[r].input;return t}(t))}function e4(e,t){let r=e.dispose,a=!1;return e.dispose=()=>{a||(a=!0,r(),t.forEach(e=>{"dispose"in e&&e.dispose()}))},e}var e7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.param.lin(20,100,a.tone),o=r.conn.serial(r.conn.mix(r.osc.sin(r.env.ad(a.trigger,{attack:.1,decay:a.decay,offset:n,gain:50})),r.impulse.trigger(a.trigger)),r.amp.perc(a.trigger,.01,a.decay),r.clip.soft(5,.6));return r.withParams(o,a)},e5=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.conn.mixInto([r.osc.sin(100),r.osc.sin(200)],r.amp.perc(a.trigger,.01,a.decay)),o=r.conn.serial(r.noise.white(),r.amp.perc(a.trigger,.01,a.decay)),s=r.conn.mixInto([n,o],r.gain(a.volume));return r.withParams(s,a)},e9=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.param.lin(2400,2500,a.tone),o=r.param.lin(1e3,3e3,a.tone);return r.withParams(r.conn.serial(r.osc.tri(n),r.amp.perc(a.trigger,.01,a.decay),r.bqf.bandpass(o),r.amp(a.volume)),a)},e3=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.param.lin(8e3,12e3,a.tone),o=r.param.add(-2e3,n),s=r.conn([263,400,421,474,587,845].map(e=>r.osc.square(e)),r.amp(.3));return r.withParams(r.conn(s,r.bqf.bandpass(n),r.bqf.hi(o),r.amp.perc(a.trigger,.01,a.decay),r.gain(a.volume)),a)},e6=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),{trigger:a,decay:n,volume:o,tone:s}=tn(r,t),i=r.param.lin(700,900,s),l=r.param.lin(440,540,s),u=r.param.mul(.1,n),c=r.conn([r.conn.serial(r.osc.square(i),r.amp.perc(a,.001,n)),r.conn.serial(r.osc.square(l),r.amp.perc(a,.001,u))],r.amp(o));return r.withParams(c,{trigger:a,volume:o,tone:s,decay:n})},e8=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),{trigger:a,decay:n,volume:o,tone:s}=tn(r,t),i=r.param.lin(440,540,s),l=r.param.lin(600,1700,s),u=r.param.lin(2e3,5e3,s),c=r.param.mul(.5,n),p=r.param.mul(.2,n),d=r.param.mul(5,n),f=r.conn([263,400,421,474,587,845].map(e=>r.osc.square(e)),r.amp(.3)),m=r.conn([r.conn(f,r.bqf.lp(i),r.amp.perc(a,.001,c)),r.conn(f,r.bqf.bandpass(l),r.amp.perc(a,.001,p)),r.conn(f,r.bqf.hi(u),r.amp.perc(a,.001,d))],r.amp(o));return r.withParams(m,{trigger:a,volume:o,tone:s,decay:n})},te=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.param.lin(4e3,6e3,a.tone),o=r.conn(r.noise.white(),r.bqf.hi(n),r.amp.perc(a.trigger,.02,a.decay),r.amp(a.volume));return r.withParams(o,a)},tt=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.param.lin(500,1500,a.tone),o=r.conn([r.conn(r.noise.white(),r.bqf.bandpass(n),r.amp.perc(a.trigger,.02,a.decay),r.gain(r.lfo.rampUp(100))),r.impulse.trigger(a.trigger)],r.clip.soft(2,.5),r.gain(a.volume));return r.withParams(o,a)},tr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.param.lin(125,240,a.tone),o=r.conn([r.conn(r.osc.sin(n),r.amp.perc(a.trigger,.01,a.decay)),r.conn(r.impulse.trigger(a.trigger),r.gain(.3)),r.conn(r.noise.pink(),r.amp.perc(a.trigger,.01,a.decay))],r.amp(a.volume));return r.withParams(o,a)},ta=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e1(e),a=tn(r,t),n=r.param.lin(220,455,a.tone),o=r.conn([r.conn(r.osc.sin(n),r.amp.perc(a.trigger,.001,a.decay)),r.conn(r.impulse.trigger(a.trigger),r.gain(.3))],r.amp(1));return r.withParams(o,a)};function tn(e){var t,r,a;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.param(n.trigger);return{trigger:o,decay:e.param(null!==(t=n.decay)&&void 0!==t?t:.5),volume:e.param.db(null!==(r=n.volume)&&void 0!==r?r:0),tone:e.param(null!==(a=n.tone)&&void 0!==a?a:.5)}}function to(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e1(e),n=a.param(r.gate),o=a.param.db(null!==(t=r.volume)&&void 0!==t?t:0),s=a.polyblep({frequency:r.frequency,...r.osc}),i=a.lfo({type:eN.Sine,gain:0,frequency:10});i.connect(s.frequency);let l=a.env.adsr(n,{gain:3e3,offset:2e3}),u=a.svf({frequency:l}),c=a.amp.adsr(n,{...r.amp});return a.synth({out:a.conn.serial(s,u,c,a.amp(o)),params:{gate:n,volume:o},modules:{osc:s,filterEnv:l,filter:u,amp:c,vibrato:i}})}function ts(e){return Promise.all([z(e),J(e),en(e),es(e),ei(e),ec(e),ef(e),em(e),eg(e),ev(e),ex(e),eD(e),ek(e),eO(e),eS(e),eO(e),eI(e),eZ(e)]).then(()=>e)}}}]);