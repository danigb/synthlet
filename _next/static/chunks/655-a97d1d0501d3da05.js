"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[655],{7897:function(e,t,s){var a=s(7949),i=s(64),r=s(2576),n=s(1471),o=s(9237);let l=e=>{let t=(0,i.KM)(e),s=t.param(),a=t.param(.01),r=t.param(.3);return t.withParams(t.conn.serial(t.osc.sin(440),t.amp.perc(s,a,r)),{trigger:s,attack:a,release:r})};function c(){let e=(0,o.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,a.jsx)(n.i,{label:"Attack",inputClassName:"col-span-2",param:e.attack}),(0,a.jsx)(n.i,{label:"Release",inputClassName:"col-span-2",max:5,param:e.release})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(r.yR,{trigger:e.trigger})})]}):null}t.default=()=>(0,a.jsx)(r.Yt,{label:"AD",children:(0,a.jsx)(c,{})})},1978:function(e,t,s){var a=s(7949),i=s(64),r=s(2576),n=s(9237);let o=e=>{let t=(0,i.KM)(e),s=t.param();return t.withParams(t.conn.serial(t.osc.sin(440),t.amp.adsr(s)),{gate:s})};function l(){let e=(0,n.Z)(o);return e?(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(r.Gp,{gate:e.gate})}):null}t.default=()=>(0,a.jsx)(r.Yt,{label:"ADSR",children:(0,a.jsx)(l,{})})},2954:function(e,t,s){var a=s(7949),i=s(6265),r=s(64),n=s(2576),o=s(1471),l=s(9237);function c(e){let t=(0,r.SU)(e,{bpm:120}),s=(0,r.Ek)(e,{clock:t,beats:5,steps:16}),a=(0,r.km)(e,{trigger:s,type:r.Co.Random,scale:r.ji.Major,octaves:2}),i=(0,r.op)(e,{gate:s,frequency:a}),n=(0,r.U)(e,{decay:.9});return i.connect(n),Object.assign(n,{synth1:i,arp:a,clock:t,euclid:s})}function f(){let[e,t]=(0,i.useState)(r.Z9.White),s=(0,l.Z)(c);return s?(0,a.jsxs)("div",{className:"grid grid-col-4 gap-2",children:[(0,a.jsx)(o.i,{label:"Tempo",inputClassName:"col-span-2",min:60,max:180,units:"bpm",param:s.clock.bpm}),(0,a.jsx)(o.i,{label:"Beats",inputClassName:"col-span-2",min:1,max:16,step:1,param:s.euclid.beats})]}):null}t.default=()=>(0,a.jsx)(n.Yt,{label:"Arpeggiator",children:(0,a.jsx)(f,{})})},1987:function(e,t,s){s.d(t,{AttackDecayExample:function(){return c}});var a=s(7949),i=s(1471),r=s(6265),n=s(64),o=s(9237);let l=e=>{let t=(0,n.KM)(e),s=t.param(),a=t.param(),i=t.param();return t.synth({out:t.conn.serial(t.osc.sin(t.env.ad(s,{attack:i,decay:a,offset:440,gain:2e3})),t.amp(.2)),params:{trigger:s,attack:i,decay:a}})};function c(){let[e,t]=(0,r.useState)(!1);return e?(0,a.jsx)(f,{onClose:()=>t(!1)}):(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:()=>t(!0),children:"Open example"})}function f(e){let{onClose:t}=e,s=(0,o.Z)(l);return s?(0,a.jsxs)("div",{className:"bg-fd-card text-fd-foreground p-2 border rounded",children:[(0,a.jsx)("div",{className:"text-xl mb-4",children:"AttackDecay generator example"}),(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(i.i,{label:"Attack",labelClassName:"w-20 text-right mr-2",min:0,max:1,step:.001,param:s.attack})}),(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(i.i,{label:"Decay",labelClassName:"w-20 text-right mr-2",min:0,max:1,step:.001,param:s.decay})}),(0,a.jsx)("div",{className:"flex mb-4",children:(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{s.trigger.value=1},onMouseUp:()=>{s.trigger.value=0},children:"Trigger"})}),(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:t,children:"Close"})]}):null}},170:function(e,t,s){var a=s(7949),i=s(64),r=s(2576),n=s(1471),o=s(9237);function l(e){let t=(0,i.dO)(e,{input:.1}),s=(0,i.D_)(e,{frequency:440}),a=(0,i.wF)(e,{gate:t}),r=(0,i.bK)(e,{});return s.connect(a).connect(r),Object.assign(r,{osc:s,amp:a,gate:t,chorus:r})}function c(){let e=(0,o.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,a.jsx)(n.i,{label:"Delay",inputClassName:"col-span-2",param:e.chorus.delay}),(0,a.jsx)(n.i,{label:"Rate",inputClassName:"col-span-2",param:e.chorus.rate}),(0,a.jsx)(n.i,{label:"Depth",inputClassName:"col-span-2",param:e.chorus.depth}),(0,a.jsx)(n.i,{label:"Deviation",inputClassName:"col-span-2",param:e.chorus.deviation})]}),(0,a.jsx)(r.Gp,{gate:e.gate.input})]}):null}t.default=()=>(0,a.jsx)(r.Yt,{label:"Chorus",children:(0,a.jsx)(c,{})})},7028:function(e,t,s){var a=s(7949),i=s(64),r=s(2576),n=s(1471),o=s(9237);function l(e){let t=(0,i.dO)(e,{input:60}),s=(0,i.SU)(e,{bpm:t});return Object.assign((0,i.m7)(e,{trigger:s}),{bpm:t.input})}function c(){let e=(0,o.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,a.jsx)(n.i,{label:"Tempo",inputClassName:"col-span-2",min:1,max:1e3,units:"bpm",param:e.bpm})}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(n.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,units:"dB",param:e.volume})})]}):null}t.default=()=>(0,a.jsx)(r.Yt,{label:"Clock",children:(0,a.jsx)(c,{})})},8682:function(e,t,s){var a=s(7949),i=s(64),r=s(2576),n=s(1471),o=s(9237);function l(e){let t=(0,i.m7)(e),s=(0,i.U)(e);return s.connect(e.destination),t.connect(s),Object.assign(t,{reverb:s})}function c(){let e=(0,o.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.UC,{label:"Input",paneClassName:"grid grid-cols-4 gap-2 mb-4",children:[(0,a.jsx)(n.i,{label:"Filter",inputClassName:"col-span-2",param:e.reverb.filter}),(0,a.jsx)(n.i,{label:"Diffusion 1",inputClassName:"col-span-2",param:e.reverb.inputDiffusion1}),(0,a.jsx)(n.i,{label:"Diffusion 2",inputClassName:"col-span-2",param:e.reverb.inputDiffusion2})]}),(0,a.jsxs)(r.UC,{label:"Feedback",paneClassName:"grid grid-cols-4 gap-2 mb-4",children:[(0,a.jsx)(n.i,{label:"Diffusion 1",inputClassName:"col-span-2",param:e.reverb.decayDiffusion1}),(0,a.jsx)(n.i,{label:"Diffusion 2",inputClassName:"col-span-2",param:e.reverb.decayDiffusion2}),(0,a.jsx)(n.i,{label:"Decay",inputClassName:"col-span-2",param:e.reverb.decay}),(0,a.jsx)(n.i,{label:"Damping",inputClassName:"col-span-2",param:e.reverb.damping})]}),(0,a.jsx)(r.yR,{className:"mt-4",trigger:e.trigger})]}):null}t.default=()=>(0,a.jsx)(r.Yt,{label:"Dattorro Reverb",children:(0,a.jsx)(c,{})})},5011:function(e,t,s){var a=s(7949),i=s(1471),r=s(6265),n=s(64),o=s(2576),l=s(9237);let c={KickDrum:n.nl,SnareDrum:n.vD,ClaveDrum:n.m7,HiHatDrum:n.VR,CowBellDrum:n.Dr,CymbalDrum:n.e2,MaracasDrum:n._K,HandclapDrum:n.NR,TomDrum:n.IL,CongaDrum:n.q1};class f{getNames(){return Object.keys(c)}getSynth(e){if(!this.synths.has(e)){console.log("CREATE SYNTH",e);let t=c[e];if(!t)throw Error("Unknown instrument: ".concat(e));let s=t(this.context);s.connect(this.output),this.synths.set(e,Object.assign(s,{name:e}))}return this.synths.get(e)}dispose(){for(let e of this.synths.values())e.dispose()}constructor(e){this.context=e,this.output=e.createGain(),this.synths=new Map,this.connect=this.output.connect.bind(this.output)}}function u(e){let{}=e,t=(0,l.Z)(e=>new f(e)),[s,n]=(0,r.useState)(null);return t?(0,a.jsxs)(a.Fragment,{children:[s&&(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[(0,a.jsx)("div",{className:"col-span-4 font-bold border-b",children:s.name.slice(0,-4)}),(0,a.jsx)(i.i,{label:"Tone",inputClassName:"col-span-2",min:0,max:1,step:.01,param:s.tone}),(0,a.jsx)(i.i,{label:"Decay",inputClassName:"col-span-2",min:0,max:1,step:.01,param:s.decay}),(0,a.jsx)(i.i,{label:"Volume",inputClassName:"col-span-2",min:-60,max:0,step:1,units:"dB",param:s.volume})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:t.getNames().map(e=>(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onMouseDown:()=>{let s=t.getSynth(e);s.trigger.value=1,n(s)},onMouseUp:()=>{let s=t.getSynth(e);s.trigger.value=0,n(s)},children:e.slice(0,-4)},e))})]}):null}t.default=()=>(0,a.jsx)(o.Yt,{label:"Drums",children:(0,a.jsx)(u,{})})},4951:function(e,t,s){var a=s(7949),i=s(64),r=s(2576),n=s(1471),o=s(9237);let l=e=>{let t=(0,i.KM)(e).use({clave:i.m7,kick:i.nl}),s=t.param(100),a=t.clock({bpm:s}),r=t.param.db(-12),n=t.clave({trigger:t.euclid({clock:a,steps:16,beats:7,subdivison:4,rotation:3}),volume:r}),o=t.kick({trigger:t.euclid({clock:a,steps:16,beats:5,subdivison:4}),volume:r});return t.withParams(t.conn([n,o],t.gain()),{bpm:s,volume:r})};function c(){let e=(0,o.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"grid grid-cols-4 gap-4",children:(0,a.jsx)(n.i,{label:"Tempo",inputClassName:"col-span-2",min:1,max:1e3,param:e.bpm,units:"bpm"})}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(n.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,param:e.volume,units:"dB"})})]}):null}t.default=()=>(0,a.jsx)(r.Yt,{label:"Euclid",children:(0,a.jsx)(c,{})})},2152:function(e,t,s){s.d(t,{ImpulseExample:function(){return l}});var a=s(7949),i=s(64),r=s(2576),n=s(9237);let o=e=>{let t=(0,i.KM)(e),s=t.param();return t.synth({out:t.impulse.trigger(s),params:{trigger:s}})};function l(){let e=(0,n.Z)(o);return e?(0,a.jsx)(r.Yt,{label:"Impulse",children:(0,a.jsx)("div",{className:"flex ",children:(0,a.jsx)(r.yR,{trigger:e.trigger})})}):null}},6545:function(e,t,s){var a=s(7949),i=s(6265),r=s(64),n=s(2576),o=s(1471),l=s(9237);function c(e){let t=r.dO.input(e),s=r.dO.db(e,-24),a=(0,r.WE)(e,{trigger:t});return Object.assign((0,r.No)([a,r.S9.val(e,s)]),{ks:a,volume:s.input,trigger:t.input})}function f(){let[e,t]=(0,i.useState)(r.Z9.White),s=(0,l.Z)(c);return s?(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)(o.i,{label:"Frequency",inputClassName:"col-span-2",min:100,max:2e3,param:s.ks.frequency}),(0,a.jsx)(o.i,{label:"Decay",inputClassName:"col-span-2",param:s.ks.decay,min:.01,max:1}),(0,a.jsx)("div",{className:"col-span-4",children:(0,a.jsx)(n.yR,{trigger:s.trigger})}),(0,a.jsx)(o.i,{label:"Volume",inputClassName:"col-span-2",min:-100,max:0,param:s.volume,units:"dB"})]}):null}t.default=()=>(0,a.jsx)(n.Yt,{label:"Noise",children:(0,a.jsx)(f,{})})},8773:function(e,t,s){s.d(t,{default:function(){return f}});var a=s(7949),i=s(64),r=s(1471);function n(e){let{adsr:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.i,{label:"Attack",inputClassName:"col-span-2",min:.1,max:10,step:.1,param:t.attack,units:"secs"}),(0,a.jsx)(r.i,{label:"Decay",inputClassName:"col-span-2",min:.1,max:10,step:.1,param:t.decay,units:"secs"}),(0,a.jsx)(r.i,{label:"Sustain",inputClassName:"col-span-2",min:.1,max:1,step:.01,param:t.sustain}),(0,a.jsx)(r.i,{label:"Release",inputClassName:"col-span-2",min:.1,max:100,step:.2,param:t.release,units:"secs"})]})}var o=s(2576),l=s(9237);function c(){let e=(0,l.Z)(e=>(0,i.op)(e));return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.UC,{label:"Oscillator",paneClassName:"grid grid-cols-4 gap-2",children:[(0,a.jsx)(r.i,{label:"Frequency",inputClassName:"col-span-2",min:20,max:3e3,param:e.osc.frequency}),(0,a.jsx)(r.i,{label:"Vibrato depth",inputClassName:"col-span-2",max:20,param:e.vibrato.gain}),(0,a.jsx)(r.i,{label:"Vibrato freq",inputClassName:"col-span-2",min:0,max:100,param:e.vibrato.frequency})]}),(0,a.jsx)(o.UC,{label:"Filter",paneClassName:"grid grid-cols-4 gap-2",children:(0,a.jsx)(n,{adsr:e.filterEnv})}),(0,a.jsx)(o.UC,{label:"Amplifier",paneClassName:"grid grid-cols-4 gap-2",children:(0,a.jsx)(n,{adsr:e.amp})}),(0,a.jsx)("div",{className:"flex mt-2",children:(0,a.jsx)(o.Gp,{gate:e.gate})}),(0,a.jsx)("div",{className:"grid grid-cols-4 mt-4 pt-2 border-t",children:(0,a.jsx)(r.i,{label:"Volume",inputClassName:"col-span-2",min:-48,max:0,units:"dB",param:e.volume})})]}):null}var f=()=>(0,a.jsx)(o.Yt,{label:"Mono Synth",children:(0,a.jsx)(c,{})})},4702:function(e,t,s){s.r(t);var a=s(7949),i=s(6265),r=s(64),n=s(2576),o=s(1471),l=s(9237);function c(e){let t=r.dO.db(e,-24),s=(0,r.cy)(e,{type:r.Z9.White}),a=r.S9.val(e,t);return Object.assign((0,r.No)([s,a]),{noise:s,volume:t.input})}function f(){let[e,t]=(0,i.useState)(r.Z9.White),s=(0,l.Z)(c);return s?(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{children:"Noise type:"}),(0,a.jsxs)("select",{value:e,onChange:e=>{let a=parseInt(e.target.value);t(a),s.noise.type.value=a},children:[(0,a.jsx)("option",{value:r.Z9.White,children:"White"}),(0,a.jsx)("option",{value:r.Z9.Pink,children:"Pink"})]}),(0,a.jsx)("div",{className:"col-span-2"}),(0,a.jsx)(o.i,{label:"Volume",inputClassName:"col-span-2",min:-100,max:0,param:s.volume,units:"dB"})]}):null}t.default=()=>(0,a.jsx)(n.Yt,{label:"Noise",children:(0,a.jsx)(f,{})})},4901:function(e,t,s){s.d(t,{default:function(){return h}});var a=s(7949),i=s(64),r=s(2576),n=s(6265);function o(e){let{name:t,valueNames:s,labelClassName:i,inputClassName:r,param:o,hint:l}=e,[c,f]=(0,n.useState)(o.value);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:i,children:t}),(0,a.jsx)("select",{className:r,value:c,onChange:e=>{let t=parseInt(e.target.value);f(t),o.value=t},children:s.map((e,t)=>(0,a.jsx)("option",{value:t,children:e},e))}),(0,a.jsx)("div",{children:l})]})}var l=s(1471),c=s(9237);function f(e){let t=i.dO.db(e,-24),s=(0,i.F2)(e,{frequency:1,gain:0}),a=(0,i.Zm)(e,{frequency:440,detune:s}),r=(0,i.S9)(e,{gain:t});return Object.assign((0,i.No)([a,r]),{osc:a,lfo:s,amp:r,volume:t.input})}function u(){let e=(0,c.Z)(f);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)(o,{name:"Waveform",inputClassName:"col-span-2",param:e.osc.type,valueNames:["Saw","Square","Triangle"]}),(0,a.jsx)(l.i,{label:"Frequency",inputClassName:"col-span-2",min:20,max:3e3,units:"Hz",param:e.osc.frequency}),(0,a.jsx)(l.i,{label:"Modulation",inputClassName:"col-span-2",min:0,max:1e3,param:e.lfo.gain})]}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(l.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,param:e.volume,units:"dB"})})]}):null}var h=()=>(0,a.jsx)(r.Yt,{label:"Polyblep oscillator",children:(0,a.jsx)(u,{})})},7784:function(e,t,s){var a=s(7949),i=s(64),r=s(2576),n=s(1471),o=s(9237);function l(e){let t=(0,i.m7)(e),s=(0,i.Pz)(e,{});return t.connect(s).connect(e.destination),Object.assign(t,{reverb:s})}function c(){let e=(0,o.Z)(l);return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2",children:[(0,a.jsx)(n.i,{label:"Delay",inputClassName:"col-span-2",param:e.reverb.delay,min:0,max:1.45}),(0,a.jsx)(n.i,{label:"Damping",inputClassName:"col-span-2",param:e.reverb.damping}),(0,a.jsx)(n.i,{label:"Size",inputClassName:"col-span-2",param:e.reverb.size,min:.1,max:3}),(0,a.jsx)(n.i,{label:"Diffusion",inputClassName:"col-span-2",param:e.reverb.diffusion}),(0,a.jsx)(n.i,{label:"Feedback",inputClassName:"col-span-2",param:e.reverb.diffusion}),(0,a.jsx)(n.i,{label:"Modulation depth",inputClassName:"col-span-2",param:e.reverb.diffusion}),(0,a.jsx)(n.i,{label:"Modulation frequency",inputClassName:"col-span-2",min:0,max:10,param:e.reverb.modFreq})]}),(0,a.jsx)(r.yR,{className:"mt-4",trigger:e.trigger})]}):null}t.default=()=>(0,a.jsx)(r.Yt,{label:"ReverbDelay",children:(0,a.jsx)(c,{})})},2148:function(e,t,s){var a=s(7949),i=s(6265),r=s(64),n=s(2576),o=s(1471),l=s(9237);let c=e=>{let t=(0,r.D_)(e,{type:"sawtooth",frequency:1e3}),s=(0,r.$N)(e,{type:r.zX.LowPass,frequency:1e3,Q:1}),a=(0,r.dO)(e,{scale:r.$q.DbToGain,input:-12}),i=(0,r.F2)(e,{frequency:2,type:r.Pf.RampUp,gain:0}),n=(0,r.S9)(e,{gain:a});return t.connect(s).connect(n),i.connect(s.frequency),Object.assign(n,{osc:t,filter:s,volume:a.input,lfo:i})};function f(){let[e,t]=(0,i.useState)(r.zX.LowPass),s=(0,l.Z)(c);return s?(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{children:"Filter type"}),(0,a.jsxs)("select",{className:"col-span-2",value:e,onChange:e=>{t(parseInt(e.target.value)),s.filter.type.value=parseInt(e.target.value)},children:[(0,a.jsx)("option",{value:r.zX.ByPass,children:"None"}),(0,a.jsx)("option",{value:r.zX.LowPass,children:"Low pass"}),(0,a.jsx)("option",{value:r.zX.HighPass,children:"High pass"}),(0,a.jsx)("option",{value:r.zX.BandPass,children:"Band pass"}),(0,a.jsx)("option",{value:r.zX.Notch,children:"Notch"}),(0,a.jsx)("option",{value:r.zX.Peak,children:"Peak"}),(0,a.jsx)("option",{value:r.zX.AllPass,children:"All pass"})]}),(0,a.jsx)("div",{}),(0,a.jsx)(o.i,{label:"Frequency",inputClassName:"col-span-2",param:s.filter.frequency,min:20,max:2e4}),(0,a.jsx)(o.i,{label:"Q",inputClassName:"col-span-2",param:s.filter.Q,min:0,max:40}),(0,a.jsx)(o.i,{label:"Modulation",inputClassName:"col-span-2",param:s.lfo.gain,min:0,max:1e3}),(0,a.jsx)(o.i,{label:"Volume",inputClassName:"col-span-2",param:s.volume,min:-60,max:0})]}):null}t.default=()=>(0,a.jsx)(n.Yt,{label:"Svf",children:(0,a.jsx)(f,{})})},6548:function(e,t,s){var a=s(7949),i=s(6265),r=s(64),n=s(2576),o=s(1471),l=s(9237);let c=e=>{let t=(0,r.D_)(e,{type:"sawtooth",frequency:5e3}),s=(0,r.dO)(e,{scale:r.$q.DbToGain,input:-12}),a=(0,r.F2)(e,{frequency:10,type:r.Pf.RandSampleHold,gain:0}),i=(0,r.$j)(e,{frequency:2e3,detune:a}),n=(0,r.S9)(e,{gain:s});return t.connect(i).connect(n).connect(e.destination),Object.assign(n,{osc:t,filter:i,volume:s.input,lfo:a})};function f(){let[e,t]=(0,i.useState)(r.$j.MOOG_LADDER),s=(0,l.Z)(c);return s?(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{children:"Filter type"}),(0,a.jsxs)("select",{className:"col-span-2",value:e,onChange:e=>{t(parseInt(e.target.value)),s.filter.type.value=parseInt(e.target.value)},children:[(0,a.jsx)("option",{value:r.$j.MOOG_LADDER,children:"Moog Ladder"}),(0,a.jsx)("option",{value:r.$j.MOOG_HALF_LADDER,children:"Moog Half Ladder"}),(0,a.jsx)("option",{value:r.$j.KORG35_LPF,children:"Korg35 Low Pass"}),(0,a.jsx)("option",{value:r.$j.KORG35_HPF,children:"Korg35 High Pass"}),(0,a.jsx)("option",{value:r.$j.DIODE_LADDER,children:"Diode Ladder"}),(0,a.jsx)("option",{value:r.$j.OBERHEIM_LPF,children:"Oberheim Low Pass"}),(0,a.jsx)("option",{value:r.$j.OBERHEIM_HPF,children:"Oberheim High Pass"}),(0,a.jsx)("option",{value:r.$j.OBERHEIM_BPF,children:"Oberheim Band Pass"}),(0,a.jsx)("option",{value:r.$j.OBERHEIM_BSF,children:"Oberheim Band Stop"})]}),(0,a.jsx)("div",{}),(0,a.jsx)(o.i,{label:"Frequency",inputClassName:"col-span-2",param:s.filter.frequency,min:20,max:2e4}),(0,a.jsx)(o.i,{label:"Resonance",inputClassName:"col-span-2",param:s.filter.resonance,min:0,max:1}),(0,a.jsx)(o.i,{label:"Modulation",inputClassName:"col-span-2",param:s.lfo.gain,min:-12,max:12}),(0,a.jsx)(o.i,{label:"Volume",inputClassName:"col-span-2",param:s.volume,min:-60,max:0})]}):null}t.default=()=>(0,a.jsx)(n.Yt,{label:"Virtual Analog Filter",children:(0,a.jsx)(f,{})})},6683:function(e,t,s){var a=s(7949),i=s(6265),r=s(64),n=s(2576),o=s(1471),l=s(9237);let c=()=>e=>{let t=(0,r.KM)(e),s=t.param(),a=t.param(440),i=t.param.db(-24),n=t.wt();return n.loadWavetable("ACCESS_V"),Object.assign(t.withParams(t.conn.serial(n,t.amp.adsr(s),t.amp(i)),{freq:a,volume:i,gate:s}),{osc:n})};function f(){let[e,t]=(0,i.useState)("ACCESS_V"),[s,f]=(0,i.useState)([]);(0,i.useEffect)(()=>{(0,r.Xi)().then(e=>{e.sort(),f(e)})},[]);let u=(0,l.Z)(c());return u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,a.jsx)("div",{className:"text-right",children:"Wavetable"}),(0,a.jsx)("select",{className:"col-span-2 bg-zinc-900 p-1 rounded border-zinc-300",value:e,onChange:e=>{t(e.target.value),u.osc.loadWavetable(e.target.value)},children:s.map(e=>(0,a.jsx)("option",{children:e},e))}),(0,a.jsx)("div",{}),(0,a.jsx)(o.i,{label:"Morph freq",labelClassName:"text-right",inputClassName:"col-span-2",min:0,max:10,step:.1,param:u.osc.morphFrequency})]}),(0,a.jsx)("div",{className:"flex mt-4",children:(0,a.jsx)(n.Gp,{gate:u.gate})}),(0,a.jsx)("div",{className:"flex px-1 pt-2 mt-2 border-t border-fd-border gap-4",children:(0,a.jsx)(o.i,{label:"Volume",inputClassName:"flex-grow",min:-36,max:0,units:"dB",param:u.volume})})]}):null}t.default=()=>(0,a.jsx)(n.Yt,{label:"Wavetable",children:(0,a.jsx)(f,{})})},2576:function(e,t,s){s.d(t,{Gp:function(){return l},UC:function(){return n},Yt:function(){return r},yR:function(){return o}});var a=s(7949),i=s(6265);function r(e){let{label:t,header:s,children:r}=e,[n,o]=(0,i.useState)(!1);return n?(0,a.jsxs)("div",{className:"bg-fd-card text-fd-foreground p-2 border rounded",children:[(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsxs)("div",{className:"text-xl mb-4 flex-grow",children:[t," example"]}),s,(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary",onClick:()=>{o(!1)},children:"Close"})]}),r]}):(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-secondary text-nowrap",onClick:()=>{o(!0)},children:"Open example"})})}function n(e){let{label:t,children:s,paneClassName:r}=e,[n,o]=(0,i.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"bold mt-4 border-b mb-1",children:(0,a.jsxs)("button",{onClick:()=>{o(!n)},children:[t,(0,a.jsx)("span",{className:"text-xs ml-2",children:n?"▼":"▶"})]})}),n&&(0,a.jsx)("div",{className:r,children:s})]})}function o(e){let{trigger:t,className:s}=e;return(0,a.jsx)("div",{className:"flex mb-4 "+(null!=s?s:""),children:(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{t.value=1},onMouseUp:()=>{t.value=0},children:"Trigger"})})}function l(e){let{gate:t}=e,[s,r]=(0,i.useState)(!1),[n,o]=(0,i.useState)(!1);return(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("button",{className:"border px-2 py-1 rounded bg-fd-primary text-fd-primary-foreground",onMouseDown:()=>{let e=!s||!n;o(e),t.value=e?1:0},onMouseUp:()=>{s||(o(!1),t.value=0)},children:"Gate"}),(0,a.jsxs)("label",{children:[(0,a.jsx)("input",{className:"mr-1",type:"checkbox",checked:s,onChange:()=>{r(!s)}}),"Sustain"]})]})}},1471:function(e,t,s){s.d(t,{i:function(){return r}});var a=s(7949),i=s(6265);function r(e){let{label:t,min:s=0,max:r=1,step:n,transform:o=e=>e,inputClassName:l,labelClassName:c,valueClassName:f,param:u,units:h}=e,[p,d]=(0,i.useState)(u.value);return(0,i.useEffect)(()=>{d(u.value)},[u]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:c,children:t}),(0,a.jsx)("input",{className:l,type:"range",min:s,max:r,step:null!=n?n:"any",value:p,onChange:e=>{let t=e.target.valueAsNumber;d(t),u.value=o(t)}}),(0,a.jsxs)("div",{className:f,children:[o(p).toFixed(2),h]})]})}},9237:function(e,t,s){let a;s.d(t,{Z:function(){return n}});var i=s(64),r=s(6265);function n(e){let[t,s]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let t;console.log("useSynth connecting");let r=!1;return(a||(a=(0,i.K_)(new AudioContext)),a).then(a=>{r||((t=e(a)).connect(a.destination),console.log("useSynth connected",t),s(t))}),()=>{r=!0,console.log("useSynth dispose",t),null==t||t.dispose()}},[]),t}},64:function(e,t,s){let a,i;s.d(t,{wF:function(){return eo},km:function(){return eu},ji:function(){return ec},Co:function(){return el},bK:function(){return ep},m7:function(){return tl},SU:function(){return eb},q1:function(){return tm},No:function(){return ts},Dr:function(){return tf},e2:function(){return tu},U:function(){return eM},Ek:function(){return eA},S9:function(){return e8},NR:function(){return tp},VR:function(){return tc},WE:function(){return eV},nl:function(){return tn},F2:function(){return e_},Pf:function(){return ek},_K:function(){return th},op:function(){return tg},cy:function(){return eC},Z9:function(){return eI},D_:function(){return te},dO:function(){return eT},$q:function(){return eD},Zm:function(){return eU},Pz:function(){return eB},vD:function(){return to},$N:function(){return eK},zX:function(){return eG},IL:function(){return td},$j:function(){return ez},Xi:function(){return e7},KM:function(){return ta},K_:function(){return ty}});var r,n,o,l,c,f,u,h,p,d,m,R,g,y,b,v,x,M,O,A,w,j,N,V,k,S,P,_,I,E,C,D,W,F,T,L,q,U,H,B,G,Z,K,Y,z,$,X,Q,J,ee,et=(f='"use strict";(()=>{var M=class extends AudioWorkletProcessor{r;d;constructor(){super(),this.r=!0,this.d=O(sampleRate),this.port.onmessage=a=>{switch(a.data.type){case"DISPOSE":this.r=!1;break}}}process(a,n,t){return this.d.update(t.trigger[0],t.attack[0],t.decay[0]),this.d.gen(n[0][0],t.offset[0],t.gain[0]),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["attack",.01,0,10],["decay",.1,0,10],["offset",0,0,2e4],["gain",1,0,1e4]].map(([a,n,t,d])=>({name:a,defaultValue:n,minValue:t,maxValue:d,automationRate:"k-rate"}))}};registerProcessor("AdProcessor",M);function O(l){let D=l*.05,g=l*.1,u=!1,E=.1,f=.1,h=Math.exp(-1/(.1*D)),A=Math.exp(-1/(.1*g)),r=0,s=0;return{update(o,c,i){if(o===1?u||(u=!0,r=1):u=!1,c!==E){E=c;let e=Math.max(E*D,.001);h=Math.exp(-1/e)}if(i!==f){f=i;let e=Math.max(f*g,.001);A=Math.exp(-1/e)}},gen(o,c,i){let e=0;for(let p=0;p<o.length;p++)r===1?(e=h*s+(1-h),e-s<=5e-8&&(r=2),s=e):r===2?(e=A*s,s=e,e<=5e-8&&(r=0)):e=0,o[p]=c+e*i}}}})();',function(e){let t="__AD__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([f],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),es=(u={processorName:"AdProcessor",paramNames:["trigger","attack","decay","offset","gain"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,u.processorName,u.workletOptions(a));i.__PROCESSOR_NAME__=u.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,u.paramNames,a);return null===(t=u.postCreate)||void 0===t||t.call(u,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});function ea(e){return function(t){var s;let a;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new AudioWorkletNode(t,e.processorName,e.workletOptions(i));r.__PROCESSOR_NAME__=e.processorName;let n=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(r,e.paramNames,i);return null===(s=e.postCreate)||void 0===s||s.call(e,r),a=!1,Object.assign(r,{dispose(){var e,t;if(!a&&(a=!0,r.disconnect(),null===(e=r.port)||void 0===e||e.postMessage({type:"DISPOSE"}),n))for(;n.length;){let e=n.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}}var ei=["gate","attack","decay","sustain","release","offset","gain"],er=(h='"use strict";(()=>{function I(){let u=!1;return r=>{if(u===!1&&r>=.9)return u=!0,!0;if(u===!0&&r<.1)return u=!1,!1}}function D(u){let r=Math.exp(-1.5),n=Math.exp(-4.95),s=0,o=0,l=0,b=0,p={b:0,c:0},y={b:0,c:0},A={b:0,c:0},x=I(),f=0,e=0;return k(.01,.1,.5,.3),function(a,i,c,m){F(m);let P=m.offset[0],R=m.gain[0];for(let d=0;d<i.length;d++){switch(f){case 1:e=p.b+e*p.c,(e>=1||s<=0)&&(e=1,f=2);break;case 2:e=y.b+e*y.c,(e<=b||o<=0)&&(e=b,f=3);break;case 3:e=b;break;case 4:e=A.b+e*A.c,(e<=0||l<=0)&&(e=0,f=0)}let S=c?a[d]*e:e;i[d]=S*R+P}};function F(t){k(t.attack[0],t.decay[0],t.sustain[0],t.release[0]);let a=x(t.gate[0]);a===!0?f=1:a===!1&&(f=4)}function k(t,a,i,c){(b!==i||o!==a)&&(b=i,o=a,h(y,o,b,n)),s!==t&&(s=t,h(p,s,1+2*r,r)),l!==c&&(l=c,h(A,l,0,n))}function h(t,a,i,c){let m=a*u;t.c=Math.exp(-Math.log((1+c)/c)/m),t.b=(i-c)*(1-t.c)}}var g=class extends AudioWorkletProcessor{p;r=!0;m;constructor(r){super(),this.m=r.processorOptions.mode==="modulator",this.p=D(sampleRate),this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(r,n,s){let o=this.m?r[0][0]:void 0,l=n[0][0];return this.p(o,l,this.m,s),this.r}static get parameterDescriptors(){return[["gate",0,0,1],["attack",.01,0,10],["decay",.1,0,10],["sustain",.5,0,1],["release",.3,0,100],["offset",0,0,2e4],["gain",1,-2e4,2e4]].map(([r,n,s,o])=>({name:r,defaultValue:n,minValue:s,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("AdsrProcessor",g);})();',function(e){let t="__ADSR__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([h],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),en=ea({processorName:"AdsrProcessor",paramNames:ei,workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1,processorOptions:{mode:"generator"}})}),eo=ea({processorName:"AdsrProcessor",paramNames:ei,workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,processorOptions:{mode:"modulator"}})}),el=((p=el||{})[p.Random=0]="Random",p),ec=((d=ec||{})[d.Augmented=2457]="Augmented",d[d.Blues=1257]="Blues",d[d.Chromatic=4095]="Chromatic",d[d.Diminished=2925]="Diminished",d[d.Dominant7th=1169]="Dominant7th",d[d.Dorian=1709]="Dorian",d[d.HalfWholeDiminished=1755]="HalfWholeDiminished",d[d.HarmonicMinor=2477]="HarmonicMinor",d[d.Locrian=1387]="Locrian",d[d.Lydian=2773]="Lydian",d[d.Major6th=657]="Major6th",d[d.Major7th=2193]="Major7th",d[d.Major=2741]="Major",d[d.MelodicMinor=2733]="MelodicMinor",d[d.Minor7th=1161]="Minor7th",d[d.Minor=1453]="Minor",d[d.MinorMajor7th=2185]="MinorMajor7th",d[d.Mixolydian=1717]="Mixolydian",d[d.Pentatonic=1193]="Pentatonic",d[d.PentatonicMajor=661]="PentatonicMajor",d[d.PentatonicMinor=1193]="PentatonicMinor",d[d.Phrygian=1451]="Phrygian",d[d.Sus2=133]="Sus2",d[d.Sus4=161]="Sus4",d[d.TriadAugmented=273]="TriadAugmented",d[d.TriadDiminished=73]="TriadDiminished",d[d.TriadMajor=145]="TriadMajor",d[d.TriadMinor=137]="TriadMinor",d[d.WholeHalfDiminished=2925]="WholeHalfDiminished",d[d.WholeTone=1365]="WholeTone",d),ef=(m='"use strict";(()=>{function g(){let i=60,o=0,n=1,t=[0],e=0,s=1,u=!1,f=i;return function(h,a,y,m,x){return i=y,n=x,o!==m&&(o=m,t=D(m),s=t.length,e=e%s),h===1?u||(u=!0,f=M(a)):u=!1,440*Math.pow(2,(f-69)/12)};function M(r){switch(r){case 0:default:return b()}}function b(){let r=Math.floor(Math.random()*(n-1)),h=t[Math.floor(Math.random()*s)];return i+h+r*12}}function D(i){let o=i.toString(2),n=[];for(let t=0;t<o.length;t++)o[t]==="1"&&n.push(t);return n}var d=class extends AudioWorkletProcessor{r;a;constructor(){super(),this.r=!0,this.a=g(),this.port.onmessage=o=>{switch(o.data.type){case"DISPOSE":this.r=!1;break}}}process(o,n,t){let e=this.a(t.trigger[0],t.type[0],t.baseNote[0],t.scale[0],t.octaves[0]),s=n[0][0];return s&&s.fill(e),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["type",0,0,1],["baseNote",60,0,200],["scale",1,1,2047],["octaves",1,1,10]].map(([o,n,t,e])=>({name:o,defaultValue:n,minValue:t,maxValue:e,automationRate:"k-rate"}))}};registerProcessor("ArpProcessor",d);})();',function(e){let t="__ARP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([m],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eu=(R={processorName:"ArpProcessor",paramNames:["trigger","type","baseNote","scale","octaves"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,R.processorName,R.workletOptions(a));i.__PROCESSOR_NAME__=R.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,R.paramNames,a);return null===(t=R.postCreate)||void 0===t||t.call(R,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eh=(g='"use strict";(()=>{function pt(i){let l=new Float32Array(65536),a=new Float32Array(65536),h=i,r=new Float32Array(2),t=new Float32Array(2),m=new Float32Array(2),p=new Float32Array(2),c=new Float32Array(2),n=new Float32Array(2),u=new Float32Array(2),f=new Float32Array(2),T=new Float32Array(2),y=new Float32Array(2),x=new Float32Array(2),o=new Float32Array(8192),e=0,w=new Int32Array(2),M=Math.min(192e3,Math.max(1,h)),v=Math.exp(-(44.12234/M)),D=1-v,ct=.33333334/M,ut=1/M,Tt=.14285715/M,yt=.5/M,xt=.25/M,At=.16666667/M,wt=.125/M,E=.5,G=.5,O=.5,L=.5;st(l,St),st(a,Vt);function Ft(F,I,k){let P=D*E,Rt=4.096*G,Ct=625e-7*O,bt=D*L;for(let A=0;A<F.length;A++){let W=F[A];w[0]=1,r[0]=P+v*r[1];let gt=W*r[0];o[e&8191]=gt,t[0]=Rt+.999*t[1],n[0]=Ct*t[0]+.999*n[1];let s=1-w[1];f[0]=bt+v*f[1];let j=s!==0?0:u[1]+ct*f[0];u[0]=j-Math.floor(j);let d=Math.min(4096,.375*t[0]+n[0]*l[Math.max(0,Math.min(Math.floor(65536*u[0]),65535))]),q=Math.floor(d),z=Math.floor(d),H=s!==0?0:T[1]+ut*f[0];T[0]=H-Math.floor(H);let R=Math.min(4096,.125*t[0]+n[0]*a[Math.max(0,Math.min(Math.floor(65536*T[0]),65535))]),J=Math.floor(R),K=Math.floor(R),N=W*(1-r[0]),Q=s!==0?0:y[1]+Tt*f[0];y[0]=Q-Math.floor(Q);let C=Math.min(4096,.875*t[0]-n[0]*l[Math.max(0,Math.min(Math.floor(65536*y[0]),65535))]),U=Math.floor(C),X=Math.floor(C);I[A]=.70710677*(o[e-Math.min(4097,Math.max(0,q))&8191]*(z+(1-d))+(d-z)*o[e-Math.min(4097,Math.max(0,q+1))&8191])+(R-J)*o[e-Math.min(4097,Math.max(0,K+1))&8191]+N+o[e-Math.min(4097,Math.max(0,K))&8191]*(J+(1-R))-.70710677*(o[e-Math.min(4097,Math.max(0,U))&8191]*(X+(1-C))+(C-X)*o[e-Math.min(4097,Math.max(0,U+1))&8191]);let Y=s!==0?0:x[1]+yt*f[0];x[0]=Y-Math.floor(Y);let Z=Math.max(0,Math.min(Math.floor(65536*x[0]),65535)),b=Math.min(4096,.25*t[0]+n[0]*(.70710677*a[Z]+.70710677*l[Z])),_=Math.floor(b),$=Math.floor(b),tt=s!==0?0:m[1]+xt*f[0];m[0]=tt-Math.floor(tt);let et=Math.max(0,Math.min(Math.floor(65536*m[0]),65535)),g=Math.min(4096,.5*t[0]+n[0]*(.70710677*l[et]-.70710677*a[et])),at=Math.floor(g),lt=Math.floor(g),ot=s!==0?0:p[1]+At*f[0];p[0]=ot-Math.floor(ot);let rt=Math.max(0,Math.min(Math.floor(65536*p[0]),65535)),S=Math.min(4096,.75*t[0]-n[0]*(.70710677*a[rt]+.70710677*l[rt])),ht=Math.floor(S),mt=Math.floor(S),nt=s!==0?0:c[1]+wt*f[0];c[0]=nt-Math.floor(nt);let ft=Math.max(0,Math.min(Math.floor(65536*c[0]),65535)),V=Math.min(4096,t[0]+n[0]*(.70710677*a[ft]-.70710677*l[ft])),it=Math.floor(V),Mt=Math.floor(V);k[A]=N-(.38268343*(o[e-Math.min(4097,Math.max(0,_))&8191]*($+(1-b))+(b-$)*o[e-Math.min(4097,Math.max(0,_+1))&8191])+.9238795*(o[e-Math.min(4097,Math.max(0,at))&8191]*(lt+(1-g))+(g-lt)*o[e-Math.min(4097,Math.max(0,at+1))&8191])+.9238795*(o[e-Math.min(4097,Math.max(0,ht))&8191]*(mt+(1-S))+(S-mt)*o[e-Math.min(4097,Math.max(0,ht+1))&8191])+.38268343*(o[e-Math.min(4097,Math.max(0,it))&8191]*(Mt+(1-V))+(V-Mt)*o[e-Math.min(4097,Math.max(0,it+1))&8191])),w[1]=w[0],r[1]=r[0],e=e+1>>>0,t[1]=t[0],n[1]=n[0],f[1]=f[0],u[1]=u[0],T[1]=T[0],y[1]=y[0],x[1]=x[0],m[1]=m[0],p[1]=p[0],c[1]=c[0]}}function dt(F,I,k,P){E=F,G=I,O=k,L=P}return{update:dt,compute:Ft}}var St=i=>Math.cos(958738e-10*i),Vt=i=>Math.sin(958738e-10*i);function st(i,l){if(i.length!==65536)throw new Error("Table must be 65536 samples long");let a=0,h=0,r=0,t=0;for(let m=0;m<65536;m++)a=1,r=(h+t)%65536,i[m]=Math.cos(958738e-10*r),h=a,t=r;return i}var B=class extends AudioWorkletProcessor{r;u;g;constructor(){super(),this.r=!0;let{compute:l,update:a}=pt(sampleRate);this.u=a,this.g=l,this.port.onmessage=h=>{switch(h.data.type){case"DISPOSE":this.r=!1;break}}}process(l,a,h){if(l[0].length===0)return this.r;this.u(h.delay[0],h.rate[0],h.depth[0],h.deviation[0]);let r=l[0][0],t=a[0][0],m=a[0][1];return this.g(r,t,m),this.r}static get parameterDescriptors(){return[["delay",.5,0,1],["rate",.5,0,1],["depth",.5,0,1],["deviation",.5,0,1]].map(([l,a,h,r])=>({name:l,defaultValue:a,minValue:h,maxValue:r,automationRate:"k-rate"}))}};registerProcessor("ChorusProcessor",B);})();',function(e){let t="__CHORUS__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([g],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),ep=(y={processorName:"ChorusProcessor",paramNames:["delay","rate","depth","deviation"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[2]})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,y.processorName,y.workletOptions(a));i.__PROCESSOR_NAME__=y.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,y.paramNames,a);return null===(t=y.postCreate)||void 0===t||t.call(y,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ed=(b='"use strict";(()=>{function P(r){let e=S(),o=S(),t=S(),s=S(),a=.5,c=.83,b=7,d=k(r,1,a,b),g=k(r,0,a,b),u=k(r,0,c,b),m=k(r,1,c,b),i=!0,h=!0;return{update(p,y,n,f){i=p===1,h=y===1,n!==a&&(a=n,d.setLfoRate(n),g.setLfoRate(n)),f!==c&&(c=f,u.setLfoRate(f),m.setLfoRate(f))},process(p,y){let n=p[0],f=p.length>1?p[1]:n;for(let l=0;l<n.length;l++){let L=n[l],R=f[l],x=L,A=R;i&&(x=e.process(d.process(x)),A=o.process(g.process(A))),h&&(x=t.process(u.process(x)),A=s.process(m.process(A))),y[0][l]=L+1.4*x,y[1][l]=R+1.4*A}}}}function S(){let r=0,e=0,t=.999-.01*.4;return{process(s){let a=s-r+t*e;return r=s,e=a,a}}}function F(r=.99){let e=r*.98,o=e*e*e*e,t=0,s=1/4294967295;return{tick(a){let c=1-o*a+o*t+s;return t=c,c}}}function k(r,e,o,t){let s=0,a=0,c=e*2-1,b=4*o/r,d=1,g=Math.floor(r*t*.001)+1,u=g+2e3,m=new Float32Array(u).fill(0),i=u-1,h=0,p=F(.99);function y(){return c>=1&&(d=-1),c<=-1&&(d=1),c+=d*b,c}return{setLfoRate(n){b=4*n/r},process(n){n=n*.2;let f=(.3*y()+.4)*g,l=i-Math.floor(f);l<0&&(l+=u);let L=l-1;L<0&&(L+=u);let R=f-Math.floor(f);return h=m[L]+m[l]*(1-R)-(1-R)*s,s=h,h=p.tick(h),m[i]=n,i++,i>=u&&(i=0),h}}}var C=class extends AudioWorkletProcessor{r;p;constructor(){super(),this.r=!0,this.p=P(sampleRate),this.port.onmessage=e=>{switch(e.data.type){case"DISPOSE":this.r=!1;break}}}process(e,o,t){if(!(e.length<1||o.length<1))if(t.bypass[0]===1){let s=e[0].length===1;o[0][1].set(e[0][0]),o[0][0].set(e[0][s?0:1])}else this.p.update(t.enable1[0],t.enable2[0],t.lfoRate1[0],t.lfoRate2[0]),this.p.process(e[0],o[0]);return this.r}static get parameterDescriptors(){return[["bypass",0,0,1],["enable1",1,0,1],["enable2",1,0,1],["lfoRate1",.5,0,1],["lfoRate2",.83,0,1]].map(([e,o,t,s])=>({name:e,defaultValue:o,minValue:t,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("ChorusTWorkletProcessor",C);})();',function(e){let t="__CHORUS-T__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([b],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),em=(v={processorName:"ChorusTWorkletProcessor",paramNames:["bypass","enable1","enable2","lfoRate1","lfoRate2"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1}),postCreate(e){e.setBypass=t=>{e.bypass.value=t?1:0}}},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,v.processorName,v.workletOptions(a));i.__PROCESSOR_NAME__=v.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,v.paramNames,a);return null===(t=v.postCreate)||void 0===t||t.call(v,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eR=((x=eR||{})[x.Bypass=0]="Bypass",x[x.Tanh=1]="Tanh",x),eg=(M='"use strict";(()=>{function i(e){switch(e){case 1:return f;case 0:default:return h}}var h=e=>e,f=Math.tanh;var p=class extends AudioWorkletProcessor{r;g;t;fn;constructor(){super(),this.r=!0,this.g=!1,this.t=0,this.fn=i(0),this.port.onmessage=s=>{switch(s.data.type){case"DISPOSE":this.r=!1;break}}}process(s,n,t){this.t!==t.type[0]&&(this.t=t.type[0],this.fn=i(this.t));let o=t.preGain[0],c=t.postGain[0],a=s[0][0],u=n[0][0];if(a&&u)for(let r=0;r<a.length;r++)u[r]=this.fn(a[r]*o)*c;return this.r}static get parameterDescriptors(){return[["type",0,0,10],["preGain",1,0,10],["postGain",1,0,10]].map(([s,n,t,o])=>({name:s,defaultValue:n,minValue:t,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("ClipAmpProcessor",p);})();',function(e){let t="__CLIP_AMP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([M],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),ey=(O={processorName:"ClipAmpProcessor",paramNames:["type","preGain","postGain"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,O.processorName,O.workletOptions(a));i.__PROCESSOR_NAME__=O.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,O.paramNames,a);return null===(t=O.postCreate)||void 0===t||t.call(O,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eb=(A={processorName:"ClockWorkletProcessor",paramNames:["bpm"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,A.processorName,A.workletOptions(a));i.__PROCESSOR_NAME__=A.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,A.paramNames,a);return null===(t=A.postCreate)||void 0===t||t.call(A,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ev=(w='"use strict";(()=>{var i=class extends AudioWorkletProcessor{r;bpm;i;p;constructor(){super(),this.r=!0,this.bpm=120,this.i=this.bpm/60/sampleRate,this.p=0,this.port.onmessage=s=>{switch(s.data.type){case"DISPOSE":this.r=!1;break}}}process(s,e,r){r.bpm[0]!==this.bpm&&(this.bpm=r.bpm[0],this.i=this.bpm/60/sampleRate);let t=this.p+e[0][0].length*this.i;t>1&&(t-=1);let a=t<this.p?1:this.p;return e[0][0].fill(a),this.p=t,this.r}static get parameterDescriptors(){return[["bpm",120,0,1e3]].map(([s,e,r,t])=>({name:s,defaultValue:e,minValue:r,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("ClockWorkletProcessor",i);})();',function(e){let t="__CLOCK__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([w],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),ex=(j='"use strict";(()=>{function V0(z){let t=44.1/z,f=1-t,l=-6,w=0,s=.7,B=.625,G=.625,H=.7,J=.625,K=.625,L=.625,e=0,p=[0,0],V=[0,0],m=[0,0],o=[0,0,0],r=[0,0],N=new Array(256).fill(0),A=[0,0],Q=new Array(128).fill(0),T=[0,0],c=[0,0],X=new Array(512).fill(0),h=[0,0],Y=new Array(512).fill(0),R=[0,0],n=[0,0],u=[0,0],i=[0,0],Z=new Array(1024).fill(0),b=[0,0],_=new Array(8192).fill(0),D=[0,0],a=[0,0],$=new Array(4096).fill(0),S=[0,0],e0=new Array(4096).fill(0),F=[0,0],t0=new Array(1024).fill(0),g=[0,0],l0=new Array(8192).fill(0),C=[0,0],f0=new Array(2048).fill(0),k=[0,0],r0=new Array(2048).fill(0),x=[0,0];function A0(y,O,P,U,W,v,I,j,E){l=y,w=O,s=P,B=U,G=W,H=v,J=I,K=j,L=E}function T0(y,O,P){let U=y[0],W=y.length===1?y[0]:y[1],v=O[0],I=O[1],j=t*Math.pow(10,.05*l),E=t*w,h0=t*s,b0=t*B,D0=t*G,S0=t*H,F0=t*J,g0=t*K,C0=t*L;for(let d=0;d<P;d++){let k0=U[d],x0=W[d];p[0]=j+f*p[1];let c0=k0;V[0]=E+f*V[1];let M=V[0]+1,n0=1-.5*M;m[0]=h0+f*m[1];let i0=x0;o[0]=(1-m[0])*o[2]+.5*(c0+i0)*m[0],r[0]=b0+f*r[1];let a0=o[0]-r[0]*A[1];N[e&255]=a0,A[0]=N[e-142&255];let o0=r[0]*a0+A[1]-r[0]*T[1];Q[e&127]=o0,T[0]=Q[e-107&127];let O0=r[0]*o0;c[0]=D0+f*c[1];let u0=O0+T[1]-c[0]*h[1];X[e&511]=u0,h[0]=X[e-379&511];let s0=c[0]*u0+h[1]-c[0]*R[1];Y[e&511]=s0,R[0]=Y[e-277&511];let p0=c[0]*s0;n[0]=S0+f*n[1],u[0]=F0+f*u[1];let m0=1-u[0];i[0]=g0+f*i[1];let R0=i[0]*b[1]+x[1];Z[e&1023]=R0,b[0]=Z[e-908&1023];let P0=-(i[0]*R0);_[e&8191]=P0+b[1],D[0]=u[0]*D[1]+m0*_[e-4217&8191],a[0]=C0+f*a[1];let y0=D[0]*n[0]-a[0]*S[1];$[e&4095]=y0,S[0]=$[e-2656&4095];let U0=a[0]*y0;e0[e&4095]=U0+S[1],F[0]=p0+n[0]*e0[e-2656&4095]+R[1];let d0=i[0]*g[1]+F[1];t0[e&1023]=d0,g[0]=t0[e-672&1023];let W0=-(i[0]*d0);l0[e&8191]=W0+g[1],C[0]=u[0]*C[1]+m0*l0[e-4453&8191];let w0=n[0]*C[0]-a[0]*k[1];f0[e&2047]=w0,k[0]=f0[e-1800&2047];let v0=a[0]*w0;r0[e&2047]=v0+k[1],x[0]=p0+R[1]+n[0]*r0[e-1800&2047],v[d]=p[0]*(c0*n0+.5*M*F[0]),I[d]=p[0]*(i0*n0+.5*M*x[0]),p[1]=p[0],V[1]=V[0],m[1]=m[0],o[2]=o[1],o[1]=o[0],r[1]=r[0],e++,A[1]=A[0],T[1]=T[0],c[1]=c[0],h[1]=h[0],R[1]=R[0],n[1]=n[0],u[1]=u[0],i[1]=i[0],b[1]=b[0],D[1]=D[0],a[1]=a[0],S[1]=S[0],F[1]=F[0],g[1]=g[0],C[1]=C[0],k[1]=k[0],x[1]=x[0]}}return{update:A0,compute:T0}}var q=class extends AudioWorkletProcessor{r;u;c;constructor(){super(),this.r=!0;let{update:t,compute:f}=V0(sampleRate);this.u=t,this.c=f,this.port.onmessage=l=>{switch(l.data.type){case"DISPOSE":this.r=!1;break}}}process(t,f,l){this.u(l.filter[0],l.inputDiffusion1[0],l.inputDiffusion2[0],l.decayDiffusion1[0],l.decayDiffusion2[0],l.decay[0],l.damping[0],l.dryWet[0],l.level[0]);let w=t[0],s=f[0];return w.length===0||s.length===0?this.r:(this.c(w,s,s[0].length),this.r)}static get parameterDescriptors(){return[["filter",.7,0,1],["inputDiffusion1",.75,0,1],["inputDiffusion2",.625,0,1],["decayDiffusion1",.7,0,.999999],["decayDiffusion2",.5,0,.999999],["decay",.5,0,1],["damping",.25,0,1],["dryWet",1,-1,1],["level",0,0,1]].map(t=>new Object({name:t[0],defaultValue:t[1],minValue:t[2],maxValue:t[3],automationRate:"k-rate"}))}};registerProcessor("DattorroReverbProcessor",q);})();',function(e){let t="__DATTORRO_REVERB__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([j],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eM=(N={processorName:"DattorroReverbProcessor",paramNames:["filter","inputDiffusion1","inputDiffusion2","decayDiffusion1","decayDiffusion2","decay","damping"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[2]})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,N.processorName,N.workletOptions(a));i.__PROCESSOR_NAME__=N.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,N.paramNames,a);return null===(t=N.postCreate)||void 0===t||t.call(N,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eO=(V='"use strict";(()=>{var l=class extends AudioWorkletProcessor{r;g;u;constructor(){super(),this.r=!0;let[e,t]=m();this.g=e,this.u=t,this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(e,t,r){return this.u(r.steps[0],r.beats[0],r.rotation[0]),this.g(t[0][0],r.clock[0],r.subdivision[0]),this.r}static get parameterDescriptors(){return[["clock",0,0,1],["steps",0,0,100],["beats",0,0,100],["subdivision",1,1,20],["rotation",0,0,100]].map(([e,t,r,o])=>({name:e,defaultValue:t,minValue:r,maxValue:o,automationRate:"k-rate"}))}};registerProcessor("EuclidProcessor",l);function m(){let n=1,e=1,t=0,r=[1],o=0,u=0;function b(i,s,c){let a=s*c;for(;a>1;)a-=1;let d=a<o;o=a,d&&(u=(u+1)%r.length),i.fill(r[u])}function p(i,s,c){(n!==i||e!==s||t!==c)&&(n=i,e=s,t=c,r=h(f(n,e),t))}return[b,p]}function f(n,e){let t=[],r=-1;for(let o=0;o<n;o++){let u=Math.floor(o*(e/n));t[o]=u!==r?1:0,r=u}return t}function h(n,e){let t=n.length;return t===0||e===0?n:(e=e%t,e<0&&(e=t+e),n.slice(-e).concat(n.slice(0,t-e)))}})();',function(e){let t="__EUCLID__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([V],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eA=(k={processorName:"EuclidProcessor",paramNames:["clock","steps","beats","subdivision","rotation"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,k.processorName,k.workletOptions(a));i.__PROCESSOR_NAME__=k.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,k.paramNames,a);return null===(t=k.postCreate)||void 0===t||t.call(k,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ew=(S='"use strict";(()=>{var s=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=!1,this.port.onmessage=r=>{switch(r.data.type){case"DISPOSE":this.r=!1;break}}}process(r,e,t){return e[0][0].fill(0),t.trigger[0]===1?this.g||(this.g=!0,e[0][0][0]=1):this.g=!1,this.r}static get parameterDescriptors(){return[["trigger",0,0,1]].map(([r,e,t,a])=>({name:r,defaultValue:e,minValue:t,maxValue:a,automationRate:"k-rate"}))}};registerProcessor("ImpulseProcessor",s);})();',function(e){let t="__IMPULSE__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([S],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),ej=(P={processorName:"ImpulseProcessor",paramNames:["trigger"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,P.processorName,P.workletOptions(a));i.__PROCESSOR_NAME__=P.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,P.paramNames,a);return null===(t=P.postCreate)||void 0===t||t.call(P,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eN=(_='"use strict";(()=>{function b(o,n){let e=Math.ceil(o/n)+2,t=new Float32Array(e),i=e-2,a=0,f=!1,h=0;return(c,y,S,A)=>{let g=c.length,I=.1*A*o,M=Math.pow(.001,1/I);if(y>=1&&h<.9){i=o/S,i=Math.min(Math.max(i,1),e-2);for(let r=0;r<e;r++)t[r]=Math.random()*2-1;a=0,f=!0}if(h=y,f)for(let r=0;r<g;r++){let l=a-i;l<0&&(l+=e);let m=Math.floor(l),k=l-m,w=m%e,F=(m+1)%e,x=t[w],L=t[F],u=x+k*(L-x),P=M*u;if(t[a]=P,c[r]=u,a=(a+1)%e,Math.abs(u)<1e-8){f=!1;for(let p=r+1;p<g;p++)c[p]=0;break}}else c.fill(0)}}var d=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=b(sampleRate,100),this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(n,s,e){let t=s[0][0];return this.g(t,e.trigger[0],e.frequency[0],e.decay[0]),this.r}static get parameterDescriptors(){return[["trigger",0,0,1],["frequency",440,20,2e4],["decay",.1,.01,5]].map(([n,s,e,t])=>({name:n,defaultValue:s,minValue:e,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("KsProcessor",d);})();',function(e){let t="__KS-OSC__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([_],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eV=(I={processorName:"KsProcessor",paramNames:["trigger","frequency","decay"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,I.processorName,I.workletOptions(a));i.__PROCESSOR_NAME__=I.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,I.paramNames,a);return null===(t=I.postCreate)||void 0===t||t.call(I,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),ek=((E=ek||{})[E.None=0]="None",E[E.Sine=1]="Sine",E[E.Triangle=2]="Triangle",E[E.RampUp=3]="RampUp",E[E.RampDown=4]="RampDown",E[E.Square=5]="Square",E[E.ExpRampUp=6]="ExpRampUp",E[E.ExpRampDown=7]="ExpRampDown",E[E.ExpTriangle=8]="ExpTriangle",E[E.RandSampleHold=9]="RandSampleHold",E[E.Impulse=10]="Impulse",E);!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5/12,t=Math.pow(10,-1/e)}(),a=!0,(e,t)=>{let s=a?1:0;return a=t<e,s};var eS=()=>2*Math.random()-1;i=eS(),(e,t)=>{let s=i;return t<e&&(i=eS()),s};var eP=(C='"use strict";(()=>{function c(e){return 2*e-1}function v(e=5/12){let n=Math.pow(10,-1/e),t=e*Math.log10(1+n),r=1/(-e*Math.log10(n)+t);return s=>{if(s>=1)return 1;if(s<=0)return 0;let l=-e*r*Math.log10(1-s+n)+t;return Math.max(0,Math.min(1,l))}}function A(){let e=M();return(n,t)=>{let r=e;return t<n&&(e=M()),r}}function S(){let e=!0;return(n,t)=>{let r=e?1:0;return e=t<n,r}}var d=v(),b=()=>0,q=S(),w=e=>Math.sin(e*2*Math.PI),D=e=>1-2*Math.abs(c(e)),E=e=>c(e),F=e=>-c(e),I=e=>e<=.5?1:-1,M=()=>c(Math.random()),U=e=>c(d(e)),$=e=>c(d(1-e)),H=e=>c(d(Math.abs(c(e)))),k=A();function R(e,n){let t=1/e,r=[b,w,D,E,F,I,U,$,H,k,q],s=1,l=10,m=1,h=0,p=r[1]??b,u=0;function x(a){a.type[0]!==s&&(s=a.type[0],p=r[Math.floor(s)]??b),l=a.frequency[0],h=a.offset[0],m=a.gain[0]}function P(a,g){x(g);let o=u+a.length*t*l;o>=1&&(o-=1);let i=p(u,o)*m+h;a.fill(i),u=o}function f(a,g){x(g);for(let o=0;o<a.length;o++){let i=u+t*l;i>=1&&(i-=1),a[o]=p(u,i)*m+h,u=i}}return n?f:P}var G=class extends AudioWorkletProcessor{r;g;constructor(n){super(),this.g=R(sampleRate,!1),this.r=!0,this.port.onmessage=t=>{switch(t.data.type){case"DISPOSE":this.r=!1;break}}}process(n,t,r){return this.g(t[0][0],r),this.r}static get parameterDescriptors(){return[["type",1,0,100],["frequency",10,0,200],["gain",1,0,1e4],["offset",0,-1e3,1e3]].map(([n,t,r,s])=>({name:n,defaultValue:t,minValue:r,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("LfoProcessor",G);})();',function(e){let t="__LFO__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([C],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),e_=(D={processorName:"LfoProcessor",paramNames:["type","frequency","gain","offset"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,D.processorName,D.workletOptions(a));i.__PROCESSOR_NAME__=D.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,D.paramNames,a);return null===(t=D.postCreate)||void 0===t||t.call(D,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eI=((W=eI||{})[W.White=0]="White",W[W.Pink=1]="Pink",W),eE=(F='"use strict";(()=>{function g(o,t){switch(t){case 0:return b;case 1:return w();case 2:return k(o);default:return console.warn("Unknown noise type: "+t),b}}function b(o){for(let t=0;t<o.length;t++)o[t]=Math.random()*2-1}function k(o){let t=[0,0,0,0,0,0,0,0],n=[0,0,0,0,0,0,0,0],e=[0,0,0,0,0,0,0,0],i=0,c=0,a=h=>Math.pow(10,h/20),u=h=>20*Math.log10(h),l=0,r=0,f=0,m=o/(2*Math.PI)-1;for(;m>1;)t[l]=2*Math.PI*m/o,m=m/4,l++;for(c=l;l-- >0;)n[l]=a(r),f+=a(r),r-=6;return i=a(-u(f)),h=>{for(let p=0;p<h.length;p++){let y=Math.random()*2-1,A=0;for(let s=0;s<c;s++)e[s]=t[s]*y+(1-t[s])*e[s],A+=e[s]*n[s];h[p]=A*i}}}function w(){let o=[3.8024,2.9694,2.597,3.087,3.4006],t=[.00198,.01478,.06378,.23378,.91578],n=15.8564,e=[0,0,0,0,0],i=0;return c=>{for(let a=0;a<c.length;a++){let u=Math.random(),l=Math.random();for(let r=0;r<5;r++)if(u<t[r]){i-=e[r],e[r]=2*(l-.5)*o[r],i+=e[r];break}c[a]=i/n}}}var d=class extends AudioWorkletProcessor{r;t;d;constructor(){super(),this.r=!0,this.t=0,this.d=g(sampleRate,0),this.port.onmessage=t=>{switch(t.data.type){case"DISPOSE":this.r=!1;break}}}process(t,n,e){return this.t!==e.type[0]&&(this.t=e.type[0],this.d=g(sampleRate,e.type[0])),this.d(n[0][0]),this.r}static get parameterDescriptors(){return[["type",0,0,100]].map(([t,n,e,i])=>({name:t,defaultValue:n,minValue:e,maxValue:i,automationRate:"k-rate"}))}};registerProcessor("NoiseWorkletProcessor",d);})();',function(e){let t="__NOISE__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([F],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eC=(T={processorName:"NoiseWorkletProcessor",paramNames:["type"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,T.processorName,T.workletOptions(a));i.__PROCESSOR_NAME__=T.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,T.paramNames,a);return null===(t=T.postCreate)||void 0===t||t.call(T,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eD=((L=eD||{})[L.Bypass=0]="Bypass",L[L.DbToGain=1]="DbToGain",L[L.GainToDb=2]="GainToDb",L[L.Linear=3]="Linear",L),eW=(q='"use strict";(()=>{function o(t){switch(t){case 0:return u;case 1:return a;case 2:return b;case 3:return h;default:return u}}function u(t){return t}function a(t){return Math.pow(10,t/20)}function b(t){return 20*Math.log10(t)}function h(t,n,r){return n+t*(r-n)}var i=class extends AudioWorkletProcessor{r;s;c;constructor(){super(),this.r=!0,this.s=0,this.c=o(this.s),this.port.onmessage=n=>{switch(n.data.type){case"DISPOSE":this.r=!1;break}}}process(n,r,e){this.s!==e.scale[0]&&(this.s=e.scale[0],this.c=o(this.s));let s=e.input[0]+e.mod[0],c=this.c(s,e.min[0],e.max[0])*e.gain[0]+e.offset[0];return r[0][0].fill(c),this.r}static get parameterDescriptors(){return[["scale",0,0,10],["input",0,-2e4,2e4],["offset",0,-2e4,2e4],["min",0,-2e4,2e4],["max",1,-2e4,2e4],["gain",1,-2e4,2e4],["mod",0,-2e4,2e4]].map(([n,r,e,s])=>({name:n,defaultValue:r,minValue:e,maxValue:s,automationRate:"k-rate"}))}};registerProcessor("ParamProcessor",i);})();',function(e){let t="__PARAM__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([q],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eF=(U={processorName:"ParamProcessor",paramNames:["scale","input","offset","min","max","gain","mod"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,U.processorName,U.workletOptions(a));i.__PROCESSOR_NAME__=U.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,U.paramNames,a);return null===(t=U.postCreate)||void 0===t||t.call(U,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eT=Object.assign(eF,{input:(e,t)=>eF(e,{input:t}),db:(e,t)=>eF(e,{scale:1,input:t}),inv:(e,t)=>eF(e,{input:t,gain:-1})}),eL=((H=eL||{})[H.Sawtooth=0]="Sawtooth",H[H.Square=1]="Square",H[H.Triangle=2]="Triangle",H),eq=(B='"use strict";(()=>{function q(f){let u=1/f,s=0,o=440,t=0,a=o*u,m=0,x=Math.exp(-1/(.0025*f)),b=0,c=0,l=[y,d,S],p=l[0],A=0;return function(e,r,F,g){if(s!==r&&(s=r,p=l[s]??l[0]),o!==F||g!==A){o=F,A=g;let D=Math.pow(2,g/1200);a=o*D*u}p(e)};function y(n){for(let e=0;e<n.length;e++)n[e]=t*2-1-i(t,a),t+=a,t>1&&(t-=1)}function d(n){for(let e=0;e<n.length;e++)n[e]=(t<.5?-1:1)-i(t,a)+i((t+.5)%1,a),t+=a,t>1&&(t-=1)}function S(n){for(let e=0;e<n.length;e++){let r=(t<.5?-1:1)-i(t,a)+i((t+.5)%1,a);r*=4/o,r+=m,m=r,c=r-b+x*c,b=r,n[e]=c*.8,t+=a,t>1&&(t-=1)}}function i(n,e){if(n<e){let r=n/e;return r+r-r*r-1}else if(n>1-e){let r=(n-1)/e;return r+r+r*r+1}else return 0}}var h=class extends AudioWorkletProcessor{r;g;constructor(){super(),this.r=!0,this.g=q(sampleRate),this.port.onmessage=u=>{switch(u.data.type){case"DISPOSE":this.r=!1;break}}}process(u,s,o){let t=s[0][0];return this.g(t,o.type[0],o.frequency[0],o.detune[0]),this.r}static get parameterDescriptors(){return[["type",0,0,2],["frequency",440,0,2e4],["detune",0,0,1e4]].map(([u,s,o,t])=>({name:u,defaultValue:s,minValue:o,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("PolyBLEProcessor",h);})();',function(e){let t="__POLY_BLEP__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([B],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eU=(G={processorName:"PolyBLEProcessor",paramNames:["type","frequency","detune"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,G.processorName,G.workletOptions(a));i.__PROCESSOR_NAME__=G.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,G.paramNames,a);return null===(t=G.postCreate)||void 0===t||t.call(G,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eH=(Z='"use strict";(()=>{var I=class{fConst0=0;fConst1=0;fConst2=0;fHslider0=0;fHslider1=0;fHslider2=0;fHslider3=0;fHslider4=0;fHslider5=0;fHslider6=0;fRec0=new Float32Array(1024).fill(0);fRec1=new Float32Array(1024).fill(0);fRec10=[0,0];fRec11=[0,0];fRec12=[0,0];fRec13=[0,0];fRec14=[0,0];fRec15=[0,0];fRec16=[0,0];fRec17=[0,0];fRec18=[0,0];fRec19=[0,0];fRec2=[0,0];fRec20=[0,0];fRec21=[0,0];fRec22=[0,0];fRec23=[0,0];fRec24=[0,0];fRec25=[0,0];fRec26=[0,0];fRec27=[0,0];fRec28=[0,0];fRec29=[0,0];fRec3=[0,0];fRec30=[0,0];fRec31=[0,0];fRec32=[0,0];fRec33=[0,0];fRec34=[0,0];fRec35=[0,0];fRec36=[0,0];fRec37=[0,0];fRec38=[0,0];fRec39=[0,0];fRec4=[0,0];fRec40=[0,0];fRec41=[0,0];fRec42=[0,0];fRec43=[0,0];fRec44=[0,0];fRec45=[0,0];fRec46=[0,0];fRec47=[0,0];fRec48=[0,0];fRec49=[0,0];fRec5=[0,0];fRec50=[0,0];fRec51=[0,0];fRec52=[0,0];fRec53=[0,0];fRec54=[0,0];fRec55=[0,0];fRec56=[0,0];fRec57=[0,0];fRec58=[0,0];fRec59=[0,0];fRec6=[0,0];fRec60=[0,0];fRec61=[0,0];fRec62=[0,0];fRec63=[0,0];fRec64=[0,0];fRec65=[0,0];fRec66=[0,0];fRec67=[0,0];fRec68=[0,0];fRec69=[0,0];fRec7=[0,0];fRec70=[0,0];fRec71=[0,0];fRec72=[0,0];fRec73=[0,0];fRec74=[0,0];fRec75=[0,0];fRec76=[0,0];fRec77=[0,0];fRec78=[0,0];fRec79=[0,0];fRec8=[0,0];fRec80=[0,0];fRec81=[0,0];fRec9=[0,0];fSampleRate=0;fVec1=[0,0];fVec10=new Float32Array(16384).fill(0);fVec11=[0,0];fVec12=new Float32Array(16384).fill(0);fVec13=[0,0];fVec14=new Float32Array(16384).fill(0);fVec15=[0,0];fVec16=new Float32Array(16384).fill(0);fVec17=[0,0];fVec18=new Float32Array(16384).fill(0);fVec19=[0,0];fVec2=[0,0];fVec20=new Float32Array(16384).fill(0);fVec21=[0,0];fVec22=new Float32Array(16384).fill(0);fVec23=[0,0];fVec24=new Float32Array(16384).fill(0);fVec25=[0,0];fVec26=new Float32Array(16384).fill(0);fVec27=[0,0];fVec28=new Float32Array(16384).fill(0);fVec29=[0,0];fVec3=[0,0];fVec30=new Float32Array(16384).fill(0);fVec31=[0,0];fVec32=new Float32Array(16384).fill(0);fVec33=[0,0];fVec34=new Float32Array(16384).fill(0);fVec35=[0,0];fVec36=new Float32Array(16384).fill(0);fVec37=[0,0];fVec38=new Float32Array(16384).fill(0);fVec39=[0,0];fVec4=[0,0];fVec40=new Float32Array(16384).fill(0);fVec41=[0,0];fVec42=new Float32Array(16384).fill(0);fVec43=[0,0];fVec44=new Float32Array(16384).fill(0);fVec45=[0,0];fVec46=new Float32Array(16384).fill(0);fVec47=[0,0];fVec48=new Float32Array(16384).fill(0);fVec49=[0,0];fVec5=new Float32Array(131072).fill(0);fVec50=new Float32Array(16384).fill(0);fVec51=[0,0];fVec52=new Float32Array(16384).fill(0);fVec53=[0,0];fVec54=new Float32Array(16384).fill(0);fVec55=[0,0];fVec6=[0,0];fVec7=new Float32Array(131072).fill(0);fVec8=new Float32Array(16384).fill(0);fVec9=[0,0];IOTA0=0;iVec0=[0,0];imydspSIG0Wave0=new Int32Array([2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999,5003,5009,5011,5021,5023,5039,5051,5059,5077,5081,5087,5099,5101,5107,5113,5119,5147,5153,5167,5171,5179,5189,5197,5209,5227,5231,5233,5237,5261,5273,5279,5281,5297,5303,5309,5323,5333,5347,5351,5381,5387,5393,5399,5407,5413,5417,5419,5431,5437,5441,5443,5449,5471,5477,5479,5483,5501,5503,5507,5519,5521,5527,5531,5557,5563,5569,5573,5581,5591,5623,5639,5641,5647,5651,5653,5657,5659,5669,5683,5689,5693,5701,5711,5717,5737,5741,5743,5749,5779,5783,5791,5801,5807,5813,5821,5827,5839,5843,5849,5851,5857,5861,5867,5869,5879,5881,5897,5903,5923,5927,5939,5953,5981,5987,6007,6011,6029,6037,6043,6047,6053,6067,6073,6079,6089,6091,6101,6113,6121,6131,6133,6143,6151,6163,6173,6197,6199,6203,6211,6217,6221,6229,6247,6257,6263,6269,6271,6277,6287,6299,6301,6311,6317,6323,6329,6337,6343,6353,6359,6361,6367,6373,6379,6389,6397,6421,6427,6449,6451,6469,6473,6481,6491,6521,6529,6547,6551,6553,6563,6569,6571,6577,6581,6599,6607,6619,6637,6653,6659,6661,6673,6679,6689,6691,6701,6703,6709,6719,6733,6737,6761,6763,6779,6781,6791,6793,6803,6823,6827,6829,6833,6841,6857,6863,6869,6871,6883,6899,6907,6911,6917,6947,6949,6959,6961,6967,6971,6977,6983,6991,6997,7001,7013,7019,7027,7039,7043,7057,7069,7079,7103,7109,7121,7127,7129,7151,7159,7177,7187,7193,7207,7211,7213,7219,7229,7237,7243,7247,7253,7283,7297,7307,7309,7321,7331,7333,7349,7351,7369,7393,7411,7417,7433,7451,7457,7459,7477,7481,7487,7489,7499,7507,7517,7523,7529,7537,7541,7547,7549,7559,7561,7573,7577,7583,7589,7591,7603,7607,7621,7639,7643,7649,7669,7673,7681,7687,7691,7699,7703,7717,7723,7727,7741,7753,7757,7759,7789,7793,7817,7823,7829,7841,7853,7867,7873,7877,7879,7883,7901,7907,7919,7927,7933,7937,7949,7951,7963,7993,8009,8011,8017,8039,8053,8059,8069,8081,8087,8089,8093,8101,8111,8117,8123,8147,8161,8167,8171,8179,8191,8209,8219,8221,8231,8233,8237,8243,8263,8269,8273,8287,8291,8293,8297,8311,8317,8329,8353,8363,8369,8377,8387,8389,8419,8423,8429,8431,8443,8447,8461,8467,8501,8513,8521,8527,8537,8539,8543,8563,8573,8581,8597,8599,8609,8623,8627,8629,8641,8647,8663,8669,8677,8681,8689,8693,8699,8707,8713,8719,8731,8737,8741,8747,8753,8761,8779,8783,8803,8807,8819,8821,8831,8837,8839,8849,8861,8863,8867,8887,8893,8923,8929,8933,8941,8951,8963,8969,8971,8999,9001,9007,9011,9013,9029,9041,9043,9049,9059,9067,9091,9103,9109,9127,9133,9137,9151,9157,9161,9173,9181,9187,9199,9203,9209,9221,9227,9239,9241,9257,9277,9281,9283,9293,9311,9319,9323,9337,9341,9343,9349,9371,9377,9391,9397,9403,9413,9419,9421,9431,9433,9437,9439,9461,9463,9467,9473,9479,9491,9497,9511,9521,9533,9539,9547,9551,9587,9601,9613,9619,9623,9629,9631,9643,9649,9661,9677,9679,9689,9697,9719,9721,9733,9739,9743,9749,9767,9769,9781,9787,9791,9803,9811,9817,9829,9833,9839,9851,9857,9859,9871,9883,9887,9901,9907,9923,9929,9931,9941,9949,9967,9973,10007,10009,10037,10039,10061,10067,10069,10079,10091,10093,10099,10103,10111,10133,10139,10141,10151,10159,10163,10169,10177,10181,10193,10211,10223,10243,10247,10253,10259,10267,10271,10273,10289,10301,10303,10313,10321,10331,10333,10337,10343,10357,10369,10391,10399,10427,10429,10433,10453,10457,10459,10463,10477,10487,10499,10501,10513,10529,10531,10559,10567,10589,10597,10601,10607,10613,10627,10631,10639,10651,10657,10663,10667,10687,10691,10709,10711,10723,10729,10733,10739,10753,10771,10781,10789,10799,10831,10837,10847,10853,10859,10861,10867,10883,10889,10891,10903,10909,10937,10939,10949,10957,10973,10979,10987,10993,11003,11027,11047,11057,11059,11069,11071,11083,11087,11093,11113,11117,11119,11131,11149,11159,11161,11171,11173,11177,11197,11213,11239,11243,11251,11257,11261,11273,11279,11287,11299,11311,11317,11321,11329,11351,11353,11369,11383,11393,11399,11411,11423,11437,11443,11447,11467,11471,11483,11489,11491,11497,11503,11519,11527,11549,11551,11579,11587,11593,11597,11617,11621,11633,11657,11677,11681,11689,11699,11701,11717,11719,11731,11743,11777,11779,11783,11789,11801,11807,11813,11821,11827,11831,11833,11839,11863,11867,11887,11897,11903,11909,11923,11927,11933,11939,11941,11953,11959,11969,11971,11981,11987,12007,12011,12037,12041,12043,12049,12071,12073,12097,12101,12107,12109,12113,12119,12143,12149,12157,12161,12163,12197,12203,12211,12227,12239,12241,12251,12253,12263,12269,12277,12281,12289,12301,12323,12329,12343,12347,12373,12377,12379,12391,12401,12409,12413,12421,12433,12437,12451,12457,12473,12479,12487,12491,12497,12503,12511,12517,12527,12539,12541,12547,12553,12569,12577,12583,12589,12601,12611,12613,12619,12637,12641,12647,12653,12659,12671,12689,12697,12703,12713,12721,12739,12743,12757,12763,12781,12791,12799,12809,12821,12823,12829,12841,12853,12889,12893,12899,12907,12911,12917,12919,12923,12941,12953,12959,12967,12973,12979,12983,13001,13003,13007,13009,13033,13037,13043,13049,13063,13093,13099,13103,13109,13121,13127,13147,13151,13159,13163,13171,13177,13183,13187,13217,13219,13229,13241,13249,13259,13267,13291,13297,13309,13313,13327,13331,13337,13339,13367,13381,13397,13399,13411,13417,13421,13441,13451,13457,13463,13469,13477,13487,13499,13513,13523,13537,13553,13567,13577,13591,13597,13613,13619,13627,13633,13649,13669,13679,13681,13687,13691,13693,13697,13709,13711,13721,13723,13729,13751,13757,13759,13763,13781,13789,13799,13807,13829,13831,13841,13859,13873,13877,13879,13883,13901,13903,13907,13913,13921,13931,13933,13963,13967,13997,13999,14009,14011,14029,14033,14051,14057,14071,14081,14083,14087,14107,14143,14149,14153,14159,14173,14177,14197,14207,14221,14243,14249,14251,14281,14293,14303,14321,14323,14327,14341,14347,14369,14387,14389,14401,14407,14411,14419,14423,14431,14437,14447,14449,14461,14479,14489,14503,14519,14533,14537,14543,14549,14551,14557,14561,14563,14591,14593,14621,14627,14629,14633,14639,14653,14657,14669,14683,14699,14713,14717,14723,14731,14737,14741,14747,14753,14759,14767,14771,14779,14783,14797,14813,14821,14827,14831,14843,14851,14867,14869,14879,14887,14891,14897,14923,14929,14939,14947,14951,14957,14969,14983,15013,15017,15031,15053,15061,15073,15077,15083,15091,15101,15107,15121,15131,15137,15139,15149,15161,15173,15187,15193,15199,15217,15227,15233,15241,15259,15263,15269,15271,15277,15287,15289,15299,15307,15313,15319,15329,15331,15349,15359,15361,15373,15377,15383,15391,15401,15413,15427,15439,15443,15451,15461,15467,15473,15493,15497,15511,15527,15541,15551,15559,15569,15581,15583,15601,15607,15619,15629,15641,15643,15647,15649,15661,15667,15671,15679,15683,15727,15731,15733,15737,15739,15749,15761,15767,15773,15787,15791,15797,15803,15809,15817,15823,15859,15877,15881,15887,15889,15901,15907,15913,15919,15923,15937,15959,15971,15973,15991,16001,16007,16033,16057,16061,16063,16067,16069,16073,16087,16091,16097,16103,16111,16127,16139,16141,16183,16187,16189,16193,16217,16223,16229,16231,16249,16253,16267,16273,16301,16319,16333,16339,16349,16361,16363,16369,16381,16411,16417,16421,16427,16433,16447,16451,16453,16477,16481,16487,16493,16519,16529,16547,16553,16561,16567,16573,16603,16607,16619,16631,16633,16649,16651,16657,16661,16673,16691,16693,16699,16703,16729,16741,16747,16759,16763,16787,16811,16823,16829,16831,16843,16871,16879,16883,16889,16901,16903,16921,16927,16931,16937,16943,16963,16979,16981,16987,16993,17011,17021,17027,17029,17033,17041,17047,17053,17077,17093,17099,17107,17117,17123,17137,17159,17167,17183,17189,17191,17203,17207,17209,17231,17239,17257,17291,17293,17299,17317,17321,17327,17333,17341,17351,17359,17377,17383,17387,17389,17393,17401,17417,17419,17431,17443,17449,17467,17471,17477,17483,17489,17491,17497,17509,17519,17539,17551,17569,17573,17579,17581,17597,17599,17609,17623,17627,17657,17659,17669,17681,17683,17707,17713,17729,17737,17747,17749,17761,17783,17789,17791,17807,17827,17837,17839,17851,17863]);constructor(c){this.fSampleRate=c,this.fConst0=Math.min(192e3,Math.max(1,this.fSampleRate)),this.fConst1=3.1415927/this.fConst0,this.fConst2=.00056689343*this.fConst0}update(c,l,R,V,w,S,A){this.fHslider0=c,this.fHslider1=l,this.fHslider2=R,this.fHslider3=V,this.fHslider4=w,this.fHslider5=S,this.fHslider6=A}process(c,l){let R=c[0],V=c[1]||c[0],w=l[0],S=l[1],A=this.fHslider0,d=this.fHslider1,y=this.fHslider2,x=this.fHslider3,m=Math.floor(Math.min(65533,this.fConst0*this.fHslider4)),F=this.fHslider5,i=this.fHslider6,v=this.imydspSIG0Wave0[Math.floor(49*i)],W3=1e-4*v,W=this.imydspSIG0Wave0[Math.floor(59*i)],G3=1e-4*W,G=this.imydspSIG0Wave0[Math.floor(36*i)],H3=1e-4*G,H=this.imydspSIG0Wave0[Math.floor(46*i)],C3=1e-4*H,C=this.imydspSIG0Wave0[Math.floor(23*i)],g3=1e-4*C,g=this.imydspSIG0Wave0[Math.floor(33*i)],D3=1e-4*g,D=this.imydspSIG0Wave0[Math.floor(10*i)],k3=1e-4*D,k=this.imydspSIG0Wave0[Math.floor(20*i)],P3=1e-4*k,P=this.imydspSIG0Wave0[Math.floor(68*i)],q3=1e-4*P,q=this.imydspSIG0Wave0[Math.floor(78*i)],z3=1e-4*q,z=this.imydspSIG0Wave0[Math.floor(55*i)],E3=1e-4*z,E=this.imydspSIG0Wave0[Math.floor(65*i)],j3=1e-4*E,j=this.imydspSIG0Wave0[Math.floor(42*i)],B3=1e-4*j,B=this.imydspSIG0Wave0[Math.floor(52*i)],J3=1e-4*B,J=this.imydspSIG0Wave0[Math.floor(29*i)],K3=1e-4*J,K=this.imydspSIG0Wave0[Math.floor(39*i)],L3=1e-4*K,L=this.imydspSIG0Wave0[Math.floor(87*i)],N3=1e-4*L,N=this.imydspSIG0Wave0[Math.floor(97*i)],Q3=1e-4*N,Q=this.imydspSIG0Wave0[Math.floor(74*i)],U3=1e-4*Q,U=this.imydspSIG0Wave0[Math.floor(84*i)],X3=1e-4*U,X=this.imydspSIG0Wave0[Math.floor(61*i)],Y3=1e-4*X,Y=this.imydspSIG0Wave0[Math.floor(71*i)],Z3=1e-4*Y,Z=this.imydspSIG0Wave0[Math.floor(48*i)],_3=1e-4*Z,_=this.imydspSIG0Wave0[Math.floor(58*i)],$3=1e-4*_;for(let o=0;o<R.length;o++){this.iVec0[0]=1,this.fVec1[0]=A;let u=A+this.fVec1[1];this.fVec2[0]=d;let $=d+this.fVec2[1];this.fVec3[0]=y;let e1=this.fConst1*(y+this.fVec3[1]),t1=Math.cos(e1),f1=Math.sin(e1);this.fRec3[0]=this.fRec4[1]*f1+this.fRec3[1]*t1;let f=1-this.iVec0[1];this.fRec4[0]=f+this.fRec4[1]*t1-f1*this.fRec3[1],this.fVec4[0]=x;let i1=x+this.fVec4[1],a=this.fConst2*i1*(this.fRec4[0]+1),s1=a+8.500005,T=Math.floor(s1),n=Math.floor(s1),h1=a+(7-n),c1=a+(8-n),R1=a+(9-n),l1=a+(10-n),m1=l1*R1,o1=m1*c1,e9=(a+(6-n))*(h1*(c1*(.041666668*this.fRec0[this.IOTA0-(Math.min(512,Math.max(0,T))+1)&1023]*R1-.16666667*l1*this.fRec0[this.IOTA0-(Math.min(512,Math.max(0,T+1))+1)&1023])+.25*m1*this.fRec0[this.IOTA0-(Math.min(512,Math.max(0,T+2))+1)&1023])-.16666667*o1*this.fRec0[this.IOTA0-(Math.min(512,Math.max(0,T+3))+1)&1023])+.041666668*o1*h1*this.fRec0[this.IOTA0-(Math.min(512,Math.max(0,T+4))+1)&1023];this.fVec5[this.IOTA0&131071]=e9;let a1=this.fRec5[1]!==0?this.fRec6[1]>0&&this.fRec6[1]<1?this.fRec5[1]:0:this.fRec6[1]===0&&m!==this.fRec7[1]?45351473e-12:this.fRec6[1]===1&&m!==this.fRec8[1]?-45351473e-12:0;this.fRec5[0]=a1,this.fRec6[0]=Math.max(0,Math.min(1,this.fRec6[1]+a1)),this.fRec7[0]=this.fRec6[1]>=1&&this.fRec8[1]!==m?m:this.fRec7[1],this.fRec8[0]=this.fRec6[1]<=0&&this.fRec7[1]!==m?m:this.fRec8[1];let r1=Math.min(65536,Math.max(0,this.fRec7[0])),V1=this.fVec5[this.IOTA0-r1&131071],T1=Math.min(65536,Math.max(0,this.fRec8[0])),n1=R[o]+.5*(V1+this.fRec6[0]*(this.fVec5[this.IOTA0-T1&131071]-V1))*$;this.fVec6[0]=F;let p1=F+this.fVec6[1],M1=.5*p1,e=Math.sin(M1),t=Math.cos(M1),r=this.fConst2*i1*(this.fRec3[0]+1),A1=r+8.500005,p=Math.floor(A1),M=Math.floor(A1),I1=r+(7-M),w1=r+(8-M),S1=r+(9-M),u1=r+(10-M),O1=u1*S1,b1=O1*w1,t9=(r+(6-M))*(I1*(w1*(.041666668*this.fRec1[this.IOTA0-(Math.min(512,Math.max(0,p))+1)&1023]*S1-.16666667*u1*this.fRec1[this.IOTA0-(Math.min(512,Math.max(0,p+1))+1)&1023])+.25*O1*this.fRec1[this.IOTA0-(Math.min(512,Math.max(0,p+2))+1)&1023])-.16666667*b1*this.fRec1[this.IOTA0-(Math.min(512,Math.max(0,p+3))+1)&1023])+.041666668*b1*I1*this.fRec1[this.IOTA0-(Math.min(512,Math.max(0,p+4))+1)&1023];this.fVec7[this.IOTA0&131071]=t9;let d1=this.fVec7[this.IOTA0-r1&131071],y1=V[o]+.5*$*(d1+this.fRec6[0]*(this.fVec7[this.IOTA0-T1&131071]-d1)),x1=t*y1-e*this.fRec10[1],F1=t*x1-e*this.fRec13[1],v1=t*F1-e*this.fRec16[1];this.fRec21[0]=.9999*(this.fRec21[1]+f*v)+W3;let W1=this.fRec21[0]+-1.49999,G1=Math.floor(W1);this.fVec8[this.IOTA0&16383]=e*this.fRec19[1]-t*v1;let H1=this.fVec8[this.IOTA0-Math.min(8192,Math.max(0,W1))&16383];this.fVec9[0]=H1,this.fRec20[0]=this.fVec9[1]-(G1+(2-this.fRec21[0]))*(this.fRec20[1]-H1)/(this.fRec21[0]-G1),this.fRec18[0]=this.fRec20[0],this.fRec23[0]=.9999*(this.fRec23[1]+f*W)+G3;let C1=this.fRec23[0]+-1.49999,g1=Math.floor(C1),D1=n1*t-e*this.fRec9[1],k1=t*D1-e*this.fRec12[1],P1=t*k1-e*this.fRec15[1];this.fVec10[this.IOTA0&16383]=t*P1-e*this.fRec18[1];let q1=this.fVec10[this.IOTA0-Math.min(8192,Math.max(0,C1))&16383];this.fVec11[0]=q1,this.fRec22[0]=this.fVec11[1]-(g1+(2-this.fRec23[0]))*(this.fRec22[1]-q1)/(this.fRec23[0]-g1),this.fRec19[0]=this.fRec22[0],this.fVec12[this.IOTA0&16383]=t*this.fRec19[1]+e*v1,this.fRec24[0]=.9999*(this.fRec24[1]+f*G)+H3;let z1=this.fRec24[0]+-1.49999,E1=this.fVec12[this.IOTA0-Math.min(8192,Math.max(0,z1))&16383];this.fVec13[0]=E1;let j1=Math.floor(z1),B1=this.fRec24[0]-j1,J1=j1+(2-this.fRec24[0]);this.fRec17[0]=-(this.fRec17[1]*J1/B1+J1*E1/B1+this.fVec13[1]),this.fRec15[0]=this.fRec17[0],this.fRec26[0]=.9999*(this.fRec26[1]+f*H)+C3;let K1=this.fRec26[0]+-1.49999,L1=Math.floor(K1);this.fVec14[this.IOTA0&16383]=this.fRec18[1]*t+e*P1;let N1=this.fVec14[this.IOTA0-Math.min(8192,Math.max(0,K1))&16383];this.fVec15[0]=N1,this.fRec25[0]=this.fVec15[1]-(L1+(2-this.fRec26[0]))*(this.fRec25[1]-N1)/(this.fRec26[0]-L1),this.fRec16[0]=this.fRec25[0],this.fVec16[this.IOTA0&16383]=t*this.fRec16[1]+e*F1,this.fRec27[0]=.9999*(this.fRec27[1]+f*C)+g3;let Q1=this.fRec27[0]+-1.49999,U1=this.fVec16[this.IOTA0-Math.min(8192,Math.max(0,Q1))&16383];this.fVec17[0]=U1;let X1=Math.floor(Q1),Y1=this.fRec27[0]-X1,Z1=X1+(2-this.fRec27[0]);this.fRec14[0]=-(this.fRec14[1]*Z1/Y1+Z1*U1/Y1+this.fVec17[1]),this.fRec12[0]=this.fRec14[0],this.fRec29[0]=.9999*(this.fRec29[1]+f*g)+D3;let _1=this.fRec29[0]+-1.49999,$1=Math.floor(_1);this.fVec18[this.IOTA0&16383]=this.fRec15[1]*t+e*k1;let e0=this.fVec18[this.IOTA0-Math.min(8192,Math.max(0,_1))&16383];this.fVec19[0]=e0,this.fRec28[0]=this.fVec19[1]-($1+(2-this.fRec29[0]))*(this.fRec28[1]-e0)/(this.fRec29[0]-$1),this.fRec13[0]=this.fRec28[0],this.fVec20[this.IOTA0&16383]=t*this.fRec13[1]+e*x1,this.fRec30[0]=.9999*(this.fRec30[1]+f*D)+k3;let O=this.fRec30[0]+-1.49999,t0=this.fVec20[this.IOTA0-Math.min(8192,Math.max(0,O))&16383];this.fVec21[0]=t0,this.fRec22[0]=this.fVec21[1]-(O+(2-this.fRec30[0]))*(this.fRec22[1]-t0)/(this.fRec30[0]-O),this.fRec9[0]=this.fRec22[0],this.fRec32[0]=.9999*(this.fRec32[1]+f*k)+P3;let f0=this.fRec32[0]+-1.49999,i0=Math.floor(f0);this.fVec22[this.IOTA0&16383]=this.fRec12[1]*t+e*D1;let s0=this.fVec22[this.IOTA0-Math.min(8192,Math.max(0,f0))&16383];this.fVec23[0]=s0,this.fRec31[0]=this.fVec23[1]-(i0+(2-this.fRec32[0]))*(this.fRec31[1]-s0)/(this.fRec32[0]-i0),this.fRec10[0]=this.fRec31[0];let h0=this.fRec9[1]*t+e*n1,c0=-.5*p1,s=Math.sin(c0),h=Math.cos(c0),R0=t*this.fRec10[1]+e*y1,l0=h*R0-s*this.fRec34[1],m0=h*l0-s*this.fRec37[1],o0=h*m0-s*this.fRec40[1];this.fRec45[0]=.9999*(this.fRec45[1]+f*P)+q3;let a0=this.fRec45[0]+-1.49999,r0=Math.floor(a0);this.fVec24[this.IOTA0&16383]=s*this.fRec43[1]-h*o0;let V0=this.fVec24[this.IOTA0-Math.min(8192,Math.max(0,a0))&16383];this.fVec25[0]=V0,this.fRec44[0]=this.fVec25[1]-(r0+(2-this.fRec45[0]))*(this.fRec44[1]-V0)/(this.fRec45[0]-r0),this.fRec42[0]=this.fRec44[0],this.fRec47[0]=.9999*(this.fRec47[1]+f*q)+z3;let T0=this.fRec47[0]+-1.49999,n0=Math.floor(T0),p0=h0*h-s*this.fRec33[1],M0=h*p0-s*this.fRec36[1],A0=h*M0-s*this.fRec39[1];this.fVec26[this.IOTA0&16383]=h*A0-this.fRec42[1]*s;let I0=this.fVec26[this.IOTA0-Math.min(8192,Math.max(0,T0))&16383];this.fVec27[0]=I0,this.fRec46[0]=this.fVec27[1]-(n0+(2-this.fRec47[0]))*(this.fRec46[1]-I0)/(this.fRec47[0]-n0),this.fRec43[0]=this.fRec46[0],this.fVec28[this.IOTA0&16383]=h*this.fRec43[1]+s*o0,this.fRec48[0]=.9999*(this.fRec48[1]+f*z)+E3;let w0=this.fRec48[0]+-1.49999,S0=this.fVec28[this.IOTA0-Math.min(8192,Math.max(0,w0))&16383];this.fVec29[0]=S0;let u0=Math.floor(w0),O0=this.fRec48[0]-u0,b0=u0+(2-this.fRec48[0]);this.fRec41[0]=-(this.fRec41[1]*b0/O0+b0*S0/O0+this.fVec29[1]),this.fRec39[0]=this.fRec41[0],this.fRec50[0]=.9999*(this.fRec50[1]+f*E)+j3;let d0=this.fRec50[0]+-1.49999,y0=Math.floor(d0);this.fVec30[this.IOTA0&16383]=this.fRec42[1]*h+s*A0;let x0=this.fVec30[this.IOTA0-Math.min(8192,Math.max(0,d0))&16383];this.fVec31[0]=x0,this.fRec49[0]=this.fVec31[1]-(y0+(2-this.fRec50[0]))*(this.fRec49[1]-x0)/(this.fRec50[0]-y0),this.fRec40[0]=this.fRec49[0],this.fVec32[this.IOTA0&16383]=h*this.fRec40[1]+s*m0,this.fRec51[0]=.9999*(this.fRec51[1]+f*j)+B3;let F0=this.fRec51[0]+-1.49999,v0=this.fVec32[this.IOTA0-Math.min(8192,Math.max(0,F0))&16383];this.fVec33[0]=v0;let W0=Math.floor(F0),G0=this.fRec51[0]-W0,H0=W0+(2-this.fRec51[0]);this.fRec38[0]=-(this.fRec38[1]*H0/G0+H0*v0/G0+this.fVec33[1]),this.fRec36[0]=this.fRec38[0],this.fRec53[0]=.9999*(this.fRec53[1]+f*B)+J3;let C0=this.fRec53[0]+-1.49999,g0=Math.floor(C0);this.fVec34[this.IOTA0&16383]=this.fRec39[1]*h+s*M0;let D0=this.fVec34[this.IOTA0-Math.min(8192,Math.max(0,C0))&16383];this.fVec35[0]=D0,this.fRec52[0]=this.fVec35[1]-(g0+(2-this.fRec53[0]))*(this.fRec52[1]-D0)/(this.fRec53[0]-g0),this.fRec37[0]=this.fRec52[0],this.fVec36[this.IOTA0&16383]=h*this.fRec37[1]+s*l0,this.fRec54[0]=.9999*(this.fRec54[1]+f*J)+K3;let k0=this.fRec54[0]+-1.49999,P0=this.fVec36[this.IOTA0-Math.min(8192,Math.max(0,k0))&16383];this.fVec37[0]=P0;let q0=Math.floor(k0),z0=this.fRec54[0]-q0,E0=q0+(2-this.fRec54[0]);this.fRec35[0]=-(this.fRec35[1]*E0/z0+E0*P0/z0+this.fVec37[1]),this.fRec33[0]=this.fRec35[0],this.fRec56[0]=.9999*(this.fRec56[1]+f*K)+L3;let j0=this.fRec56[0]+-1.49999,B0=Math.floor(j0);this.fVec38[this.IOTA0&16383]=this.fRec36[1]*h+s*p0;let J0=this.fVec38[this.IOTA0-Math.min(8192,Math.max(0,j0))&16383];this.fVec39[0]=J0,this.fRec55[0]=this.fVec39[1]-(B0+(2-this.fRec56[0]))*(this.fRec55[1]-J0)/(this.fRec56[0]-B0),this.fRec34[0]=this.fRec55[0];let K0=this.fRec33[1]*h+s*h0,L0=h*this.fRec34[1]+s*R0,N0=t*L0-e*this.fRec58[1],Q0=t*N0-e*this.fRec61[1],U0=t*Q0-e*this.fRec64[1];this.fRec69[0]=.9999*(this.fRec69[1]+f*L)+N3;let X0=this.fRec69[0]+-1.49999,Y0=Math.floor(X0);this.fVec40[this.IOTA0&16383]=e*this.fRec67[1]-t*U0;let Z0=this.fVec40[this.IOTA0-Math.min(8192,Math.max(0,X0))&16383];this.fVec41[0]=Z0,this.fRec68[0]=this.fVec41[1]-(Y0+(2-this.fRec69[0]))*(this.fRec68[1]-Z0)/(this.fRec69[0]-Y0),this.fRec66[0]=this.fRec68[0],this.fRec71[0]=.9999*(this.fRec71[1]+f*N)+Q3;let _0=this.fRec71[0]+-1.49999,$0=Math.floor(_0),e3=t*K0-e*this.fRec57[1],t3=t*e3-e*this.fRec60[1],f3=t*t3-e*this.fRec63[1];this.fVec42[this.IOTA0&16383]=t*f3-this.fRec66[1]*e;let i3=this.fVec42[this.IOTA0-Math.min(8192,Math.max(0,_0))&16383];this.fVec43[0]=i3,this.fRec70[0]=this.fVec43[1]-($0+(2-this.fRec71[0]))*(this.fRec70[1]-i3)/(this.fRec71[0]-$0),this.fRec67[0]=this.fRec70[0],this.fVec44[this.IOTA0&16383]=t*this.fRec67[1]+e*U0,this.fRec72[0]=.9999*(this.fRec72[1]+f*Q)+U3;let s3=this.fRec72[0]+-1.49999,h3=this.fVec44[this.IOTA0-Math.min(8192,Math.max(0,s3))&16383];this.fVec45[0]=h3;let c3=Math.floor(s3),R3=this.fRec72[0]-c3,l3=c3+(2-this.fRec72[0]);this.fRec65[0]=-(this.fRec65[1]*l3/R3+l3*h3/R3+this.fVec45[1]),this.fRec63[0]=this.fRec65[0],this.fRec74[0]=.9999*(this.fRec74[1]+f*U)+X3;let m3=this.fRec74[0]+-1.49999,o3=Math.floor(m3);this.fVec46[this.IOTA0&16383]=this.fRec66[1]*t+e*f3;let a3=this.fVec46[this.IOTA0-Math.min(8192,Math.max(0,m3))&16383];this.fVec47[0]=a3,this.fRec73[0]=this.fVec47[1]-(o3+(2-this.fRec74[0]))*(this.fRec73[1]-a3)/(this.fRec74[0]-o3),this.fRec64[0]=this.fRec73[0],this.fVec48[this.IOTA0&16383]=t*this.fRec64[1]+e*Q0,this.fRec75[0]=.9999*(this.fRec75[1]+f*X)+Y3;let r3=this.fRec75[0]+-1.49999,V3=this.fVec48[this.IOTA0-Math.min(8192,Math.max(0,r3))&16383];this.fVec49[0]=V3;let T3=Math.floor(r3),n3=this.fRec75[0]-T3,p3=T3+(2-this.fRec75[0]);this.fRec62[0]=-(this.fRec62[1]*p3/n3+p3*V3/n3+this.fVec49[1]),this.fRec60[0]=this.fRec62[0],this.fRec77[0]=.9999*(this.fRec77[1]+f*Y)+Z3;let M3=this.fRec77[0]+-1.49999,A3=Math.floor(M3);this.fVec50[this.IOTA0&16383]=this.fRec63[1]*t+e*t3;let I3=this.fVec50[this.IOTA0-Math.min(8192,Math.max(0,M3))&16383];this.fVec51[0]=I3,this.fRec76[0]=this.fVec51[1]-(A3+(2-this.fRec77[0]))*(this.fRec76[1]-I3)/(this.fRec77[0]-A3),this.fRec61[0]=this.fRec76[0],this.fVec52[this.IOTA0&16383]=t*this.fRec61[1]+e*N0,this.fRec78[0]=.9999*(this.fRec78[1]+f*Z)+_3;let w3=this.fRec78[0]+-1.49999,S3=this.fVec52[this.IOTA0-Math.min(8192,Math.max(0,w3))&16383];this.fVec53[0]=S3;let u3=Math.floor(w3),O3=this.fRec78[0]-u3,b3=u3+(2-this.fRec78[0]);this.fRec59[0]=-(this.fRec59[1]*b3/O3+b3*S3/O3+this.fVec53[1]),this.fRec57[0]=this.fRec59[0],this.fRec80[0]=.9999*(this.fRec80[1]+f*_)+$3;let d3=this.fRec80[0]+-1.49999,y3=Math.floor(d3);this.fVec54[this.IOTA0&16383]=this.fRec60[1]*t+e*e3;let x3=this.fVec54[this.IOTA0-Math.min(8192,Math.max(0,d3))&16383];this.fVec55[0]=x3,this.fRec79[0]=this.fVec55[1]-(y3+(2-this.fRec80[0]))*(this.fRec79[1]-x3)/(this.fRec80[0]-y3),this.fRec58[0]=this.fRec79[0];let F3=1-.5*u;this.fRec2[0]=F3*(this.fRec57[1]*t+e*K0)+.5*u*this.fRec2[1],this.fRec0[this.IOTA0&1023]=this.fRec2[0],this.fRec81[0]=F3*(t*this.fRec58[1]+e*L0)+.5*u*this.fRec81[1],this.fRec1[this.IOTA0&1023]=this.fRec81[0],w[o]=this.fRec0[this.IOTA0&1023],S[o]=this.fRec1[this.IOTA0&1023],this.iVec0[1]=this.iVec0[0],this.fVec1[1]=this.fVec1[0],this.fVec2[1]=this.fVec2[0],this.IOTA0=this.IOTA0+1>>>0,this.fVec3[1]=this.fVec3[0],this.fRec3[1]=this.fRec3[0],this.fRec4[1]=this.fRec4[0],this.fVec4[1]=this.fVec4[0],this.fRec5[1]=this.fRec5[0],this.fRec6[1]=this.fRec6[0],this.fRec7[1]=this.fRec7[0],this.fRec8[1]=this.fRec8[0],this.fVec6[1]=this.fVec6[0],this.fRec21[1]=this.fRec21[0],this.fVec9[1]=this.fVec9[0],this.fRec20[1]=this.fRec20[0],this.fRec18[1]=this.fRec18[0],this.fRec23[1]=this.fRec23[0],this.fVec11[1]=this.fVec11[0],this.fRec22[1]=this.fRec22[0],this.fRec19[1]=this.fRec19[0],this.fRec24[1]=this.fRec24[0],this.fVec13[1]=this.fVec13[0],this.fRec17[1]=this.fRec17[0],this.fRec15[1]=this.fRec15[0],this.fRec26[1]=this.fRec26[0],this.fVec15[1]=this.fVec15[0],this.fRec25[1]=this.fRec25[0],this.fRec16[1]=this.fRec16[0],this.fRec27[1]=this.fRec27[0],this.fVec17[1]=this.fVec17[0],this.fRec14[1]=this.fRec14[0],this.fRec12[1]=this.fRec12[0],this.fRec29[1]=this.fRec29[0],this.fVec19[1]=this.fVec19[0],this.fRec28[1]=this.fRec28[0],this.fRec13[1]=this.fRec13[0],this.fRec30[1]=this.fRec30[0],this.fVec21[1]=this.fVec21[0],this.fRec11[1]=this.fRec11[0],this.fRec9[1]=this.fRec9[0],this.fRec32[1]=this.fRec32[0],this.fVec23[1]=this.fVec23[0],this.fRec31[1]=this.fRec31[0],this.fRec10[1]=this.fRec10[0],this.fRec45[1]=this.fRec45[0],this.fVec25[1]=this.fVec25[0],this.fRec44[1]=this.fRec44[0],this.fRec42[1]=this.fRec42[0],this.fRec47[1]=this.fRec47[0],this.fVec27[1]=this.fVec27[0],this.fRec46[1]=this.fRec46[0],this.fRec43[1]=this.fRec43[0],this.fRec48[1]=this.fRec48[0],this.fVec29[1]=this.fVec29[0],this.fRec41[1]=this.fRec41[0],this.fRec39[1]=this.fRec39[0],this.fRec50[1]=this.fRec50[0],this.fVec31[1]=this.fVec31[0],this.fRec49[1]=this.fRec49[0],this.fRec40[1]=this.fRec40[0],this.fRec51[1]=this.fRec51[0],this.fVec33[1]=this.fVec33[0],this.fRec38[1]=this.fRec38[0],this.fRec36[1]=this.fRec36[0],this.fRec53[1]=this.fRec53[0],this.fVec35[1]=this.fVec35[0],this.fRec52[1]=this.fRec52[0],this.fRec37[1]=this.fRec37[0],this.fRec54[1]=this.fRec54[0],this.fVec37[1]=this.fVec37[0],this.fRec35[1]=this.fRec35[0],this.fRec33[1]=this.fRec33[0],this.fRec56[1]=this.fRec56[0],this.fVec39[1]=this.fVec39[0],this.fRec55[1]=this.fRec55[0],this.fRec34[1]=this.fRec34[0],this.fRec69[1]=this.fRec69[0],this.fVec41[1]=this.fVec41[0],this.fRec68[1]=this.fRec68[0],this.fRec66[1]=this.fRec66[0],this.fRec71[1]=this.fRec71[0],this.fVec43[1]=this.fVec43[0],this.fRec70[1]=this.fRec70[0],this.fRec67[1]=this.fRec67[0],this.fRec72[1]=this.fRec72[0],this.fVec45[1]=this.fVec45[0],this.fRec65[1]=this.fRec65[0],this.fRec63[1]=this.fRec63[0],this.fRec74[1]=this.fRec74[0],this.fVec47[1]=this.fVec47[0],this.fRec73[1]=this.fRec73[0],this.fRec64[1]=this.fRec64[0],this.fRec75[1]=this.fRec75[0],this.fVec49[1]=this.fVec49[0],this.fRec62[1]=this.fRec62[0],this.fRec60[1]=this.fRec60[0],this.fRec77[1]=this.fRec77[0],this.fVec51[1]=this.fVec51[0],this.fRec76[1]=this.fRec76[0],this.fRec61[1]=this.fRec61[0],this.fRec78[1]=this.fRec78[0],this.fVec53[1]=this.fVec53[0],this.fRec59[1]=this.fRec59[0],this.fRec57[1]=this.fRec57[0],this.fRec80[1]=this.fRec80[0],this.fVec55[1]=this.fVec55[0],this.fRec79[1]=this.fRec79[0],this.fRec58[1]=this.fRec58[0],this.fRec2[1]=this.fRec2[0],this.fRec81[1]=this.fRec81[0]}}};var b=class extends AudioWorkletProcessor{r;d;constructor(){super(),this.r=!0,this.d=new I(sampleRate),this.port.onmessage=c=>{switch(c.data.type){case"DISPOSE":this.r=!1;break}}}process(c,l,R){return c[0].length===0?this.r:(this.d.update(R.delay[0],R.damping[0],R.size[0],R.diffusion[0],R.feedback[0],R.modDepth[0],R.modFreq[0]),this.d.process(c[0],l[0]),this.r)}static get parameterDescriptors(){return[["delay",.2,.001,1.45],["damping",.3,0,.99],["size",1,.1,3],["diffusion",.5,0,.99],["feedback",.9,0,1],["modDepth",.1,0,1],["modFreq",2,0,10]].map(([c,l,R,V])=>({name:c,defaultValue:l,minValue:R,maxValue:V,automationRate:"k-rate"}))}};registerProcessor("ReverbDelayProcessor",b);})();',function(e){let t="__REVERB-DELAY__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([Z],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eB=(K={processorName:"ReverbDelayProcessor",paramNames:["delay","damping","size","diffusion","feedback","modDepth","modFreq"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[2]})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,K.processorName,K.workletOptions(a));i.__PROCESSOR_NAME__=K.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,K.paramNames,a);return null===(t=K.postCreate)||void 0===t||t.call(K,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eG=((Y=eG||{})[Y.ByPass=0]="ByPass",Y[Y.LowPass=1]="LowPass",Y[Y.BandPass=2]="BandPass",Y[Y.HighPass=3]="HighPass",Y[Y.Notch=4]="Notch",Y[Y.Peak=5]="Peak",Y[Y.AllPass=6]="AllPass",Y),eZ=(z='"use strict";(()=>{function M(p){let a=1/p,n=0,e=0,l=0,t=0,s=0,o=0,m=0,P=0,k=0,_=0,g=0,A=-1,d=0,x=0;function w(b,c,h){if(c===d&&A===b&&h===x)return;A=b,d=c,x=h;let i=Math.tan(c*a*Math.PI),r=1/Math.max(h,1e-4);switch(n=1/(1+i*(i+r)),e=i*n,l=i*e,b){case 1:t=0,s=0,o=1;break;case 2:t=0,s=1,o=0;break;case 3:t=1,s=-r,o=-1;break;case 4:t=1,s=-r,o=0;break;case 5:t=1,s=-r,o=-2;break;case 6:t=1,s=-2*r,o=0;default:t=1,s=0,o=0;break}}return function(c,h,i,r,R){w(i,r[0],R);let Q=r.length===c.length;for(let u=0;u<c.length;u++){let B=c[u],y=r[u];Q&&w(i,r[u],R),g=B-P,k=n*m+e*g,_=P+e*m+l*g,m=2*k-m,P=2*_-P;let f=t*B+s*k+o*_;h[u]=f}}}var F=class extends AudioWorkletProcessor{r;p;constructor(){super(),this.r=!0,this.p=M(sampleRate),this.port.onmessage=a=>{switch(a.data.type){case"STOP":this.r=!1;break}}}process(a,n,e){if(a[0].length===0)return this.r;let l=a[0][0],t=n[0][0];return this.p(l,t,e.type[0],e.frequency,e.Q[0]),this.r}static get parameterDescriptors(){return[["type",1,0,10,"k"],["frequency",1e3,20,2e4,"a"],["Q",.5,.025,40,"k"]].map(([a,n,e,l,t])=>({name:a,defaultValue:n,minValue:e,maxValue:l,automationRate:t+"-rate"}))}};registerProcessor("SvfProcessor",F);})();',function(e){let t="__SVF__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([z],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),eK=($={processorName:"SvfProcessor",paramNames:["type","frequency","Q"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,$.processorName,$.workletOptions(a));i.__PROCESSOR_NAME__=$.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,$.paramNames,a);return null===(t=$.postCreate)||void 0===t||t.call($,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),eY=(X='"use strict";(()=>{function Q(q){let m=0,M=0,e=[0,0],t=[0,0],r=[0,0],l=[0,0],n=Math.min(192e3,Math.max(1,q)),f=6.2831855/n,u=6/n,w=2/n;return{update:b,process:T};function b(a,s){m=a,M=s}function T(a,s){let h=m,o=Math.tan(f*Math.pow(10,u*h+1)),c=o+1,p=o/c,S=o*o,i=o*(1-.25*p)+1,y=c*i,g=.25*(S/y)+1,R=o/i,d=o*(1-.25*R)+1,x=i*d,A=.25*(S/x)+1,F=o/d,C=.5*F,H=o*(1-C)+1,D=17-9.7*Math.pow(w*h,10),P=24.293*M+-.00010678119,I=(.5*(S/(d*H))+1)/(.0051455377*(o*o*o*o*D*P/(y*d*H))+1),Y=D*P/c,Z=.02058215*R,_=.5*p,$=.02058215*F,ee=.5*R,te=.0051455377*(o*o*o/(x*H)),le=1/d,oe=.5*(o/H),fe=1/i,re=1/c,O=2*p;for(let v=0;v<a.length;v++){let K=Math.max(-1,Math.min(1,100*a[v])),G=_*e[1]+t[1],U=ee*G,E=U+r[1],W=F*E+l[1],j=I*(1.5*K*(1-.33333334*(K*K))-Y*(.0411643*e[1]+Z*G+$*E+te*W))+le*(E+oe*W)-l[1],z=.5*(A*(l[1]+p*j)+fe*(G+C*E))-r[1],B=.5*(g*(r[1]+p*z)+re*(e[1]+U))-t[1],J=.5*(t[1]+p*B)-e[1],ne=e[1]+p*J;e[0]=e[1]+O*J,t[0]=t[1]+O*B,r[0]=r[1]+O*z,l[0]=l[1]+O*j,s[v]=ne,e[1]=e[0],t[1]=t[0],r[1]=r[0],l[1]=l[0]}}}function L(q,m){let M=0,e=0,t=0,r=0,l=0,n=0,f=[0,0],u=[0,0],w=[0,0];return e=Math.min(192e3,Math.max(1,q)),t=6.2831855/e,r=6/e,{update:T,process:m===1?s:a};function T(h,o){l=h,n=o}function a(h,o){let c=Math.tan(t*Math.pow(10,r*l+1)),p=c+1,S=c/p,i=9.293*n+-.00010678119,y=1-S,g=1/(1-.21521823*(c*i*y/p)),R=1/p,d=.21521823*i*y,x=2*S,A=.21521823*i;for(let F=0;F<h.length;F++){let C=h[F]-w[1],H=g*(w[1]+R*(c*C+d*f[1]-u[1]))-f[1],D=f[1]+S*H,P=D;f[0]=f[1]+x*H,u[0]=u[1]+x*(A*D-u[1]),w[0]=w[1]+x*C,o[F]=P,f[1]=f[0],u[1]=u[0],w[1]=w[0]}}function s(h,o){let c=Math.tan(t*Math.pow(10,r*l+1)),p=9.293*n+-.00010678119,S=c+1,i=c/S,y=1-.21521823*(c*p*(1-i)/S),g=1/y,R=1/S,d=2*i,x=.21521823*(p/y);for(let A=0;A<h.length;A++){let F=h[A],C=F-w[1],H=F-(w[1]+R*(c*C-f[1]+i*u[1])),D=g*H,P=x*H,I=P-u[1];f[0]=f[1]+d*(P-(i*I+f[1]+u[1])),u[0]=u[1]+d*I,w[0]=w[1]+d*C,o[A]=D,f[1]=f[0],u[1]=u[0],w[1]=w[0]}}}function V(q){let m=0,M=0,e=[0,0],t=[0,0],r=[0,0],l=[0,0],n=3.1415927/Math.min(192e3,Math.max(1,q));return{update:f,process:u};function f(w,b){m=w,M=b}function u(w,b){let T=Math.tan(n*m),a=T+1,s=T/a,h=24.293*M+-.00010678119,o=.1646572*h*(1-s),c=1/(.1646572*(T*T*T*T*h/(a*a*a*a))+1),p=2*s;for(let S=0;S<w.length;S++){let i=c*(w[S]-o*(l[1]+s*(r[1]+s*(t[1]+s*e[1]))))-e[1];e[0]=e[1]+p*i;let y=e[1]+s*i-t[1];t[0]=t[1]+p*y;let g=t[1]+s*y-r[1];r[0]=r[1]+p*g;let R=r[1]+s*g-l[1];l[0]=l[1]+p*R;let d=l[1]+s*R;b[S]=d,e[1]=e[0],t[1]=t[0],r[1]=r[0],l[1]=l[0]}}}function X(q){let m=0,M=0,e=0,t=0,r=0,l=[0,0],n=[0,0],f=[0,0];return M=Math.min(192e3,Math.max(1,q)),e=6/M,t=6.2831855/M,{update:u,process:w};function u(b,T){m=b,r=T}function w(b,T){let a=Math.tan(t*Math.pow(10,e*m+1)),s=a+1,h=a/s,o=2*h,c=o+-1,p=.0823286*(a*c/s),S=.0823286*c,i=24.293*r+-.00010678119,y=i/s,g=1/(.0823286*(a*a*i*c/(s*s))+1);for(let R=0;R<b.length;R++){let d=g*(b[R]-y*(.1646572*l[1]+S*n[1]+p*f[1]))-f[1],x=f[1]+h*d-n[1],A=n[1]+h*x,F=A-l[1];l[0]=l[1]+o*F,n[0]=n[1]+o*x,f[0]=f[1]+o*d;let C=2*(l[1]+h*F)-A;T[R]=C,l[1]=l[0],n[1]=n[0],f[1]=f[0]}}}function k(q,m){let M=0,e=0,t=0,r=0,l=0,n=[0,0],f=[0,0];return M=Math.min(192e3,Math.max(1,q)),e=6.2831855/M,t=6/M,m=m,{update:u,process:w};function u(b,T){r=b,l=T}function w(b,T){let a=Math.tan(e*Math.pow(10,t*r+1)),s=1/(29.293*l+.707)+a,h=a*s+1,o=a/h,c=1/h,p=2*a;for(let S=0;S<b.length;S++){let i=b[0]-(n[1]+s*f[1]),y=o*i,g=Math.max(-1,Math.min(1,f[1]+y)),R=g*(1-.33333334*(g*g)),d=a*R,x=n[1]+d,A=c*i,F=A,C=R,H=d+n[1]+A;n[0]=n[1]+p*R,f[0]=y+R,T[S]=m==1?F:m==2?C:m==3?H:x,n[1]=n[0],f[1]=f[0]}}}var N=class extends AudioWorkletProcessor{r;t;p;d;constructor(){super(),this.r=!0,this.p=[V(sampleRate),X(sampleRate),L(sampleRate,0),L(sampleRate,1),Q(sampleRate),k(sampleRate,0),k(sampleRate,1),k(sampleRate,2),k(sampleRate,3)],this.t=0,this.d=this.p[0],this.port.onmessage=m=>{switch(m.data.type){case"DISPOSE":this.r=!1;break}}}process(m,M,e){let t=Math.floor(e.type);if(this.t!==t&&(this.t=t,this.d=this.p[t]||this.p[0],console.log("USING FILTER",t,this.d)),m[0].length===0)return this.r;let r=e.detune[0],l=e.frequency[0];return this.d.update(l*(r?Math.pow(2,e.detune[0]/12):1),e.resonance[0]),this.d.process(m[0][0],M[0][0]),this.r}static get parameterDescriptors(){return[["type",0,0,8],["frequency",1e3,20,2e4],["detune",0,-127,127],["resonance",.8,0,1]].map(([m,M,e,t])=>({name:m,defaultValue:M,minValue:e,maxValue:t,automationRate:"k-rate"}))}};registerProcessor("VAFProcessor",N);})();',function(e){let t="__VAF__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([X],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),ez=Object.assign((Q={processorName:"VAFProcessor",paramNames:["type","frequency","detune","resonance"],workletOptions:()=>({numberOfInputs:1,numberOfOutputs:1})},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,Q.processorName,Q.workletOptions(a));i.__PROCESSOR_NAME__=Q.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,Q.paramNames,a);return null===(t=Q.postCreate)||void 0===t||t.call(Q,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})}),{MOOG_LADDER:0,MOOG_HALF_LADDER:1,KORG35_LPF:2,KORG35_HPF:3,DIODE_LADDER:4,OBERHEIM_LPF:5,OBERHEIM_HPF:6,OBERHEIM_BPF:7,OBERHEIM_BSF:8}),e$=s(9802),eX=s(8336),eQ=s(3793),eJ=s(8672),e1=s(6117),e0=(r=new WeakMap,n=new WeakMap,o=new WeakMap,l=new WeakSet,c=class{static async fetchAvailableNames(){let e=await fetch("https://smpldsnds.github.io/wavedit-online/samples/files.json");if(!e.ok)throw Error("Failed to load wavetable list.");return await e.json()}onLoad(){return(0,e$._)(this,o)}getData(){return(0,e$._)(this,n)}static decodeWavetable(e){let t=new DataView(e),s=t.getUint16(20,!0),a=t.getUint32(24,!0),i=t.getUint16(22,!0),r=t.getUint16(34,!0),n=t.getUint32(40,!0);if(1!==s)throw Error("Invalid format. Only PCM supported.");if(1!==i)throw Error("Invalid format. Only mono supported.");let o=32===r,l=r/8,c=n/(l*i),f=new Float32Array(c);for(let e=0;e<c;e++)for(let s=0;s<i;s++){let a=44+(e*i+s)*l;f[e]=o?t.getFloat32(a,!0):t.getInt16(a,!0)/32768}return{sampleRate:a,data:f}}constructor(e,t){(0,e1._)(this,l),(0,eX._)(this,r,{writable:!0,value:void 0}),(0,eX._)(this,n,{writable:!0,value:void 0}),(0,eX._)(this,o,{writable:!0,value:void 0}),this.url=e,this.wavetableLength=t,(0,eQ._)(this,o,(0,eJ._)(this,l,e2).call(this))}}),e3=(J='"use strict";(()=>{function F(l){let e=220,r=440,a=.005,o=new Float32Array(0),n=0,i=0,s=0,u=0,c=0,b=2,q=W(l),d=P();function A(t){(t.frequency[0]!==r||t.baseFrequency[0]!==e)&&(e=t.baseFrequency[0],r=t.frequency[0],b=r/e),a=t.morphFrequency[0]}function V(t,m){o=t,n=Math.min(m,t.length),i=Math.floor(t.length/n),s=0,u=(s+1)%i}function x(t,m){if(n===0||i===0){t.fill(0);return}A(m);for(let f=0;f<t.length;f++){let h=q(a),p=g(o,n,s,c);if(u!==s){let k=g(o,n,u,c);t[f]=(1-h)*p+h*k}else t[f]=p;c+=b,c>=n&&(c-=n),c<0&&(c+=n),d(h)&&(s=u,u=(u+1)%i)}}return{agen:x,set:V}}function g(l,e,r,a){let o=Math.floor(a),n=a-o,i=(o+1)%e,s=l[r*e+o],u=l[r*e+i];return s+(u-s)*n}function W(l){let e=1/l,r=0;return a=>{for(r+=a*e;r>=1;)r-=1;for(;r<0;)r+=1;return r}}function P(){let l=0,e=!1;return function(a){let n=Math.abs(a-l)>.5;return l=a,a===0||e===!0?(e=!1,!1):(e=n,n)}}var y=class extends AudioWorkletProcessor{static parameterDescriptors=[{name:"baseFrequency",defaultValue:220,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"frequency",defaultValue:440,minValue:0,maxValue:2e4,automationRate:"k-rate"},{name:"morphFrequency",defaultValue:.05,minValue:0,maxValue:10,automationRate:"k-rate"}];u;r;constructor(){super(),this.u=F(sampleRate),this.r=!0,this.port.onmessage=e=>{switch(e.data.type){case"WAVETABLE":this.u.set(e.data.wavetable,e.data.length);break;case"DISPOSE":this.r=!1;break}}}process(e,r,a){return this.u.agen(r[0][0],a),this.r}};registerProcessor("WavetableOscillatorWorkletProcessor",y);})();',function(e){let t="__WT__";if(t in e)return e[t];if(!e.audioWorklet||!e.audioWorklet.addModule)throw Error("AudioWorklet not supported");let s=new Blob([J],{type:"application/javascript"}),a=URL.createObjectURL(s),i=e.audioWorklet.addModule(a);return e[t]=i,i}),e9=(ee={processorName:"WavetableOscillatorWorkletProcessor",paramNames:["baseFrequency","frequency","morphFrequency"],workletOptions:()=>({numberOfInputs:0,numberOfOutputs:1}),postCreate(e){e.setWavetable=t=>{e.port.postMessage({type:"WAVETABLE",wavetable:t.data,length:t.length})},e.fetchWavetableNames=e7,e.loadWavetable=t=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256;return new e0(e.startsWith("http")?e:"https://smpldsnds.github.io/wavedit-online/samples/".concat(e.toUpperCase(),".WAV"),t).onLoad()})(t).then(t=>{e.setWavetable(t)})}},function(e){var t;let s;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new AudioWorkletNode(e,ee.processorName,ee.workletOptions(a));i.__PROCESSOR_NAME__=ee.processorName;let r=function(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}(i,ee.paramNames,a);return null===(t=ee.postCreate)||void 0===t||t.call(ee,i),s=!1,Object.assign(i,{dispose(){var e,t;if(!s&&(s=!0,i.disconnect(),null===(e=i.port)||void 0===e||e.postMessage({type:"DISPOSE"}),r))for(;r.length;){let e=r.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(t=e.dispose)||void 0===t||t.call(e):e.disconnect():"function"==typeof e&&e()}}})});function e7(){return e0.fetchAvailableNames()}async function e2(){let e=await fetch(this.url);if(!e.ok)throw Error("Failed to load ".concat(this.url));let t=await e.arrayBuffer(),s=c.decodeWavetable(t);return(0,eQ._)(this,r,s.sampleRate),(0,eQ._)(this,n,s.data),{data:(0,e$._)(this,n),length:this.wavetableLength,sampleRate:(0,e$._)(this,r)}}function e4(e,t,s){let a=[];for(let i of t){e.parameters&&(e[i]=e.parameters.get(i));let t=e[i];if(!t)throw Error("Invalid param name: "+i);let r=s[i];if("number"==typeof r)t.value=r;else if(r instanceof AudioNode)t.value=0,r.connect(t),a.push(r);else if("function"==typeof r){t.value=0;let s=r(e.context);s.connect(t),a.push(s)}}return a}function e6(e,t){let s=!1;return Object.assign(e,{dispose(){var a,i;if(!s&&(s=!0,e.disconnect(),null===(a=e.port)||void 0===a||a.postMessage({type:"DISPOSE"}),t))for(;t.length;){let e=t.pop();e instanceof AudioNode?"function"==typeof e.dispose?null===(i=e.dispose)||void 0===i||i.call(e):e.disconnect():"function"==typeof e&&e()}}})}function e5(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new GainNode(e),a=e4(s,["gain"],t);return e6(s,a)}var e8=Object.assign(e5,{val:(e,t)=>e5(e,{gain:t})});function te(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new OscillatorNode(e,{type:t.type});s.start();let a=e4(s,["frequency","detune"],t);return e6(s,a)}function tt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=new BiquadFilterNode(e,{type:t.type}),a=e4(s,["frequency","detune","Q","gain"],t);return e6(s,a)}function ts(e){return e6(e.reduce((e,t)=>(e.connect(t),t)),e)}function ta(e){return e.__synthlet||(e.__synthlet=function(e){let t=t=>s=>t(e,s),s=t(e8),a=t(te),i=t(tt),r=t(es),n=t(eo),o=t(en),l=t(em),c=t(eb),f=t(eA),u=t(ej),h=t(e_),p=t(eC),d=t(eU),m=t(eK),R=t(eT),g=t(e9),y=t(ey),b={param:Object.assign((e,t)=>R({input:e,...t}),{db:(e,t)=>R({scale:eD.DbToGain,input:e,...t}),lin:(e,t,s,a)=>R({scale:eD.Linear,input:s,min:e,max:t,...a}),add:(e,t,s)=>R({scale:eD.Bypass,input:t,offset:e,...s}),mul:(e,t,s)=>R({scale:eD.Bypass,input:t,gain:e,...s})}),conn:function(e){let t=(e,t)=>e.connect(t),s=e=>tr(e.reduce((e,t)=>(e.connect(t),t)),e),a=(e,t)=>(e.forEach(e=>e.connect(t)),tr(t,e));return Object.assign(function(e,i){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];if(!i){if(Array.isArray(e))throw Error("Connect in parallel requires a destination");return e}let l=Array.isArray(e)?a(e,i):t(e,i);return n.length>0?s([l,...n]):l},{pair:t,chain:s,mixInto:a,serial:function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return s(t)},mix:function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];return a(s,e())}})}(s),amp:Object.assign(e=>s({gain:e}),{adsr:(e,t)=>n({gate:e,...t}),perc:(e,t,a,i)=>s({gain:r({trigger:e,attack:t,decay:a,...i})})}),clock:Object.assign(c,{}),clip:Object.assign(y,{soft:(e,t)=>y({type:eR.Tanh,preGain:e,postGain:t})}),chorusT:Object.assign(l,{}),euclid:Object.assign(f,{}),impulse:Object.assign(u,{trigger:e=>u({trigger:e})}),lfo:Object.assign(h,{sin:(e,t)=>h({type:ek.Sine,frequency:e,...t}),tri:(e,t)=>h({type:ek.Triangle,frequency:e,...t}),rampUp:(e,t)=>h({type:ek.RampUp,frequency:e,...t}),rampDown:(e,t)=>h({type:ek.RampDown,frequency:e,...t}),square:(e,t)=>h({type:ek.Square,frequency:e,...t}),expRampUp:(e,t)=>h({type:ek.ExpRampUp,frequency:e,...t}),expRampDown:(e,t)=>h({type:ek.ExpRampDown,frequency:e,...t}),expTriangle:(e,t)=>h({type:ek.ExpTriangle,frequency:e,...t}),sh:(e,t)=>h({type:ek.RandSampleHold,frequency:e,...t}),impulse:(e,t)=>h({type:ek.Impulse,frequency:e,...t})}),noise:Object.assign(p,{white:()=>p({type:eI.White}),pink:()=>p({type:eI.Pink})}),polyblep:Object.assign(d,{}),svf:Object.assign(m,{lp:(e,t)=>m({type:eG.LowPass,frequency:e,...t}),hp:(e,t)=>m({type:eG.HighPass,frequency:e,...t}),bp:(e,t)=>m({type:eG.BandPass,frequency:e,...t})}),env:Object.assign(o,{adsr:(e,t)=>o({gate:e,...t}),ad:(e,t)=>r({trigger:e,...t})}),bqf:Object.assign(i,{lp:(e,t)=>i({type:"lowpass",frequency:e,...t}),hi:(e,t)=>i({type:"highpass",frequency:e,...t}),bandpass:(e,t)=>i({type:"bandpass",frequency:e,...t}),allpass:(e,t)=>i({type:"allpass",frequency:e,...t}),highshelf:(e,t)=>i({type:"highshelf",frequency:e,...t}),lowshelf:(e,t)=>i({type:"lowshelf",frequency:e,...t}),peak:(e,t)=>i({type:"peaking",frequency:e,...t}),notch:(e,t)=>i({type:"notch",frequency:e,...t})}),gain:e=>s({gain:e}),osc:Object.assign(a,{sin:(e,t)=>a({type:"sine",frequency:e,...t}),saw:(e,t)=>a({type:"sawtooth",frequency:e,...t}),square:(e,t)=>a({type:"square",frequency:e,...t}),tri:(e,t)=>a({type:"triangle",frequency:e,...t})}),wt:Object.assign(g,{}),withParams:ti,synth:e=>Object.assign(ti(e.out,e.params),e.modules),op:t=>s=>t(e,s)};return Object.assign(b,{use:t=>{let s={};for(let a in t)s[a]=s=>t[a](e,s);return Object.assign(b,s)}})}(e)),e.__synthlet}function ti(e,t){return Object.assign(e6(e,Object.values(t)),function(e){let t={};if(e)for(let s in e)t[s]=e[s].input;return t}(t))}function tr(e,t){let s=e.dispose,a=!1;return e.dispose=()=>{a||(a=!0,s(),t.forEach(e=>{"dispose"in e&&e.dispose()}))},e}var tn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.param.lin(20,100,a.tone),r=s.conn.serial(s.conn.mix(s.osc.sin(s.env.ad(a.trigger,{attack:.1,decay:a.decay,offset:i,gain:50})),s.impulse.trigger(a.trigger)),s.amp.perc(a.trigger,.01,a.decay),s.clip.soft(5,.6));return s.withParams(r,a)},to=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.conn.mixInto([s.osc.sin(100),s.osc.sin(200)],s.amp.perc(a.trigger,.01,a.decay)),r=s.conn.serial(s.noise.white(),s.amp.perc(a.trigger,.01,a.decay)),n=s.conn.mixInto([i,r],s.gain(a.volume));return s.withParams(n,a)},tl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.param.lin(2400,2500,a.tone),r=s.param.lin(1e3,3e3,a.tone);return s.withParams(s.conn.serial(s.osc.tri(i),s.amp.perc(a.trigger,.01,a.decay),s.bqf.bandpass(r),s.amp(a.volume)),a)},tc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.param.lin(8e3,12e3,a.tone),r=s.param.add(-2e3,i),n=s.conn([263,400,421,474,587,845].map(e=>s.osc.square(e)),s.amp(.3));return s.withParams(s.conn(n,s.bqf.bandpass(i),s.bqf.hi(r),s.amp.perc(a.trigger,.01,a.decay),s.gain(a.volume)),a)},tf=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),{trigger:a,decay:i,volume:r,tone:n}=tR(s,t),o=s.param.lin(700,900,n),l=s.param.lin(440,540,n),c=s.param.mul(.1,i),f=s.conn([s.conn.serial(s.osc.square(o),s.amp.perc(a,.001,i)),s.conn.serial(s.osc.square(l),s.amp.perc(a,.001,c))],s.amp(r));return s.withParams(f,{trigger:a,volume:r,tone:n,decay:i})},tu=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),{trigger:a,decay:i,volume:r,tone:n}=tR(s,t),o=s.param.lin(440,540,n),l=s.param.lin(600,1700,n),c=s.param.lin(2e3,5e3,n),f=s.param.mul(.5,i),u=s.param.mul(.2,i),h=s.param.mul(5,i),p=s.conn([263,400,421,474,587,845].map(e=>s.osc.square(e)),s.amp(.3)),d=s.conn([s.conn(p,s.bqf.lp(o),s.amp.perc(a,.001,f)),s.conn(p,s.bqf.bandpass(l),s.amp.perc(a,.001,u)),s.conn(p,s.bqf.hi(c),s.amp.perc(a,.001,h))],s.amp(r));return s.withParams(d,{trigger:a,volume:r,tone:n,decay:i})},th=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.param.lin(4e3,6e3,a.tone),r=s.conn(s.noise.white(),s.bqf.hi(i),s.amp.perc(a.trigger,.02,a.decay),s.amp(a.volume));return s.withParams(r,a)},tp=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.param.lin(500,1500,a.tone),r=s.conn([s.conn(s.noise.white(),s.bqf.bandpass(i),s.amp.perc(a.trigger,.02,a.decay),s.gain(s.lfo.rampUp(100))),s.impulse.trigger(a.trigger)],s.clip.soft(2,.5),s.gain(a.volume));return s.withParams(r,a)},td=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.param.lin(125,240,a.tone),r=s.conn([s.conn(s.osc.sin(i),s.amp.perc(a.trigger,.01,a.decay)),s.conn(s.impulse.trigger(a.trigger),s.gain(.3)),s.conn(s.noise.pink(),s.amp.perc(a.trigger,.01,a.decay))],s.amp(a.volume));return s.withParams(r,a)},tm=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=ta(e),a=tR(s,t),i=s.param.lin(220,455,a.tone),r=s.conn([s.conn(s.osc.sin(i),s.amp.perc(a.trigger,.001,a.decay)),s.conn(s.impulse.trigger(a.trigger),s.gain(.3))],s.amp(1));return s.withParams(r,a)};function tR(e){var t,s,a;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.param(i.trigger);return{trigger:r,decay:e.param(null!==(t=i.decay)&&void 0!==t?t:.5),volume:e.param.db(null!==(s=i.volume)&&void 0!==s?s:0),tone:e.param(null!==(a=i.tone)&&void 0!==a?a:.5)}}function tg(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=ta(e),i=a.param(s.gate),r=a.param.db(null!==(t=s.volume)&&void 0!==t?t:0),n=a.polyblep({frequency:s.frequency,...s.osc}),o=a.lfo({type:ek.Sine,gain:0,frequency:10});o.connect(n.frequency);let l=a.env.adsr(i,{gain:3e3,offset:2e3}),c=a.svf({frequency:l}),f=a.amp.adsr(i,{...s.amp});return a.synth({out:a.conn.serial(n,c,f,a.amp(r)),params:{gate:i,volume:r},modules:{osc:n,filterEnv:l,filter:c,amp:f,vibrato:o}})}function ty(e){return Promise.all([er(e),et(e),ef(e),ed(e),eh(e),eg(e),ev(e),ex(e),eO(e),ew(e),eN(e),eP(e),eE(e),eE(e),eW(e),eq(e),eH(e),eZ(e),eY(e),e3(e)]).then(()=>e)}}}]);